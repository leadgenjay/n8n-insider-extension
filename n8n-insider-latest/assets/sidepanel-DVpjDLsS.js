(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function s(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(u){if(u.ep)return;u.ep=!0;const d=s(u);fetch(u.href,d)}})();function Ag(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Mu={exports:{}},Es={};var Am;function Mv(){if(Am)return Es;Am=1;var r=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(l,u,d){var f=null;if(d!==void 0&&(f=""+d),u.key!==void 0&&(f=""+u.key),"key"in u){d={};for(var g in u)g!=="key"&&(d[g]=u[g])}else d=u;return u=d.ref,{$$typeof:r,type:l,key:f,ref:u!==void 0?u:null,props:d}}return Es.Fragment=a,Es.jsx=s,Es.jsxs=s,Es}var km;function Bv(){return km||(km=1,Mu.exports=Mv()),Mu.exports}var v=Bv(),Bu={exports:{}},ce={};var Om;function qv(){if(Om)return ce;Om=1;var r=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),E=Symbol.iterator;function A(_){return _===null||typeof _!="object"?null:(_=E&&_[E]||_["@@iterator"],typeof _=="function"?_:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,q={};function V(_,M,G){this.props=_,this.context=M,this.refs=q,this.updater=G||U}V.prototype.isReactComponent={},V.prototype.setState=function(_,M){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,M,"setState")},V.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function $(){}$.prototype=V.prototype;function H(_,M,G){this.props=_,this.context=M,this.refs=q,this.updater=G||U}var J=H.prototype=new $;J.constructor=H,N(J,V.prototype),J.isPureReactComponent=!0;var oe=Array.isArray;function te(){}var X={H:null,A:null,T:null,S:null},Y=Object.prototype.hasOwnProperty;function pe(_,M,G){var K=G.ref;return{$$typeof:r,type:_,key:M,ref:K!==void 0?K:null,props:G}}function Ye(_,M){return pe(_.type,M,_.props)}function Ve(_){return typeof _=="object"&&_!==null&&_.$$typeof===r}function De(_){var M={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(G){return M[G]})}var at=/\/+/g;function lt(_,M){return typeof _=="object"&&_!==null&&_.key!=null?De(""+_.key):M.toString(36)}function be(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(te,te):(_.status="pending",_.then(function(M){_.status==="pending"&&(_.status="fulfilled",_.value=M)},function(M){_.status==="pending"&&(_.status="rejected",_.reason=M)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function R(_,M,G,K,ue){var me=typeof _;(me==="undefined"||me==="boolean")&&(_=null);var le=!1;if(_===null)le=!0;else switch(me){case"bigint":case"string":case"number":le=!0;break;case"object":switch(_.$$typeof){case r:case a:le=!0;break;case b:return le=_._init,R(le(_._payload),M,G,K,ue)}}if(le)return ue=ue(_),le=K===""?"."+lt(_,0):K,oe(ue)?(G="",le!=null&&(G=le.replace(at,"$&/")+"/"),R(ue,M,G,"",function(en){return en})):ue!=null&&(Ve(ue)&&(ue=Ye(ue,G+(ue.key==null||_&&_.key===ue.key?"":(""+ue.key).replace(at,"$&/")+"/")+le)),M.push(ue)),1;le=0;var rt=K===""?".":K+":";if(oe(_))for(var Re=0;Re<_.length;Re++)K=_[Re],me=rt+lt(K,Re),le+=R(K,M,G,me,ue);else if(Re=A(_),typeof Re=="function")for(_=Re.call(_),Re=0;!(K=_.next()).done;)K=K.value,me=rt+lt(K,Re++),le+=R(K,M,G,me,ue);else if(me==="object"){if(typeof _.then=="function")return R(be(_),M,G,K,ue);throw M=String(_),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return le}function I(_,M,G){if(_==null)return _;var K=[],ue=0;return R(_,K,"","",function(me){return M.call(G,me,ue++)}),K}function z(_){if(_._status===-1){var M=_._result;M=M(),M.then(function(G){(_._status===0||_._status===-1)&&(_._status=1,_._result=G)},function(G){(_._status===0||_._status===-1)&&(_._status=2,_._result=G)}),_._status===-1&&(_._status=0,_._result=M)}if(_._status===1)return _._result.default;throw _._result}var ae=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},Z={map:I,forEach:function(_,M,G){I(_,function(){M.apply(this,arguments)},G)},count:function(_){var M=0;return I(_,function(){M++}),M},toArray:function(_){return I(_,function(M){return M})||[]},only:function(_){if(!Ve(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return ce.Activity=x,ce.Children=Z,ce.Component=V,ce.Fragment=s,ce.Profiler=u,ce.PureComponent=H,ce.StrictMode=l,ce.Suspense=m,ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,ce.__COMPILER_RUNTIME={__proto__:null,c:function(_){return X.H.useMemoCache(_)}},ce.cache=function(_){return function(){return _.apply(null,arguments)}},ce.cacheSignal=function(){return null},ce.cloneElement=function(_,M,G){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var K=N({},_.props),ue=_.key;if(M!=null)for(me in M.key!==void 0&&(ue=""+M.key),M)!Y.call(M,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&M.ref===void 0||(K[me]=M[me]);var me=arguments.length-2;if(me===1)K.children=G;else if(1<me){for(var le=Array(me),rt=0;rt<me;rt++)le[rt]=arguments[rt+2];K.children=le}return pe(_.type,ue,K)},ce.createContext=function(_){return _={$$typeof:f,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:d,_context:_},_},ce.createElement=function(_,M,G){var K,ue={},me=null;if(M!=null)for(K in M.key!==void 0&&(me=""+M.key),M)Y.call(M,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ue[K]=M[K]);var le=arguments.length-2;if(le===1)ue.children=G;else if(1<le){for(var rt=Array(le),Re=0;Re<le;Re++)rt[Re]=arguments[Re+2];ue.children=rt}if(_&&_.defaultProps)for(K in le=_.defaultProps,le)ue[K]===void 0&&(ue[K]=le[K]);return pe(_,me,ue)},ce.createRef=function(){return{current:null}},ce.forwardRef=function(_){return{$$typeof:g,render:_}},ce.isValidElement=Ve,ce.lazy=function(_){return{$$typeof:b,_payload:{_status:-1,_result:_},_init:z}},ce.memo=function(_,M){return{$$typeof:p,type:_,compare:M===void 0?null:M}},ce.startTransition=function(_){var M=X.T,G={};X.T=G;try{var K=_(),ue=X.S;ue!==null&&ue(G,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(te,ae)}catch(me){ae(me)}finally{M!==null&&G.types!==null&&(M.types=G.types),X.T=M}},ce.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},ce.use=function(_){return X.H.use(_)},ce.useActionState=function(_,M,G){return X.H.useActionState(_,M,G)},ce.useCallback=function(_,M){return X.H.useCallback(_,M)},ce.useContext=function(_){return X.H.useContext(_)},ce.useDebugValue=function(){},ce.useDeferredValue=function(_,M){return X.H.useDeferredValue(_,M)},ce.useEffect=function(_,M){return X.H.useEffect(_,M)},ce.useEffectEvent=function(_){return X.H.useEffectEvent(_)},ce.useId=function(){return X.H.useId()},ce.useImperativeHandle=function(_,M,G){return X.H.useImperativeHandle(_,M,G)},ce.useInsertionEffect=function(_,M){return X.H.useInsertionEffect(_,M)},ce.useLayoutEffect=function(_,M){return X.H.useLayoutEffect(_,M)},ce.useMemo=function(_,M){return X.H.useMemo(_,M)},ce.useOptimistic=function(_,M){return X.H.useOptimistic(_,M)},ce.useReducer=function(_,M,G){return X.H.useReducer(_,M,G)},ce.useRef=function(_){return X.H.useRef(_)},ce.useState=function(_){return X.H.useState(_)},ce.useSyncExternalStore=function(_,M,G){return X.H.useSyncExternalStore(_,M,G)},ce.useTransition=function(){return X.H.useTransition()},ce.version="19.2.3",ce}var Cm;function hc(){return Cm||(Cm=1,Bu.exports=qv()),Bu.exports}var fe=hc();const ks=Ag(fe);var qu={exports:{}},Ts={},Lu={exports:{}},Hu={};var Nm;function Lv(){return Nm||(Nm=1,(function(r){function a(R,I){var z=R.length;R.push(I);e:for(;0<z;){var ae=z-1>>>1,Z=R[ae];if(0<u(Z,I))R[ae]=I,R[z]=Z,z=ae;else break e}}function s(R){return R.length===0?null:R[0]}function l(R){if(R.length===0)return null;var I=R[0],z=R.pop();if(z!==I){R[0]=z;e:for(var ae=0,Z=R.length,_=Z>>>1;ae<_;){var M=2*(ae+1)-1,G=R[M],K=M+1,ue=R[K];if(0>u(G,z))K<Z&&0>u(ue,G)?(R[ae]=ue,R[K]=z,ae=K):(R[ae]=G,R[M]=z,ae=M);else if(K<Z&&0>u(ue,z))R[ae]=ue,R[K]=z,ae=K;else break e}}return I}function u(R,I){var z=R.sortIndex-I.sortIndex;return z!==0?z:R.id-I.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;r.unstable_now=function(){return d.now()}}else{var f=Date,g=f.now();r.unstable_now=function(){return f.now()-g}}var m=[],p=[],b=1,x=null,E=3,A=!1,U=!1,N=!1,q=!1,V=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function J(R){for(var I=s(p);I!==null;){if(I.callback===null)l(p);else if(I.startTime<=R)l(p),I.sortIndex=I.expirationTime,a(m,I);else break;I=s(p)}}function oe(R){if(N=!1,J(R),!U)if(s(m)!==null)U=!0,te||(te=!0,De());else{var I=s(p);I!==null&&be(oe,I.startTime-R)}}var te=!1,X=-1,Y=5,pe=-1;function Ye(){return q?!0:!(r.unstable_now()-pe<Y)}function Ve(){if(q=!1,te){var R=r.unstable_now();pe=R;var I=!0;try{e:{U=!1,N&&(N=!1,$(X),X=-1),A=!0;var z=E;try{t:{for(J(R),x=s(m);x!==null&&!(x.expirationTime>R&&Ye());){var ae=x.callback;if(typeof ae=="function"){x.callback=null,E=x.priorityLevel;var Z=ae(x.expirationTime<=R);if(R=r.unstable_now(),typeof Z=="function"){x.callback=Z,J(R),I=!0;break t}x===s(m)&&l(m),J(R)}else l(m);x=s(m)}if(x!==null)I=!0;else{var _=s(p);_!==null&&be(oe,_.startTime-R),I=!1}}break e}finally{x=null,E=z,A=!1}I=void 0}}finally{I?De():te=!1}}}var De;if(typeof H=="function")De=function(){H(Ve)};else if(typeof MessageChannel<"u"){var at=new MessageChannel,lt=at.port2;at.port1.onmessage=Ve,De=function(){lt.postMessage(null)}}else De=function(){V(Ve,0)};function be(R,I){X=V(function(){R(r.unstable_now())},I)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(R){R.callback=null},r.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<R?Math.floor(1e3/R):5},r.unstable_getCurrentPriorityLevel=function(){return E},r.unstable_next=function(R){switch(E){case 1:case 2:case 3:var I=3;break;default:I=E}var z=E;E=I;try{return R()}finally{E=z}},r.unstable_requestPaint=function(){q=!0},r.unstable_runWithPriority=function(R,I){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var z=E;E=R;try{return I()}finally{E=z}},r.unstable_scheduleCallback=function(R,I,z){var ae=r.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?ae+z:ae):z=ae,R){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=z+Z,R={id:b++,callback:I,priorityLevel:R,startTime:z,expirationTime:Z,sortIndex:-1},z>ae?(R.sortIndex=z,a(p,R),s(m)===null&&R===s(p)&&(N?($(X),X=-1):N=!0,be(oe,z-ae))):(R.sortIndex=Z,a(m,R),U||A||(U=!0,te||(te=!0,De()))),R},r.unstable_shouldYield=Ye,r.unstable_wrapCallback=function(R){var I=E;return function(){var z=E;E=I;try{return R.apply(this,arguments)}finally{E=z}}}})(Hu)),Hu}var jm;function Hv(){return jm||(jm=1,Lu.exports=Lv()),Lu.exports}var $u={exports:{}},gt={};var Rm;function $v(){if(Rm)return gt;Rm=1;var r=hc();function a(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(m,p,b){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:x==null?null:""+x,children:m,containerInfo:p,implementation:b}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,gt.createPortal=function(m,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(a(299));return d(m,p,null,b)},gt.flushSync=function(m){var p=f.T,b=l.p;try{if(f.T=null,l.p=2,m)return m()}finally{f.T=p,l.p=b,l.d.f()}},gt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(m,p))},gt.prefetchDNS=function(m){typeof m=="string"&&l.d.D(m)},gt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var b=p.as,x=g(b,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?l.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:E,fetchPriority:A}):b==="script"&&l.d.X(m,{crossOrigin:x,integrity:E,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},gt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=g(p.as,p.crossOrigin);l.d.M(m,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(m)},gt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,x=g(b,p.crossOrigin);l.d.L(m,b,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},gt.preloadModule=function(m,p){if(typeof m=="string")if(p){var b=g(p.as,p.crossOrigin);l.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(m)},gt.requestFormReset=function(m){l.d.r(m)},gt.unstable_batchedUpdates=function(m,p){return m(p)},gt.useFormState=function(m,p,b){return f.H.useFormState(m,p,b)},gt.useFormStatus=function(){return f.H.useHostTransitionStatus()},gt.version="19.2.3",gt}var Um;function Gv(){if(Um)return $u.exports;Um=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(a){console.error(a)}}return r(),$u.exports=$v(),$u.exports}var Dm;function Vv(){if(Dm)return Ts;Dm=1;var r=Hv(),a=hc(),s=Gv();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(d(e)!==e)throw Error(l(188))}function p(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(l(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(o===null)break;var c=o.alternate;if(c===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===n)return m(o),e;if(c===i)return m(o),t;c=c.sibling}throw Error(l(188))}if(n.return!==i.return)n=o,i=c;else{for(var h=!1,y=o.child;y;){if(y===n){h=!0,n=o,i=c;break}if(y===i){h=!0,i=o,n=c;break}y=y.sibling}if(!h){for(y=c.child;y;){if(y===n){h=!0,n=c,i=o;break}if(y===i){h=!0,i=c,n=o;break}y=y.sibling}if(!h)throw Error(l(189))}}if(n.alternate!==i)throw Error(l(190))}if(n.tag!==3)throw Error(l(188));return n.stateNode.current===n?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var x=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),H=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),pe=Symbol.for("react.activity"),Ye=Symbol.for("react.memo_cache_sentinel"),Ve=Symbol.iterator;function De(e){return e===null||typeof e!="object"?null:(e=Ve&&e[Ve]||e["@@iterator"],typeof e=="function"?e:null)}var at=Symbol.for("react.client.reference");function lt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===at?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case V:return"Profiler";case q:return"StrictMode";case oe:return"Suspense";case te:return"SuspenseList";case pe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case U:return"Portal";case H:return e.displayName||"Context";case $:return(e._context.displayName||"Context")+".Consumer";case J:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return t=e.displayName||null,t!==null?t:lt(e.type)||"Memo";case Y:t=e._payload,e=e._init;try{return lt(e(t))}catch{}}return null}var be=Array.isArray,R=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},ae=[],Z=-1;function _(e){return{current:e}}function M(e){0>Z||(e.current=ae[Z],ae[Z]=null,Z--)}function G(e,t){Z++,ae[Z]=e.current,e.current=t}var K=_(null),ue=_(null),me=_(null),le=_(null);function rt(e,t){switch(G(me,t),G(ue,e),G(K,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Qh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Qh(t),e=Zh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}M(K),G(K,e)}function Re(){M(K),M(ue),M(me)}function en(e){e.memoizedState!==null&&G(le,e);var t=K.current,n=Zh(t,e.type);t!==n&&(G(ue,e),G(K,n))}function On(e){ue.current===e&&(M(K),M(ue)),le.current===e&&(M(le),ws._currentValue=z)}var Cn,Ec;function ra(e){if(Cn===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Cn=t&&t[1]||"",Ec=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cn+e+Ec}var vl=!1;function bl(e,t){if(!e||vl)return"";vl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var L=function(){throw Error()};if(Object.defineProperty(L.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(L,[])}catch(j){var C=j}Reflect.construct(e,[],L)}else{try{L.call()}catch(j){C=j}e.call(L.prototype)}}else{try{throw Error()}catch(j){C=j}(L=e())&&typeof L.catch=="function"&&L.catch(function(){})}}catch(j){if(j&&C&&typeof j.stack=="string")return[j.stack,C.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=i.DetermineComponentFrameRoot(),h=c[0],y=c[1];if(h&&y){var w=h.split(`
`),O=y.split(`
`);for(o=i=0;i<w.length&&!w[i].includes("DetermineComponentFrameRoot");)i++;for(;o<O.length&&!O[o].includes("DetermineComponentFrameRoot");)o++;if(i===w.length||o===O.length)for(i=w.length-1,o=O.length-1;1<=i&&0<=o&&w[i]!==O[o];)o--;for(;1<=i&&0<=o;i--,o--)if(w[i]!==O[o]){if(i!==1||o!==1)do if(i--,o--,0>o||w[i]!==O[o]){var D=`
`+w[i].replace(" at new "," at ");return e.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",e.displayName)),D}while(1<=i&&0<=o);break}}}finally{vl=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ra(n):""}function hp(e,t){switch(e.tag){case 26:case 27:case 5:return ra(e.type);case 16:return ra("Lazy");case 13:return e.child!==t&&t!==null?ra("Suspense Fallback"):ra("Suspense");case 19:return ra("SuspenseList");case 0:case 15:return bl(e.type,!1);case 11:return bl(e.type.render,!1);case 1:return bl(e.type,!0);case 31:return ra("Activity");default:return""}}function Tc(e){try{var t="",n=null;do t+=hp(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var wl=Object.prototype.hasOwnProperty,_l=r.unstable_scheduleCallback,Sl=r.unstable_cancelCallback,mp=r.unstable_shouldYield,gp=r.unstable_requestPaint,Tt=r.unstable_now,pp=r.unstable_getCurrentPriorityLevel,Ac=r.unstable_ImmediatePriority,kc=r.unstable_UserBlockingPriority,Hs=r.unstable_NormalPriority,yp=r.unstable_LowPriority,Oc=r.unstable_IdlePriority,vp=r.log,bp=r.unstable_setDisableYieldValue,Rr=null,At=null;function Nn(e){if(typeof vp=="function"&&bp(e),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(Rr,e)}catch{}}var kt=Math.clz32?Math.clz32:Sp,wp=Math.log,_p=Math.LN2;function Sp(e){return e>>>=0,e===0?32:31-(wp(e)/_p|0)|0}var $s=256,Gs=262144,Vs=4194304;function sa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Is(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var o=0,c=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var y=i&134217727;return y!==0?(i=y&~c,i!==0?o=sa(i):(h&=y,h!==0?o=sa(h):n||(n=y&~e,n!==0&&(o=sa(n))))):(y=i&~c,y!==0?o=sa(y):h!==0?o=sa(h):n||(n=i&~e,n!==0&&(o=sa(n)))),o===0?0:t!==0&&t!==o&&(t&c)===0&&(c=o&-o,n=t&-t,c>=n||c===32&&(n&4194048)!==0)?t:o}function Ur(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function xp(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cc(){var e=Vs;return Vs<<=1,(Vs&62914560)===0&&(Vs=4194304),e}function xl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Dr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ep(e,t,n,i,o,c){var h=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var y=e.entanglements,w=e.expirationTimes,O=e.hiddenUpdates;for(n=h&~n;0<n;){var D=31-kt(n),L=1<<D;y[D]=0,w[D]=-1;var C=O[D];if(C!==null)for(O[D]=null,D=0;D<C.length;D++){var j=C[D];j!==null&&(j.lane&=-536870913)}n&=~L}i!==0&&Nc(e,i,0),c!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=c&~(h&~t))}function Nc(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-kt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function jc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-kt(n),o=1<<i;o&t|e[i]&t&&(e[i]|=t),n&=~o}}function Rc(e,t){var n=t&-t;return n=(n&42)!==0?1:El(n),(n&(e.suspendedLanes|t))!==0?0:n}function El(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Tl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Uc(){var e=I.p;return e!==0?e:(e=window.event,e===void 0?32:bm(e.type))}function Dc(e,t){var n=I.p;try{return I.p=e,t()}finally{I.p=n}}var jn=Math.random().toString(36).slice(2),ot="__reactFiber$"+jn,vt="__reactProps$"+jn,ja="__reactContainer$"+jn,Al="__reactEvents$"+jn,Tp="__reactListeners$"+jn,Ap="__reactHandles$"+jn,zc="__reactResources$"+jn,zr="__reactMarker$"+jn;function kl(e){delete e[ot],delete e[vt],delete e[Al],delete e[Tp],delete e[Ap]}function Ra(e){var t=e[ot];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ja]||n[ot]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=am(e);e!==null;){if(n=e[ot])return n;e=am(e)}return t}e=n,n=e.parentNode}return null}function Ua(e){if(e=e[ot]||e[ja]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Mr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Da(e){var t=e[zc];return t||(t=e[zc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function st(e){e[zr]=!0}var Mc=new Set,Bc={};function ia(e,t){za(e,t),za(e+"Capture",t)}function za(e,t){for(Bc[e]=t,e=0;e<t.length;e++)Mc.add(t[e])}var kp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qc={},Lc={};function Op(e){return wl.call(Lc,e)?!0:wl.call(qc,e)?!1:kp.test(e)?Lc[e]=!0:(qc[e]=!0,!1)}function Ks(e,t,n){if(Op(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Ys(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ln(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function qt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Cp(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,c=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(h){n=""+h,c.call(this,h)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(h){n=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ol(e){if(!e._valueTracker){var t=Hc(e)?"checked":"value";e._valueTracker=Cp(e,t,""+e[t])}}function $c(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Hc(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Js(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Np=/[\n"\\]/g;function Lt(e){return e.replace(Np,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Cl(e,t,n,i,o,c,h,y){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+qt(t)):e.value!==""+qt(t)&&(e.value=""+qt(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?Nl(e,h,qt(t)):n!=null?Nl(e,h,qt(n)):i!=null&&e.removeAttribute("value"),o==null&&c!=null&&(e.defaultChecked=!!c),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+qt(y):e.removeAttribute("name")}function Gc(e,t,n,i,o,c,h,y){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||n!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){Ol(e);return}n=n!=null?""+qt(n):"",t=t!=null?""+qt(t):n,y||t===e.value||(e.value=t),e.defaultValue=t}i=i??o,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=y?e.checked:!!i,e.defaultChecked=!!i,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h),Ol(e)}function Nl(e,t,n){t==="number"&&Js(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ma(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+qt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Vc(e,t,n){if(t!=null&&(t=""+qt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+qt(n):""}function Ic(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(l(92));if(be(i)){if(1<i.length)throw Error(l(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=qt(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),Ol(e)}function Ba(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var jp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kc(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||jp.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Yc(e,t,n){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var o in t)i=t[o],t.hasOwnProperty(o)&&n[o]!==i&&Kc(e,o,i)}else for(var c in t)t.hasOwnProperty(c)&&Kc(e,c,t[c])}function jl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Up=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xs(e){return Up.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function on(){}var Rl=null;function Ul(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qa=null,La=null;function Jc(e){var t=Ua(e);if(t&&(e=t.stateNode)){var n=e[vt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Cl(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Lt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=i[vt]||null;if(!o)throw Error(l(90));Cl(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&$c(i)}break e;case"textarea":Vc(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ma(e,!!n.multiple,t,!1)}}}var Dl=!1;function Xc(e,t,n){if(Dl)return e(t,n);Dl=!0;try{var i=e(t);return i}finally{if(Dl=!1,(qa!==null||La!==null)&&(zi(),qa&&(t=qa,e=La,La=qa=null,Jc(t),e)))for(t=0;t<e.length;t++)Jc(e[t])}}function Br(e,t){var n=e.stateNode;if(n===null)return null;var i=n[vt]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(l(231,t,typeof n));return n}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zl=!1;if(un)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){zl=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{zl=!1}var Rn=null,Ml=null,Qs=null;function Qc(){if(Qs)return Qs;var e,t=Ml,n=t.length,i,o="value"in Rn?Rn.value:Rn.textContent,c=o.length;for(e=0;e<n&&t[e]===o[e];e++);var h=n-e;for(i=1;i<=h&&t[n-i]===o[c-i];i++);return Qs=o.slice(e,1<i?1-i:void 0)}function Zs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ps(){return!0}function Zc(){return!1}function bt(e){function t(n,i,o,c,h){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=c,this.target=h,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(n=e[y],this[y]=n?n(c):c[y]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Ps:Zc,this.isPropagationStopped=Zc,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ps)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ps)},persist:function(){},isPersistent:Ps}),t}var la={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ws=bt(la),Lr=x({},la,{view:0,detail:0}),Dp=bt(Lr),Bl,ql,Hr,Fs=x({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hr&&(Hr&&e.type==="mousemove"?(Bl=e.screenX-Hr.screenX,ql=e.screenY-Hr.screenY):ql=Bl=0,Hr=e),Bl)},movementY:function(e){return"movementY"in e?e.movementY:ql}}),Pc=bt(Fs),zp=x({},Fs,{dataTransfer:0}),Mp=bt(zp),Bp=x({},Lr,{relatedTarget:0}),Ll=bt(Bp),qp=x({},la,{animationName:0,elapsedTime:0,pseudoElement:0}),Lp=bt(qp),Hp=x({},la,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$p=bt(Hp),Gp=x({},la,{data:0}),Wc=bt(Gp),Vp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ip={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Kp[e])?!!t[e]:!1}function Hl(){return Yp}var Jp=x({},Lr,{key:function(e){if(e.key){var t=Vp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ip[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hl,charCode:function(e){return e.type==="keypress"?Zs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xp=bt(Jp),Qp=x({},Fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fc=bt(Qp),Zp=x({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hl}),Pp=bt(Zp),Wp=x({},la,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fp=bt(Wp),ey=x({},Fs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ty=bt(ey),ny=x({},la,{newState:0,oldState:0}),ay=bt(ny),ry=[9,13,27,32],$l=un&&"CompositionEvent"in window,$r=null;un&&"documentMode"in document&&($r=document.documentMode);var sy=un&&"TextEvent"in window&&!$r,ed=un&&(!$l||$r&&8<$r&&11>=$r),td=" ",nd=!1;function ad(e,t){switch(e){case"keyup":return ry.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ha=!1;function iy(e,t){switch(e){case"compositionend":return rd(t);case"keypress":return t.which!==32?null:(nd=!0,td);case"textInput":return e=t.data,e===td&&nd?null:e;default:return null}}function ly(e,t){if(Ha)return e==="compositionend"||!$l&&ad(e,t)?(e=Qc(),Qs=Ml=Rn=null,Ha=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ed&&t.locale!=="ko"?null:t.data;default:return null}}var oy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!oy[e.type]:t==="textarea"}function id(e,t,n,i){qa?La?La.push(i):La=[i]:qa=i,t=Gi(t,"onChange"),0<t.length&&(n=new Ws("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Gr=null,Vr=null;function uy(e){Vh(e,0)}function ei(e){var t=Mr(e);if($c(t))return e}function ld(e,t){if(e==="change")return t}var od=!1;if(un){var Gl;if(un){var Vl="oninput"in document;if(!Vl){var ud=document.createElement("div");ud.setAttribute("oninput","return;"),Vl=typeof ud.oninput=="function"}Gl=Vl}else Gl=!1;od=Gl&&(!document.documentMode||9<document.documentMode)}function cd(){Gr&&(Gr.detachEvent("onpropertychange",dd),Vr=Gr=null)}function dd(e){if(e.propertyName==="value"&&ei(Vr)){var t=[];id(t,Vr,e,Ul(e)),Xc(uy,t)}}function cy(e,t,n){e==="focusin"?(cd(),Gr=t,Vr=n,Gr.attachEvent("onpropertychange",dd)):e==="focusout"&&cd()}function dy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ei(Vr)}function fy(e,t){if(e==="click")return ei(t)}function hy(e,t){if(e==="input"||e==="change")return ei(t)}function my(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ot=typeof Object.is=="function"?Object.is:my;function Ir(e,t){if(Ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!wl.call(t,o)||!Ot(e[o],t[o]))return!1}return!0}function fd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hd(e,t){var n=fd(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fd(n)}}function md(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?md(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Js(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Js(e.document)}return t}function Il(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var gy=un&&"documentMode"in document&&11>=document.documentMode,$a=null,Kl=null,Kr=null,Yl=!1;function pd(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yl||$a==null||$a!==Js(i)||(i=$a,"selectionStart"in i&&Il(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Kr&&Ir(Kr,i)||(Kr=i,i=Gi(Kl,"onSelect"),0<i.length&&(t=new Ws("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=$a)))}function oa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ga={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionrun:oa("Transition","TransitionRun"),transitionstart:oa("Transition","TransitionStart"),transitioncancel:oa("Transition","TransitionCancel"),transitionend:oa("Transition","TransitionEnd")},Jl={},yd={};un&&(yd=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function ua(e){if(Jl[e])return Jl[e];if(!Ga[e])return e;var t=Ga[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in yd)return Jl[e]=t[n];return e}var vd=ua("animationend"),bd=ua("animationiteration"),wd=ua("animationstart"),py=ua("transitionrun"),yy=ua("transitionstart"),vy=ua("transitioncancel"),_d=ua("transitionend"),Sd=new Map,Xl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xl.push("scrollEnd");function Xt(e,t){Sd.set(e,t),ia(t,[e])}var ti=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ht=[],Va=0,Ql=0;function ni(){for(var e=Va,t=Ql=Va=0;t<e;){var n=Ht[t];Ht[t++]=null;var i=Ht[t];Ht[t++]=null;var o=Ht[t];Ht[t++]=null;var c=Ht[t];if(Ht[t++]=null,i!==null&&o!==null){var h=i.pending;h===null?o.next=o:(o.next=h.next,h.next=o),i.pending=o}c!==0&&xd(n,o,c)}}function ai(e,t,n,i){Ht[Va++]=e,Ht[Va++]=t,Ht[Va++]=n,Ht[Va++]=i,Ql|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Zl(e,t,n,i){return ai(e,t,n,i),ri(e)}function ca(e,t){return ai(e,null,null,t),ri(e)}function xd(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var o=!1,c=e.return;c!==null;)c.childLanes|=n,i=c.alternate,i!==null&&(i.childLanes|=n),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(o=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,o&&t!==null&&(o=31-kt(n),e=c.hiddenUpdates,i=e[o],i===null?e[o]=[t]:i.push(t),t.lane=n|536870912),c):null}function ri(e){if(50<hs)throw hs=0,iu=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ia={};function by(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,n,i){return new by(e,t,n,i)}function Pl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cn(e,t){var n=e.alternate;return n===null?(n=Ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ed(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function si(e,t,n,i,o,c){var h=0;if(i=e,typeof e=="function")Pl(e)&&(h=1);else if(typeof e=="string")h=Ev(e,n,K.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case pe:return e=Ct(31,n,t,o),e.elementType=pe,e.lanes=c,e;case N:return da(n.children,o,c,t);case q:h=8,o|=24;break;case V:return e=Ct(12,n,t,o|2),e.elementType=V,e.lanes=c,e;case oe:return e=Ct(13,n,t,o),e.elementType=oe,e.lanes=c,e;case te:return e=Ct(19,n,t,o),e.elementType=te,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:h=10;break e;case $:h=9;break e;case J:h=11;break e;case X:h=14;break e;case Y:h=16,i=null;break e}h=29,n=Error(l(130,e===null?"null":typeof e,"")),i=null}return t=Ct(h,n,t,o),t.elementType=e,t.type=i,t.lanes=c,t}function da(e,t,n,i){return e=Ct(7,e,i,t),e.lanes=n,e}function Wl(e,t,n){return e=Ct(6,e,null,t),e.lanes=n,e}function Td(e){var t=Ct(18,null,null,0);return t.stateNode=e,t}function Fl(e,t,n){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ad=new WeakMap;function $t(e,t){if(typeof e=="object"&&e!==null){var n=Ad.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Tc(t)},Ad.set(e,t),t)}return{value:e,source:t,stack:Tc(t)}}var Ka=[],Ya=0,ii=null,Yr=0,Gt=[],Vt=0,Un=null,tn=1,nn="";function dn(e,t){Ka[Ya++]=Yr,Ka[Ya++]=ii,ii=e,Yr=t}function kd(e,t,n){Gt[Vt++]=tn,Gt[Vt++]=nn,Gt[Vt++]=Un,Un=e;var i=tn;e=nn;var o=32-kt(i)-1;i&=~(1<<o),n+=1;var c=32-kt(t)+o;if(30<c){var h=o-o%5;c=(i&(1<<h)-1).toString(32),i>>=h,o-=h,tn=1<<32-kt(t)+o|n<<o|i,nn=c+e}else tn=1<<c|n<<o|i,nn=e}function eo(e){e.return!==null&&(dn(e,1),kd(e,1,0))}function to(e){for(;e===ii;)ii=Ka[--Ya],Ka[Ya]=null,Yr=Ka[--Ya],Ka[Ya]=null;for(;e===Un;)Un=Gt[--Vt],Gt[Vt]=null,nn=Gt[--Vt],Gt[Vt]=null,tn=Gt[--Vt],Gt[Vt]=null}function Od(e,t){Gt[Vt++]=tn,Gt[Vt++]=nn,Gt[Vt++]=Un,tn=t.id,nn=t.overflow,Un=e}var ut=null,ze=null,Se=!1,Dn=null,It=!1,no=Error(l(519));function zn(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jr($t(t,e)),no}function Cd(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[ot]=e,t[vt]=i,n){case"dialog":ve("cancel",t),ve("close",t);break;case"iframe":case"object":case"embed":ve("load",t);break;case"video":case"audio":for(n=0;n<gs.length;n++)ve(gs[n],t);break;case"source":ve("error",t);break;case"img":case"image":case"link":ve("error",t),ve("load",t);break;case"details":ve("toggle",t);break;case"input":ve("invalid",t),Gc(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ve("invalid",t);break;case"textarea":ve("invalid",t),Ic(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||Jh(t.textContent,n)?(i.popover!=null&&(ve("beforetoggle",t),ve("toggle",t)),i.onScroll!=null&&ve("scroll",t),i.onScrollEnd!=null&&ve("scrollend",t),i.onClick!=null&&(t.onclick=on),t=!0):t=!1,t||zn(e,!0)}function Nd(e){for(ut=e.return;ut;)switch(ut.tag){case 5:case 31:case 13:It=!1;return;case 27:case 3:It=!0;return;default:ut=ut.return}}function Ja(e){if(e!==ut)return!1;if(!Se)return Nd(e),Se=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||_u(e.type,e.memoizedProps)),n=!n),n&&ze&&zn(e),Nd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));ze=nm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));ze=nm(e)}else t===27?(t=ze,Qn(e.type)?(e=Au,Au=null,ze=e):ze=t):ze=ut?Yt(e.stateNode.nextSibling):null;return!0}function fa(){ze=ut=null,Se=!1}function ao(){var e=Dn;return e!==null&&(xt===null?xt=e:xt.push.apply(xt,e),Dn=null),e}function Jr(e){Dn===null?Dn=[e]:Dn.push(e)}var ro=_(null),ha=null,fn=null;function Mn(e,t,n){G(ro,t._currentValue),t._currentValue=n}function hn(e){e._currentValue=ro.current,M(ro)}function so(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function io(e,t,n,i){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){var h=o.child;c=c.firstContext;e:for(;c!==null;){var y=c;c=o;for(var w=0;w<t.length;w++)if(y.context===t[w]){c.lanes|=n,y=c.alternate,y!==null&&(y.lanes|=n),so(c.return,n,e),i||(h=null);break e}c=y.next}}else if(o.tag===18){if(h=o.return,h===null)throw Error(l(341));h.lanes|=n,c=h.alternate,c!==null&&(c.lanes|=n),so(h,n,e),h=null}else h=o.child;if(h!==null)h.return=o;else for(h=o;h!==null;){if(h===e){h=null;break}if(o=h.sibling,o!==null){o.return=h.return,h=o;break}h=h.return}o=h}}function Xa(e,t,n,i){e=null;for(var o=t,c=!1;o!==null;){if(!c){if((o.flags&524288)!==0)c=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var h=o.alternate;if(h===null)throw Error(l(387));if(h=h.memoizedProps,h!==null){var y=o.type;Ot(o.pendingProps.value,h.value)||(e!==null?e.push(y):e=[y])}}else if(o===le.current){if(h=o.alternate,h===null)throw Error(l(387));h.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(ws):e=[ws])}o=o.return}e!==null&&io(t,e,n,i),t.flags|=262144}function li(e){for(e=e.firstContext;e!==null;){if(!Ot(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ma(e){ha=e,fn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ct(e){return jd(ha,e)}function oi(e,t){return ha===null&&ma(e),jd(e,t)}function jd(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},fn===null){if(e===null)throw Error(l(308));fn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else fn=fn.next=t;return n}var wy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},_y=r.unstable_scheduleCallback,Sy=r.unstable_NormalPriority,Je={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lo(){return{controller:new wy,data:new Map,refCount:0}}function Xr(e){e.refCount--,e.refCount===0&&_y(Sy,function(){e.controller.abort()})}var Qr=null,oo=0,Qa=0,Za=null;function xy(e,t){if(Qr===null){var n=Qr=[];oo=0,Qa=fu(),Za={status:"pending",value:void 0,then:function(i){n.push(i)}}}return oo++,t.then(Rd,Rd),t}function Rd(){if(--oo===0&&Qr!==null){Za!==null&&(Za.status="fulfilled");var e=Qr;Qr=null,Qa=0,Za=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ey(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(i.status="rejected",i.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),i}var Ud=R.S;R.S=function(e,t){yh=Tt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&xy(e,t),Ud!==null&&Ud(e,t)};var ga=_(null);function uo(){var e=ga.current;return e!==null?e:je.pooledCache}function ui(e,t){t===null?G(ga,ga.current):G(ga,t.pool)}function Dd(){var e=uo();return e===null?null:{parent:Je._currentValue,pool:e}}var Pa=Error(l(460)),co=Error(l(474)),ci=Error(l(542)),di={then:function(){}};function zd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Md(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(on,on),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,qd(e),e;default:if(typeof t.status=="string")t.then(on,on);else{if(e=je,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=i}},function(i){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,qd(e),e}throw ya=t,Pa}}function pa(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ya=n,Pa):n}}var ya=null;function Bd(){if(ya===null)throw Error(l(459));var e=ya;return ya=null,e}function qd(e){if(e===Pa||e===ci)throw Error(l(483))}var Wa=null,Zr=0;function fi(e){var t=Zr;return Zr+=1,Wa===null&&(Wa=[]),Md(Wa,e,t)}function Pr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function hi(e,t){throw t.$$typeof===E?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ld(e){function t(T,S){if(e){var k=T.deletions;k===null?(T.deletions=[S],T.flags|=16):k.push(S)}}function n(T,S){if(!e)return null;for(;S!==null;)t(T,S),S=S.sibling;return null}function i(T){for(var S=new Map;T!==null;)T.key!==null?S.set(T.key,T):S.set(T.index,T),T=T.sibling;return S}function o(T,S){return T=cn(T,S),T.index=0,T.sibling=null,T}function c(T,S,k){return T.index=k,e?(k=T.alternate,k!==null?(k=k.index,k<S?(T.flags|=67108866,S):k):(T.flags|=67108866,S)):(T.flags|=1048576,S)}function h(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function y(T,S,k,B){return S===null||S.tag!==6?(S=Wl(k,T.mode,B),S.return=T,S):(S=o(S,k),S.return=T,S)}function w(T,S,k,B){var ne=k.type;return ne===N?D(T,S,k.props.children,B,k.key):S!==null&&(S.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===Y&&pa(ne)===S.type)?(S=o(S,k.props),Pr(S,k),S.return=T,S):(S=si(k.type,k.key,k.props,null,T.mode,B),Pr(S,k),S.return=T,S)}function O(T,S,k,B){return S===null||S.tag!==4||S.stateNode.containerInfo!==k.containerInfo||S.stateNode.implementation!==k.implementation?(S=Fl(k,T.mode,B),S.return=T,S):(S=o(S,k.children||[]),S.return=T,S)}function D(T,S,k,B,ne){return S===null||S.tag!==7?(S=da(k,T.mode,B,ne),S.return=T,S):(S=o(S,k),S.return=T,S)}function L(T,S,k){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=Wl(""+S,T.mode,k),S.return=T,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case A:return k=si(S.type,S.key,S.props,null,T.mode,k),Pr(k,S),k.return=T,k;case U:return S=Fl(S,T.mode,k),S.return=T,S;case Y:return S=pa(S),L(T,S,k)}if(be(S)||De(S))return S=da(S,T.mode,k,null),S.return=T,S;if(typeof S.then=="function")return L(T,fi(S),k);if(S.$$typeof===H)return L(T,oi(T,S),k);hi(T,S)}return null}function C(T,S,k,B){var ne=S!==null?S.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ne!==null?null:y(T,S,""+k,B);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case A:return k.key===ne?w(T,S,k,B):null;case U:return k.key===ne?O(T,S,k,B):null;case Y:return k=pa(k),C(T,S,k,B)}if(be(k)||De(k))return ne!==null?null:D(T,S,k,B,null);if(typeof k.then=="function")return C(T,S,fi(k),B);if(k.$$typeof===H)return C(T,S,oi(T,k),B);hi(T,k)}return null}function j(T,S,k,B,ne){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return T=T.get(k)||null,y(S,T,""+B,ne);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case A:return T=T.get(B.key===null?k:B.key)||null,w(S,T,B,ne);case U:return T=T.get(B.key===null?k:B.key)||null,O(S,T,B,ne);case Y:return B=pa(B),j(T,S,k,B,ne)}if(be(B)||De(B))return T=T.get(k)||null,D(S,T,B,ne,null);if(typeof B.then=="function")return j(T,S,k,fi(B),ne);if(B.$$typeof===H)return j(T,S,k,oi(S,B),ne);hi(S,B)}return null}function Q(T,S,k,B){for(var ne=null,xe=null,F=S,he=S=0,_e=null;F!==null&&he<k.length;he++){F.index>he?(_e=F,F=null):_e=F.sibling;var Ee=C(T,F,k[he],B);if(Ee===null){F===null&&(F=_e);break}e&&F&&Ee.alternate===null&&t(T,F),S=c(Ee,S,he),xe===null?ne=Ee:xe.sibling=Ee,xe=Ee,F=_e}if(he===k.length)return n(T,F),Se&&dn(T,he),ne;if(F===null){for(;he<k.length;he++)F=L(T,k[he],B),F!==null&&(S=c(F,S,he),xe===null?ne=F:xe.sibling=F,xe=F);return Se&&dn(T,he),ne}for(F=i(F);he<k.length;he++)_e=j(F,T,he,k[he],B),_e!==null&&(e&&_e.alternate!==null&&F.delete(_e.key===null?he:_e.key),S=c(_e,S,he),xe===null?ne=_e:xe.sibling=_e,xe=_e);return e&&F.forEach(function(ea){return t(T,ea)}),Se&&dn(T,he),ne}function re(T,S,k,B){if(k==null)throw Error(l(151));for(var ne=null,xe=null,F=S,he=S=0,_e=null,Ee=k.next();F!==null&&!Ee.done;he++,Ee=k.next()){F.index>he?(_e=F,F=null):_e=F.sibling;var ea=C(T,F,Ee.value,B);if(ea===null){F===null&&(F=_e);break}e&&F&&ea.alternate===null&&t(T,F),S=c(ea,S,he),xe===null?ne=ea:xe.sibling=ea,xe=ea,F=_e}if(Ee.done)return n(T,F),Se&&dn(T,he),ne;if(F===null){for(;!Ee.done;he++,Ee=k.next())Ee=L(T,Ee.value,B),Ee!==null&&(S=c(Ee,S,he),xe===null?ne=Ee:xe.sibling=Ee,xe=Ee);return Se&&dn(T,he),ne}for(F=i(F);!Ee.done;he++,Ee=k.next())Ee=j(F,T,he,Ee.value,B),Ee!==null&&(e&&Ee.alternate!==null&&F.delete(Ee.key===null?he:Ee.key),S=c(Ee,S,he),xe===null?ne=Ee:xe.sibling=Ee,xe=Ee);return e&&F.forEach(function(zv){return t(T,zv)}),Se&&dn(T,he),ne}function Ne(T,S,k,B){if(typeof k=="object"&&k!==null&&k.type===N&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case A:e:{for(var ne=k.key;S!==null;){if(S.key===ne){if(ne=k.type,ne===N){if(S.tag===7){n(T,S.sibling),B=o(S,k.props.children),B.return=T,T=B;break e}}else if(S.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===Y&&pa(ne)===S.type){n(T,S.sibling),B=o(S,k.props),Pr(B,k),B.return=T,T=B;break e}n(T,S);break}else t(T,S);S=S.sibling}k.type===N?(B=da(k.props.children,T.mode,B,k.key),B.return=T,T=B):(B=si(k.type,k.key,k.props,null,T.mode,B),Pr(B,k),B.return=T,T=B)}return h(T);case U:e:{for(ne=k.key;S!==null;){if(S.key===ne)if(S.tag===4&&S.stateNode.containerInfo===k.containerInfo&&S.stateNode.implementation===k.implementation){n(T,S.sibling),B=o(S,k.children||[]),B.return=T,T=B;break e}else{n(T,S);break}else t(T,S);S=S.sibling}B=Fl(k,T.mode,B),B.return=T,T=B}return h(T);case Y:return k=pa(k),Ne(T,S,k,B)}if(be(k))return Q(T,S,k,B);if(De(k)){if(ne=De(k),typeof ne!="function")throw Error(l(150));return k=ne.call(k),re(T,S,k,B)}if(typeof k.then=="function")return Ne(T,S,fi(k),B);if(k.$$typeof===H)return Ne(T,S,oi(T,k),B);hi(T,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,S!==null&&S.tag===6?(n(T,S.sibling),B=o(S,k),B.return=T,T=B):(n(T,S),B=Wl(k,T.mode,B),B.return=T,T=B),h(T)):n(T,S)}return function(T,S,k,B){try{Zr=0;var ne=Ne(T,S,k,B);return Wa=null,ne}catch(F){if(F===Pa||F===ci)throw F;var xe=Ct(29,F,null,T.mode);return xe.lanes=B,xe.return=T,xe}}}var va=Ld(!0),Hd=Ld(!1),Bn=!1;function fo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ho(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ln(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Te&2)!==0){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,t=ri(e),xd(e,null,n),t}return ai(e,i,t,n),ri(e)}function Wr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,jc(e,n)}}function mo(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var h={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};c===null?o=c=h:c=c.next=h,n=n.next}while(n!==null);c===null?o=c=t:c=c.next=t}else o=c=t;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var go=!1;function Fr(){if(go){var e=Za;if(e!==null)throw e}}function es(e,t,n,i){go=!1;var o=e.updateQueue;Bn=!1;var c=o.firstBaseUpdate,h=o.lastBaseUpdate,y=o.shared.pending;if(y!==null){o.shared.pending=null;var w=y,O=w.next;w.next=null,h===null?c=O:h.next=O,h=w;var D=e.alternate;D!==null&&(D=D.updateQueue,y=D.lastBaseUpdate,y!==h&&(y===null?D.firstBaseUpdate=O:y.next=O,D.lastBaseUpdate=w))}if(c!==null){var L=o.baseState;h=0,D=O=w=null,y=c;do{var C=y.lane&-536870913,j=C!==y.lane;if(j?(we&C)===C:(i&C)===C){C!==0&&C===Qa&&(go=!0),D!==null&&(D=D.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var Q=e,re=y;C=t;var Ne=n;switch(re.tag){case 1:if(Q=re.payload,typeof Q=="function"){L=Q.call(Ne,L,C);break e}L=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=re.payload,C=typeof Q=="function"?Q.call(Ne,L,C):Q,C==null)break e;L=x({},L,C);break e;case 2:Bn=!0}}C=y.callback,C!==null&&(e.flags|=64,j&&(e.flags|=8192),j=o.callbacks,j===null?o.callbacks=[C]:j.push(C))}else j={lane:C,tag:y.tag,payload:y.payload,callback:y.callback,next:null},D===null?(O=D=j,w=L):D=D.next=j,h|=C;if(y=y.next,y===null){if(y=o.shared.pending,y===null)break;j=y,y=j.next,j.next=null,o.lastBaseUpdate=j,o.shared.pending=null}}while(!0);D===null&&(w=L),o.baseState=w,o.firstBaseUpdate=O,o.lastBaseUpdate=D,c===null&&(o.shared.lanes=0),In|=h,e.lanes=h,e.memoizedState=L}}function $d(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Gd(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)$d(n[e],t)}var Fa=_(null),mi=_(0);function Vd(e,t){e=Sn,G(mi,e),G(Fa,t),Sn=e|t.baseLanes}function po(){G(mi,Sn),G(Fa,Fa.current)}function yo(){Sn=mi.current,M(Fa),M(mi)}var Nt=_(null),Kt=null;function Hn(e){var t=e.alternate;G(Ie,Ie.current&1),G(Nt,e),Kt===null&&(t===null||Fa.current!==null||t.memoizedState!==null)&&(Kt=e)}function vo(e){G(Ie,Ie.current),G(Nt,e),Kt===null&&(Kt=e)}function Id(e){e.tag===22?(G(Ie,Ie.current),G(Nt,e),Kt===null&&(Kt=e)):$n()}function $n(){G(Ie,Ie.current),G(Nt,Nt.current)}function jt(e){M(Nt),Kt===e&&(Kt=null),M(Ie)}var Ie=_(0);function gi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Eu(n)||Tu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mn=0,de=null,Oe=null,Xe=null,pi=!1,er=!1,ba=!1,yi=0,ts=0,tr=null,Ty=0;function He(){throw Error(l(321))}function bo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ot(e[n],t[n]))return!1;return!0}function wo(e,t,n,i,o,c){return mn=c,de=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=e===null||e.memoizedState===null?Of:zo,ba=!1,c=n(i,o),ba=!1,er&&(c=Yd(t,n,i,o)),Kd(e),c}function Kd(e){R.H=rs;var t=Oe!==null&&Oe.next!==null;if(mn=0,Xe=Oe=de=null,pi=!1,ts=0,tr=null,t)throw Error(l(300));e===null||Qe||(e=e.dependencies,e!==null&&li(e)&&(Qe=!0))}function Yd(e,t,n,i){de=e;var o=0;do{if(er&&(tr=null),ts=0,er=!1,25<=o)throw Error(l(301));if(o+=1,Xe=Oe=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}R.H=Cf,c=t(n,i)}while(er);return c}function Ay(){var e=R.H,t=e.useState()[0];return t=typeof t.then=="function"?ns(t):t,e=e.useState()[0],(Oe!==null?Oe.memoizedState:null)!==e&&(de.flags|=1024),t}function _o(){var e=yi!==0;return yi=0,e}function So(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function xo(e){if(pi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}pi=!1}mn=0,Xe=Oe=de=null,er=!1,ts=yi=0,tr=null}function yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?de.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Ke(){if(Oe===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var t=Xe===null?de.memoizedState:Xe.next;if(t!==null)Xe=t,Oe=e;else{if(e===null)throw de.alternate===null?Error(l(467)):Error(l(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},Xe===null?de.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function vi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ns(e){var t=ts;return ts+=1,tr===null&&(tr=[]),e=Md(tr,e,t),t=de,(Xe===null?t.memoizedState:Xe.next)===null&&(t=t.alternate,R.H=t===null||t.memoizedState===null?Of:zo),e}function bi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ns(e);if(e.$$typeof===H)return ct(e)}throw Error(l(438,String(e)))}function Eo(e){var t=null,n=de.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=de.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=vi(),de.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=Ye;return t.index++,n}function gn(e,t){return typeof t=="function"?t(e):t}function wi(e){var t=Ke();return To(t,Oe,e)}function To(e,t,n){var i=e.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=n;var o=e.baseQueue,c=i.pending;if(c!==null){if(o!==null){var h=o.next;o.next=c.next,c.next=h}t.baseQueue=o=c,i.pending=null}if(c=e.baseState,o===null)e.memoizedState=c;else{t=o.next;var y=h=null,w=null,O=t,D=!1;do{var L=O.lane&-536870913;if(L!==O.lane?(we&L)===L:(mn&L)===L){var C=O.revertLane;if(C===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),L===Qa&&(D=!0);else if((mn&C)===C){O=O.next,C===Qa&&(D=!0);continue}else L={lane:0,revertLane:O.revertLane,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},w===null?(y=w=L,h=c):w=w.next=L,de.lanes|=C,In|=C;L=O.action,ba&&n(c,L),c=O.hasEagerState?O.eagerState:n(c,L)}else C={lane:L,revertLane:O.revertLane,gesture:O.gesture,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},w===null?(y=w=C,h=c):w=w.next=C,de.lanes|=L,In|=L;O=O.next}while(O!==null&&O!==t);if(w===null?h=c:w.next=y,!Ot(c,e.memoizedState)&&(Qe=!0,D&&(n=Za,n!==null)))throw n;e.memoizedState=c,e.baseState=h,e.baseQueue=w,i.lastRenderedState=c}return o===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Ao(e){var t=Ke(),n=t.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,c=t.memoizedState;if(o!==null){n.pending=null;var h=o=o.next;do c=e(c,h.action),h=h.next;while(h!==o);Ot(c,t.memoizedState)||(Qe=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,i]}function Jd(e,t,n){var i=de,o=Ke(),c=Se;if(c){if(n===void 0)throw Error(l(407));n=n()}else n=t();var h=!Ot((Oe||o).memoizedState,n);if(h&&(o.memoizedState=n,Qe=!0),o=o.queue,Co(Zd.bind(null,i,o,e),[e]),o.getSnapshot!==t||h||Xe!==null&&Xe.memoizedState.tag&1){if(i.flags|=2048,nr(9,{destroy:void 0},Qd.bind(null,i,o,n,t),null),je===null)throw Error(l(349));c||(mn&127)!==0||Xd(i,t,n)}return n}function Xd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=de.updateQueue,t===null?(t=vi(),de.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qd(e,t,n,i){t.value=n,t.getSnapshot=i,Pd(t)&&Wd(e)}function Zd(e,t,n){return n(function(){Pd(t)&&Wd(e)})}function Pd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ot(e,n)}catch{return!0}}function Wd(e){var t=ca(e,2);t!==null&&Et(t,e,2)}function ko(e){var t=yt();if(typeof e=="function"){var n=e;if(e=n(),ba){Nn(!0);try{n()}finally{Nn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:e},t}function Fd(e,t,n,i){return e.baseState=n,To(e,Oe,typeof i=="function"?i:gn)}function ky(e,t,n,i,o){if(xi(e))throw Error(l(485));if(e=t.action,e!==null){var c={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){c.listeners.push(h)}};R.T!==null?n(!0):c.isTransition=!1,i(c),n=t.pending,n===null?(c.next=t.pending=c,ef(t,c)):(c.next=n.next,t.pending=n.next=c)}}function ef(e,t){var n=t.action,i=t.payload,o=e.state;if(t.isTransition){var c=R.T,h={};R.T=h;try{var y=n(o,i),w=R.S;w!==null&&w(h,y),tf(e,t,y)}catch(O){Oo(e,t,O)}finally{c!==null&&h.types!==null&&(c.types=h.types),R.T=c}}else try{c=n(o,i),tf(e,t,c)}catch(O){Oo(e,t,O)}}function tf(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){nf(e,t,i)},function(i){return Oo(e,t,i)}):nf(e,t,n)}function nf(e,t,n){t.status="fulfilled",t.value=n,af(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,ef(e,n)))}function Oo(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,af(t),t=t.next;while(t!==i)}e.action=null}function af(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function rf(e,t){return t}function sf(e,t){if(Se){var n=je.formState;if(n!==null){e:{var i=de;if(Se){if(ze){t:{for(var o=ze,c=It;o.nodeType!==8;){if(!c){o=null;break t}if(o=Yt(o.nextSibling),o===null){o=null;break t}}c=o.data,o=c==="F!"||c==="F"?o:null}if(o){ze=Yt(o.nextSibling),i=o.data==="F!";break e}}zn(i)}i=!1}i&&(t=n[0])}}return n=yt(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rf,lastRenderedState:t},n.queue=i,n=Tf.bind(null,de,i),i.dispatch=n,i=ko(!1),c=Do.bind(null,de,!1,i.queue),i=yt(),o={state:t,dispatch:null,action:e,pending:null},i.queue=o,n=ky.bind(null,de,o,c,n),o.dispatch=n,i.memoizedState=e,[t,n,!1]}function lf(e){var t=Ke();return of(t,Oe,e)}function of(e,t,n){if(t=To(e,t,rf)[0],e=wi(gn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=ns(t)}catch(h){throw h===Pa?ci:h}else i=t;t=Ke();var o=t.queue,c=o.dispatch;return n!==t.memoizedState&&(de.flags|=2048,nr(9,{destroy:void 0},Oy.bind(null,o,n),null)),[i,c,e]}function Oy(e,t){e.action=t}function uf(e){var t=Ke(),n=Oe;if(n!==null)return of(t,n,e);Ke(),t=t.memoizedState,n=Ke();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function nr(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=de.updateQueue,t===null&&(t=vi(),de.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function cf(){return Ke().memoizedState}function _i(e,t,n,i){var o=yt();de.flags|=e,o.memoizedState=nr(1|t,{destroy:void 0},n,i===void 0?null:i)}function Si(e,t,n,i){var o=Ke();i=i===void 0?null:i;var c=o.memoizedState.inst;Oe!==null&&i!==null&&bo(i,Oe.memoizedState.deps)?o.memoizedState=nr(t,c,n,i):(de.flags|=e,o.memoizedState=nr(1|t,c,n,i))}function df(e,t){_i(8390656,8,e,t)}function Co(e,t){Si(2048,8,e,t)}function Cy(e){de.flags|=4;var t=de.updateQueue;if(t===null)t=vi(),de.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function ff(e){var t=Ke().memoizedState;return Cy({ref:t,nextImpl:e}),function(){if((Te&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function hf(e,t){return Si(4,2,e,t)}function mf(e,t){return Si(4,4,e,t)}function gf(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pf(e,t,n){n=n!=null?n.concat([e]):null,Si(4,4,gf.bind(null,t,e),n)}function No(){}function yf(e,t){var n=Ke();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&bo(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function vf(e,t){var n=Ke();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&bo(t,i[1]))return i[0];if(i=e(),ba){Nn(!0);try{e()}finally{Nn(!1)}}return n.memoizedState=[i,t],i}function jo(e,t,n){return n===void 0||(mn&1073741824)!==0&&(we&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=bh(),de.lanes|=e,In|=e,n)}function bf(e,t,n,i){return Ot(n,t)?n:Fa.current!==null?(e=jo(e,n,i),Ot(e,t)||(Qe=!0),e):(mn&42)===0||(mn&1073741824)!==0&&(we&261930)===0?(Qe=!0,e.memoizedState=n):(e=bh(),de.lanes|=e,In|=e,t)}function wf(e,t,n,i,o){var c=I.p;I.p=c!==0&&8>c?c:8;var h=R.T,y={};R.T=y,Do(e,!1,t,n);try{var w=o(),O=R.S;if(O!==null&&O(y,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var D=Ey(w,i);as(e,t,D,Dt(e))}else as(e,t,i,Dt(e))}catch(L){as(e,t,{then:function(){},status:"rejected",reason:L},Dt())}finally{I.p=c,h!==null&&y.types!==null&&(h.types=y.types),R.T=h}}function Ny(){}function Ro(e,t,n,i){if(e.tag!==5)throw Error(l(476));var o=_f(e).queue;wf(e,o,t,z,n===null?Ny:function(){return Sf(e),n(i)})}function _f(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:z},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Sf(e){var t=_f(e);t.next===null&&(t=e.alternate.memoizedState),as(e,t.next.queue,{},Dt())}function Uo(){return ct(ws)}function xf(){return Ke().memoizedState}function Ef(){return Ke().memoizedState}function jy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Dt();e=qn(n);var i=Ln(t,e,n);i!==null&&(Et(i,t,n),Wr(i,t,n)),t={cache:lo()},e.payload=t;return}t=t.return}}function Ry(e,t,n){var i=Dt();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},xi(e)?Af(t,n):(n=Zl(e,t,n,i),n!==null&&(Et(n,e,i),kf(n,t,i)))}function Tf(e,t,n){var i=Dt();as(e,t,n,i)}function as(e,t,n,i){var o={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(xi(e))Af(t,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var h=t.lastRenderedState,y=c(h,n);if(o.hasEagerState=!0,o.eagerState=y,Ot(y,h))return ai(e,t,o,0),je===null&&ni(),!1}catch{}if(n=Zl(e,t,o,i),n!==null)return Et(n,e,i),kf(n,t,i),!0}return!1}function Do(e,t,n,i){if(i={lane:2,revertLane:fu(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},xi(e)){if(t)throw Error(l(479))}else t=Zl(e,n,i,2),t!==null&&Et(t,e,2)}function xi(e){var t=e.alternate;return e===de||t!==null&&t===de}function Af(e,t){er=pi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function kf(e,t,n){if((n&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,jc(e,n)}}var rs={readContext:ct,use:bi,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useLayoutEffect:He,useInsertionEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useSyncExternalStore:He,useId:He,useHostTransitionStatus:He,useFormState:He,useActionState:He,useOptimistic:He,useMemoCache:He,useCacheRefresh:He};rs.useEffectEvent=He;var Of={readContext:ct,use:bi,useCallback:function(e,t){return yt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:df,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,_i(4194308,4,gf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _i(4194308,4,e,t)},useInsertionEffect:function(e,t){_i(4,2,e,t)},useMemo:function(e,t){var n=yt();t=t===void 0?null:t;var i=e();if(ba){Nn(!0);try{e()}finally{Nn(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=yt();if(n!==void 0){var o=n(t);if(ba){Nn(!0);try{n(t)}finally{Nn(!1)}}}else o=t;return i.memoizedState=i.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},i.queue=e,e=e.dispatch=Ry.bind(null,de,e),[i.memoizedState,e]},useRef:function(e){var t=yt();return e={current:e},t.memoizedState=e},useState:function(e){e=ko(e);var t=e.queue,n=Tf.bind(null,de,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:No,useDeferredValue:function(e,t){var n=yt();return jo(n,e,t)},useTransition:function(){var e=ko(!1);return e=wf.bind(null,de,e.queue,!0,!1),yt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=de,o=yt();if(Se){if(n===void 0)throw Error(l(407));n=n()}else{if(n=t(),je===null)throw Error(l(349));(we&127)!==0||Xd(i,t,n)}o.memoizedState=n;var c={value:n,getSnapshot:t};return o.queue=c,df(Zd.bind(null,i,c,e),[e]),i.flags|=2048,nr(9,{destroy:void 0},Qd.bind(null,i,c,n,t),null),n},useId:function(){var e=yt(),t=je.identifierPrefix;if(Se){var n=nn,i=tn;n=(i&~(1<<32-kt(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=yi++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Ty++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Uo,useFormState:sf,useActionState:sf,useOptimistic:function(e){var t=yt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Do.bind(null,de,!0,n),n.dispatch=t,[e,t]},useMemoCache:Eo,useCacheRefresh:function(){return yt().memoizedState=jy.bind(null,de)},useEffectEvent:function(e){var t=yt(),n={impl:e};return t.memoizedState=n,function(){if((Te&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}},zo={readContext:ct,use:bi,useCallback:yf,useContext:ct,useEffect:Co,useImperativeHandle:pf,useInsertionEffect:hf,useLayoutEffect:mf,useMemo:vf,useReducer:wi,useRef:cf,useState:function(){return wi(gn)},useDebugValue:No,useDeferredValue:function(e,t){var n=Ke();return bf(n,Oe.memoizedState,e,t)},useTransition:function(){var e=wi(gn)[0],t=Ke().memoizedState;return[typeof e=="boolean"?e:ns(e),t]},useSyncExternalStore:Jd,useId:xf,useHostTransitionStatus:Uo,useFormState:lf,useActionState:lf,useOptimistic:function(e,t){var n=Ke();return Fd(n,Oe,e,t)},useMemoCache:Eo,useCacheRefresh:Ef};zo.useEffectEvent=ff;var Cf={readContext:ct,use:bi,useCallback:yf,useContext:ct,useEffect:Co,useImperativeHandle:pf,useInsertionEffect:hf,useLayoutEffect:mf,useMemo:vf,useReducer:Ao,useRef:cf,useState:function(){return Ao(gn)},useDebugValue:No,useDeferredValue:function(e,t){var n=Ke();return Oe===null?jo(n,e,t):bf(n,Oe.memoizedState,e,t)},useTransition:function(){var e=Ao(gn)[0],t=Ke().memoizedState;return[typeof e=="boolean"?e:ns(e),t]},useSyncExternalStore:Jd,useId:xf,useHostTransitionStatus:Uo,useFormState:uf,useActionState:uf,useOptimistic:function(e,t){var n=Ke();return Oe!==null?Fd(n,Oe,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Eo,useCacheRefresh:Ef};Cf.useEffectEvent=ff;function Mo(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:x({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Bo={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Dt(),o=qn(i);o.payload=t,n!=null&&(o.callback=n),t=Ln(e,o,i),t!==null&&(Et(t,e,i),Wr(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Dt(),o=qn(i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Ln(e,o,i),t!==null&&(Et(t,e,i),Wr(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Dt(),i=qn(n);i.tag=2,t!=null&&(i.callback=t),t=Ln(e,i,n),t!==null&&(Et(t,e,n),Wr(t,e,n))}};function Nf(e,t,n,i,o,c,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,c,h):t.prototype&&t.prototype.isPureReactComponent?!Ir(n,i)||!Ir(o,c):!0}function jf(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Bo.enqueueReplaceState(t,t.state,null)}function wa(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=x({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}function Rf(e){ti(e)}function Uf(e){console.error(e)}function Df(e){ti(e)}function Ei(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function zf(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function qo(e,t,n){return n=qn(n),n.tag=3,n.payload={element:null},n.callback=function(){Ei(e,t)},n}function Mf(e){return e=qn(e),e.tag=3,e}function Bf(e,t,n,i){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var c=i.value;e.payload=function(){return o(c)},e.callback=function(){zf(t,n,i)}}var h=n.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){zf(t,n,i),typeof o!="function"&&(Kn===null?Kn=new Set([this]):Kn.add(this));var y=i.stack;this.componentDidCatch(i.value,{componentStack:y!==null?y:""})})}function Uy(e,t,n,i,o){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Xa(t,n,o,!0),n=Nt.current,n!==null){switch(n.tag){case 31:case 13:return Kt===null?Mi():n.alternate===null&&$e===0&&($e=3),n.flags&=-257,n.flags|=65536,n.lanes=o,i===di?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),uu(e,i,o)),!1;case 22:return n.flags|=65536,i===di?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),uu(e,i,o)),!1}throw Error(l(435,n.tag))}return uu(e,i,o),Mi(),!1}if(Se)return t=Nt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,i!==no&&(e=Error(l(422),{cause:i}),Jr($t(e,n)))):(i!==no&&(t=Error(l(423),{cause:i}),Jr($t(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,i=$t(i,n),o=qo(e.stateNode,i,o),mo(e,o),$e!==4&&($e=2)),!1;var c=Error(l(520),{cause:i});if(c=$t(c,n),fs===null?fs=[c]:fs.push(c),$e!==4&&($e=2),t===null)return!0;i=$t(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=qo(n.stateNode,i,e),mo(n,e),!1;case 1:if(t=n.type,c=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Kn===null||!Kn.has(c))))return n.flags|=65536,o&=-o,n.lanes|=o,o=Mf(o),Bf(o,e,n,i),mo(n,o),!1}n=n.return}while(n!==null);return!1}var Lo=Error(l(461)),Qe=!1;function dt(e,t,n,i){t.child=e===null?Hd(t,null,n,i):va(t,e.child,n,i)}function qf(e,t,n,i,o){n=n.render;var c=t.ref;if("ref"in i){var h={};for(var y in i)y!=="ref"&&(h[y]=i[y])}else h=i;return ma(t),i=wo(e,t,n,h,c,o),y=_o(),e!==null&&!Qe?(So(e,t,o),pn(e,t,o)):(Se&&y&&eo(t),t.flags|=1,dt(e,t,i,o),t.child)}function Lf(e,t,n,i,o){if(e===null){var c=n.type;return typeof c=="function"&&!Pl(c)&&c.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=c,Hf(e,t,c,i,o)):(e=si(n.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Jo(e,o)){var h=c.memoizedProps;if(n=n.compare,n=n!==null?n:Ir,n(h,i)&&e.ref===t.ref)return pn(e,t,o)}return t.flags|=1,e=cn(c,i),e.ref=t.ref,e.return=t,t.child=e}function Hf(e,t,n,i,o){if(e!==null){var c=e.memoizedProps;if(Ir(c,i)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=i=c,Jo(e,o))(e.flags&131072)!==0&&(Qe=!0);else return t.lanes=e.lanes,pn(e,t,o)}return Ho(e,t,n,i,o)}function $f(e,t,n,i){var o=i.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|n:n,e!==null){for(i=t.child=e.child,o=0;i!==null;)o=o|i.lanes|i.childLanes,i=i.sibling;i=o&~c}else i=0,t.child=null;return Gf(e,t,c,n,i)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ui(t,c!==null?c.cachePool:null),c!==null?Vd(t,c):po(),Id(t);else return i=t.lanes=536870912,Gf(e,t,c!==null?c.baseLanes|n:n,n,i)}else c!==null?(ui(t,c.cachePool),Vd(t,c),$n(),t.memoizedState=null):(e!==null&&ui(t,null),po(),$n());return dt(e,t,o,n),t.child}function ss(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Gf(e,t,n,i,o){var c=uo();return c=c===null?null:{parent:Je._currentValue,pool:c},t.memoizedState={baseLanes:n,cachePool:c},e!==null&&ui(t,null),po(),Id(t),e!==null&&Xa(e,t,i,!0),t.childLanes=o,null}function Ti(e,t){return t=ki({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Vf(e,t,n){return va(t,e.child,null,n),e=Ti(t,t.pendingProps),e.flags|=2,jt(t),t.memoizedState=null,e}function Dy(e,t,n){var i=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Se){if(i.mode==="hidden")return e=Ti(t,i),t.lanes=536870912,ss(null,e);if(vo(t),(e=ze)?(e=tm(e,It),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Un!==null?{id:tn,overflow:nn}:null,retryLane:536870912,hydrationErrors:null},n=Td(e),n.return=t,t.child=n,ut=t,ze=null)):e=null,e===null)throw zn(t);return t.lanes=536870912,null}return Ti(t,i)}var c=e.memoizedState;if(c!==null){var h=c.dehydrated;if(vo(t),o)if(t.flags&256)t.flags&=-257,t=Vf(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(Qe||Xa(e,t,n,!1),o=(n&e.childLanes)!==0,Qe||o){if(i=je,i!==null&&(h=Rc(i,n),h!==0&&h!==c.retryLane))throw c.retryLane=h,ca(e,h),Et(i,e,h),Lo;Mi(),t=Vf(e,t,n)}else e=c.treeContext,ze=Yt(h.nextSibling),ut=t,Se=!0,Dn=null,It=!1,e!==null&&Od(t,e),t=Ti(t,i),t.flags|=4096;return t}return e=cn(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ai(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(l(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Ho(e,t,n,i,o){return ma(t),n=wo(e,t,n,i,void 0,o),i=_o(),e!==null&&!Qe?(So(e,t,o),pn(e,t,o)):(Se&&i&&eo(t),t.flags|=1,dt(e,t,n,o),t.child)}function If(e,t,n,i,o,c){return ma(t),t.updateQueue=null,n=Yd(t,i,n,o),Kd(e),i=_o(),e!==null&&!Qe?(So(e,t,c),pn(e,t,c)):(Se&&i&&eo(t),t.flags|=1,dt(e,t,n,c),t.child)}function Kf(e,t,n,i,o){if(ma(t),t.stateNode===null){var c=Ia,h=n.contextType;typeof h=="object"&&h!==null&&(c=ct(h)),c=new n(i,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Bo,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=i,c.state=t.memoizedState,c.refs={},fo(t),h=n.contextType,c.context=typeof h=="object"&&h!==null?ct(h):Ia,c.state=t.memoizedState,h=n.getDerivedStateFromProps,typeof h=="function"&&(Mo(t,n,h,i),c.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(h=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),h!==c.state&&Bo.enqueueReplaceState(c,c.state,null),es(t,i,c,o),Fr(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){c=t.stateNode;var y=t.memoizedProps,w=wa(n,y);c.props=w;var O=c.context,D=n.contextType;h=Ia,typeof D=="object"&&D!==null&&(h=ct(D));var L=n.getDerivedStateFromProps;D=typeof L=="function"||typeof c.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,D||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(y||O!==h)&&jf(t,c,i,h),Bn=!1;var C=t.memoizedState;c.state=C,es(t,i,c,o),Fr(),O=t.memoizedState,y||C!==O||Bn?(typeof L=="function"&&(Mo(t,n,L,i),O=t.memoizedState),(w=Bn||Nf(t,n,w,i,C,O,h))?(D||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=O),c.props=i,c.state=O,c.context=h,i=w):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{c=t.stateNode,ho(e,t),h=t.memoizedProps,D=wa(n,h),c.props=D,L=t.pendingProps,C=c.context,O=n.contextType,w=Ia,typeof O=="object"&&O!==null&&(w=ct(O)),y=n.getDerivedStateFromProps,(O=typeof y=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==L||C!==w)&&jf(t,c,i,w),Bn=!1,C=t.memoizedState,c.state=C,es(t,i,c,o),Fr();var j=t.memoizedState;h!==L||C!==j||Bn||e!==null&&e.dependencies!==null&&li(e.dependencies)?(typeof y=="function"&&(Mo(t,n,y,i),j=t.memoizedState),(D=Bn||Nf(t,n,D,i,C,j,w)||e!==null&&e.dependencies!==null&&li(e.dependencies))?(O||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(i,j,w),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(i,j,w)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=j),c.props=i,c.state=j,c.context=w,i=D):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),i=!1)}return c=i,Ai(e,t),i=(t.flags&128)!==0,c||i?(c=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&i?(t.child=va(t,e.child,null,o),t.child=va(t,null,n,o)):dt(e,t,n,o),t.memoizedState=c.state,e=t.child):e=pn(e,t,o),e}function Yf(e,t,n,i){return fa(),t.flags|=256,dt(e,t,n,i),t.child}var $o={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Go(e){return{baseLanes:e,cachePool:Dd()}}function Vo(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Ut),e}function Jf(e,t,n){var i=t.pendingProps,o=!1,c=(t.flags&128)!==0,h;if((h=c)||(h=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),h&&(o=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(Se){if(o?Hn(t):$n(),(e=ze)?(e=tm(e,It),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Un!==null?{id:tn,overflow:nn}:null,retryLane:536870912,hydrationErrors:null},n=Td(e),n.return=t,t.child=n,ut=t,ze=null)):e=null,e===null)throw zn(t);return Tu(e)?t.lanes=32:t.lanes=536870912,null}var y=i.children;return i=i.fallback,o?($n(),o=t.mode,y=ki({mode:"hidden",children:y},o),i=da(i,o,n,null),y.return=t,i.return=t,y.sibling=i,t.child=y,i=t.child,i.memoizedState=Go(n),i.childLanes=Vo(e,h,n),t.memoizedState=$o,ss(null,i)):(Hn(t),Io(t,y))}var w=e.memoizedState;if(w!==null&&(y=w.dehydrated,y!==null)){if(c)t.flags&256?(Hn(t),t.flags&=-257,t=Ko(e,t,n)):t.memoizedState!==null?($n(),t.child=e.child,t.flags|=128,t=null):($n(),y=i.fallback,o=t.mode,i=ki({mode:"visible",children:i.children},o),y=da(y,o,n,null),y.flags|=2,i.return=t,y.return=t,i.sibling=y,t.child=i,va(t,e.child,null,n),i=t.child,i.memoizedState=Go(n),i.childLanes=Vo(e,h,n),t.memoizedState=$o,t=ss(null,i));else if(Hn(t),Tu(y)){if(h=y.nextSibling&&y.nextSibling.dataset,h)var O=h.dgst;h=O,i=Error(l(419)),i.stack="",i.digest=h,Jr({value:i,source:null,stack:null}),t=Ko(e,t,n)}else if(Qe||Xa(e,t,n,!1),h=(n&e.childLanes)!==0,Qe||h){if(h=je,h!==null&&(i=Rc(h,n),i!==0&&i!==w.retryLane))throw w.retryLane=i,ca(e,i),Et(h,e,i),Lo;Eu(y)||Mi(),t=Ko(e,t,n)}else Eu(y)?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,ze=Yt(y.nextSibling),ut=t,Se=!0,Dn=null,It=!1,e!==null&&Od(t,e),t=Io(t,i.children),t.flags|=4096);return t}return o?($n(),y=i.fallback,o=t.mode,w=e.child,O=w.sibling,i=cn(w,{mode:"hidden",children:i.children}),i.subtreeFlags=w.subtreeFlags&65011712,O!==null?y=cn(O,y):(y=da(y,o,n,null),y.flags|=2),y.return=t,i.return=t,i.sibling=y,t.child=i,ss(null,i),i=t.child,y=e.child.memoizedState,y===null?y=Go(n):(o=y.cachePool,o!==null?(w=Je._currentValue,o=o.parent!==w?{parent:w,pool:w}:o):o=Dd(),y={baseLanes:y.baseLanes|n,cachePool:o}),i.memoizedState=y,i.childLanes=Vo(e,h,n),t.memoizedState=$o,ss(e.child,i)):(Hn(t),n=e.child,e=n.sibling,n=cn(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=n,t.memoizedState=null,n)}function Io(e,t){return t=ki({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ki(e,t){return e=Ct(22,e,null,t),e.lanes=0,e}function Ko(e,t,n){return va(t,e.child,null,n),e=Io(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xf(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),so(e.return,t,n)}function Yo(e,t,n,i,o,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o,treeForkCount:c}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=i,h.tail=n,h.tailMode=o,h.treeForkCount=c)}function Qf(e,t,n){var i=t.pendingProps,o=i.revealOrder,c=i.tail;i=i.children;var h=Ie.current,y=(h&2)!==0;if(y?(h=h&1|2,t.flags|=128):h&=1,G(Ie,h),dt(e,t,i,n),i=Se?Yr:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xf(e,n,t);else if(e.tag===19)Xf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&gi(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Yo(t,!1,o,n,c,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&gi(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Yo(t,!0,n,null,c,i);break;case"together":Yo(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function pn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),In|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Xa(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,n=cn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=cn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Jo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&li(e)))}function zy(e,t,n){switch(t.tag){case 3:rt(t,t.stateNode.containerInfo),Mn(t,Je,e.memoizedState.cache),fa();break;case 27:case 5:en(t);break;case 4:rt(t,t.stateNode.containerInfo);break;case 10:Mn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,vo(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Hn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Jf(e,t,n):(Hn(t),e=pn(e,t,n),e!==null?e.sibling:null);Hn(t);break;case 19:var o=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Xa(e,t,n,!1),i=(n&t.childLanes)!==0),o){if(i)return Qf(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),G(Ie,Ie.current),i)break;return null;case 22:return t.lanes=0,$f(e,t,n,t.pendingProps);case 24:Mn(t,Je,e.memoizedState.cache)}return pn(e,t,n)}function Zf(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Qe=!0;else{if(!Jo(e,n)&&(t.flags&128)===0)return Qe=!1,zy(e,t,n);Qe=(e.flags&131072)!==0}else Qe=!1,Se&&(t.flags&1048576)!==0&&kd(t,Yr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=pa(t.elementType),t.type=e,typeof e=="function")Pl(e)?(i=wa(e,i),t.tag=1,t=Kf(null,t,e,i,n)):(t.tag=0,t=Ho(null,t,e,i,n));else{if(e!=null){var o=e.$$typeof;if(o===J){t.tag=11,t=qf(null,t,e,i,n);break e}else if(o===X){t.tag=14,t=Lf(null,t,e,i,n);break e}}throw t=lt(e)||e,Error(l(306,t,""))}}return t;case 0:return Ho(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,o=wa(i,t.pendingProps),Kf(e,t,i,o,n);case 3:e:{if(rt(t,t.stateNode.containerInfo),e===null)throw Error(l(387));i=t.pendingProps;var c=t.memoizedState;o=c.element,ho(e,t),es(t,i,null,n);var h=t.memoizedState;if(i=h.cache,Mn(t,Je,i),i!==c.cache&&io(t,[Je],n,!0),Fr(),i=h.element,c.isDehydrated)if(c={element:i,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=Yf(e,t,i,n);break e}else if(i!==o){o=$t(Error(l(424)),t),Jr(o),t=Yf(e,t,i,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ze=Yt(e.firstChild),ut=t,Se=!0,Dn=null,It=!0,n=Hd(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fa(),i===o){t=pn(e,t,n);break e}dt(e,t,i,n)}t=t.child}return t;case 26:return Ai(e,t),e===null?(n=lm(t.type,null,t.pendingProps,null))?t.memoizedState=n:Se||(n=t.type,e=t.pendingProps,i=Vi(me.current).createElement(n),i[ot]=t,i[vt]=e,ft(i,n,e),st(i),t.stateNode=i):t.memoizedState=lm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return en(t),e===null&&Se&&(i=t.stateNode=rm(t.type,t.pendingProps,me.current),ut=t,It=!0,o=ze,Qn(t.type)?(Au=o,ze=Yt(i.firstChild)):ze=o),dt(e,t,t.pendingProps.children,n),Ai(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Se&&((o=i=ze)&&(i=dv(i,t.type,t.pendingProps,It),i!==null?(t.stateNode=i,ut=t,ze=Yt(i.firstChild),It=!1,o=!0):o=!1),o||zn(t)),en(t),o=t.type,c=t.pendingProps,h=e!==null?e.memoizedProps:null,i=c.children,_u(o,c)?i=null:h!==null&&_u(o,h)&&(t.flags|=32),t.memoizedState!==null&&(o=wo(e,t,Ay,null,null,n),ws._currentValue=o),Ai(e,t),dt(e,t,i,n),t.child;case 6:return e===null&&Se&&((e=n=ze)&&(n=fv(n,t.pendingProps,It),n!==null?(t.stateNode=n,ut=t,ze=null,e=!0):e=!1),e||zn(t)),null;case 13:return Jf(e,t,n);case 4:return rt(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=va(t,null,i,n):dt(e,t,i,n),t.child;case 11:return qf(e,t,t.type,t.pendingProps,n);case 7:return dt(e,t,t.pendingProps,n),t.child;case 8:return dt(e,t,t.pendingProps.children,n),t.child;case 12:return dt(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Mn(t,t.type,i.value),dt(e,t,i.children,n),t.child;case 9:return o=t.type._context,i=t.pendingProps.children,ma(t),o=ct(o),i=i(o),t.flags|=1,dt(e,t,i,n),t.child;case 14:return Lf(e,t,t.type,t.pendingProps,n);case 15:return Hf(e,t,t.type,t.pendingProps,n);case 19:return Qf(e,t,n);case 31:return Dy(e,t,n);case 22:return $f(e,t,n,t.pendingProps);case 24:return ma(t),i=ct(Je),e===null?(o=uo(),o===null&&(o=je,c=lo(),o.pooledCache=c,c.refCount++,c!==null&&(o.pooledCacheLanes|=n),o=c),t.memoizedState={parent:i,cache:o},fo(t),Mn(t,Je,o)):((e.lanes&n)!==0&&(ho(e,t),es(t,null,null,n),Fr()),o=e.memoizedState,c=t.memoizedState,o.parent!==i?(o={parent:i,cache:i},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Mn(t,Je,i)):(i=c.cache,Mn(t,Je,i),i!==o.cache&&io(t,[Je],n,!0))),dt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function yn(e){e.flags|=4}function Xo(e,t,n,i,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(xh())e.flags|=8192;else throw ya=di,co}else e.flags&=-16777217}function Pf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!fm(t))if(xh())e.flags|=8192;else throw ya=di,co}function Oi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Cc():536870912,e.lanes|=t,ir|=t)}function is(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Me(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&65011712,i|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function My(e,t,n){var i=t.pendingProps;switch(to(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(t),null;case 1:return Me(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),hn(Je),Re(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ja(t)?yn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ao())),Me(t),null;case 26:var o=t.type,c=t.memoizedState;return e===null?(yn(t),c!==null?(Me(t),Pf(t,c)):(Me(t),Xo(t,o,null,i,n))):c?c!==e.memoizedState?(yn(t),Me(t),Pf(t,c)):(Me(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&yn(t),Me(t),Xo(t,o,e,i,n)),null;case 27:if(On(t),n=me.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&yn(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return Me(t),null}e=K.current,Ja(t)?Cd(t):(e=rm(o,i,n),t.stateNode=e,yn(t))}return Me(t),null;case 5:if(On(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&yn(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return Me(t),null}if(c=K.current,Ja(t))Cd(t);else{var h=Vi(me.current);switch(c){case 1:c=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:c=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":c=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":c=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":c=h.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof i.is=="string"?h.createElement("select",{is:i.is}):h.createElement("select"),i.multiple?c.multiple=!0:i.size&&(c.size=i.size);break;default:c=typeof i.is=="string"?h.createElement(o,{is:i.is}):h.createElement(o)}}c[ot]=t,c[vt]=i;e:for(h=t.child;h!==null;){if(h.tag===5||h.tag===6)c.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}t.stateNode=c;e:switch(ft(c,o,i),o){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&yn(t)}}return Me(t),Xo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&yn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(l(166));if(e=me.current,Ja(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,o=ut,o!==null)switch(o.tag){case 27:case 5:i=o.memoizedProps}e[ot]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Jh(e.nodeValue,n)),e||zn(t,!0)}else e=Vi(e).createTextNode(i),e[ot]=t,t.stateNode=e}return Me(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Ja(t),n!==null){if(e===null){if(!i)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[ot]=t}else fa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Me(t),e=!1}else n=ao(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(jt(t),t):(jt(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Me(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Ja(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[ot]=t}else fa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Me(t),o=!1}else o=ao(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(jt(t),t):(jt(t),null)}return jt(t),(t.flags&128)!==0?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,o=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(o=i.alternate.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Oi(t,t.updateQueue),Me(t),null);case 4:return Re(),e===null&&pu(t.stateNode.containerInfo),Me(t),null;case 10:return hn(t.type),Me(t),null;case 19:if(M(Ie),i=t.memoizedState,i===null)return Me(t),null;if(o=(t.flags&128)!==0,c=i.rendering,c===null)if(o)is(i,!1);else{if($e!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=gi(e),c!==null){for(t.flags|=128,is(i,!1),e=c.updateQueue,t.updateQueue=e,Oi(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Ed(n,e),n=n.sibling;return G(Ie,Ie.current&1|2),Se&&dn(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&Tt()>Ui&&(t.flags|=128,o=!0,is(i,!1),t.lanes=4194304)}else{if(!o)if(e=gi(c),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Oi(t,e),is(i,!0),i.tail===null&&i.tailMode==="hidden"&&!c.alternate&&!Se)return Me(t),null}else 2*Tt()-i.renderingStartTime>Ui&&n!==536870912&&(t.flags|=128,o=!0,is(i,!1),t.lanes=4194304);i.isBackwards?(c.sibling=t.child,t.child=c):(e=i.last,e!==null?e.sibling=c:t.child=c,i.last=c)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Tt(),e.sibling=null,n=Ie.current,G(Ie,o?n&1|2:n&1),Se&&dn(t,i.treeForkCount),e):(Me(t),null);case 22:case 23:return jt(t),yo(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(n&536870912)!==0&&(t.flags&128)===0&&(Me(t),t.subtreeFlags&6&&(t.flags|=8192)):Me(t),n=t.updateQueue,n!==null&&Oi(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&M(ga),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),hn(Je),Me(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function By(e,t){switch(to(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hn(Je),Re(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return On(t),null;case 31:if(t.memoizedState!==null){if(jt(t),t.alternate===null)throw Error(l(340));fa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(jt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));fa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return M(Ie),null;case 4:return Re(),null;case 10:return hn(t.type),null;case 22:case 23:return jt(t),yo(),e!==null&&M(ga),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return hn(Je),null;case 25:return null;default:return null}}function Wf(e,t){switch(to(t),t.tag){case 3:hn(Je),Re();break;case 26:case 27:case 5:On(t);break;case 4:Re();break;case 31:t.memoizedState!==null&&jt(t);break;case 13:jt(t);break;case 19:M(Ie);break;case 10:hn(t.type);break;case 22:case 23:jt(t),yo(),e!==null&&M(ga);break;case 24:hn(Je)}}function ls(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var o=i.next;n=o;do{if((n.tag&e)===e){i=void 0;var c=n.create,h=n.inst;i=c(),h.destroy=i}n=n.next}while(n!==o)}}catch(y){ke(t,t.return,y)}}function Gn(e,t,n){try{var i=t.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var c=o.next;i=c;do{if((i.tag&e)===e){var h=i.inst,y=h.destroy;if(y!==void 0){h.destroy=void 0,o=t;var w=n,O=y;try{O()}catch(D){ke(o,w,D)}}}i=i.next}while(i!==c)}}catch(D){ke(t,t.return,D)}}function Ff(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Gd(t,n)}catch(i){ke(e,e.return,i)}}}function eh(e,t,n){n.props=wa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){ke(e,t,i)}}function os(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(o){ke(e,t,o)}}function an(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(o){ke(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){ke(e,t,o)}else n.current=null}function th(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(o){ke(e,e.return,o)}}function Qo(e,t,n){try{var i=e.stateNode;sv(i,e.type,n,t),i[vt]=t}catch(o){ke(e,e.return,o)}}function nh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qn(e.type)||e.tag===4}function Zo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Po(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=on));else if(i!==4&&(i===27&&Qn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Po(e,t,n),e=e.sibling;e!==null;)Po(e,t,n),e=e.sibling}function Ci(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Qn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Ci(e,t,n),e=e.sibling;e!==null;)Ci(e,t,n),e=e.sibling}function ah(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);ft(t,i,n),t[ot]=e,t[vt]=n}catch(c){ke(e,e.return,c)}}var vn=!1,Ze=!1,Wo=!1,rh=typeof WeakSet=="function"?WeakSet:Set,it=null;function qy(e,t){if(e=e.containerInfo,bu=Zi,e=gd(e),Il(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,c=i.focusNode;i=i.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var h=0,y=-1,w=-1,O=0,D=0,L=e,C=null;t:for(;;){for(var j;L!==n||o!==0&&L.nodeType!==3||(y=h+o),L!==c||i!==0&&L.nodeType!==3||(w=h+i),L.nodeType===3&&(h+=L.nodeValue.length),(j=L.firstChild)!==null;)C=L,L=j;for(;;){if(L===e)break t;if(C===n&&++O===o&&(y=h),C===c&&++D===i&&(w=h),(j=L.nextSibling)!==null)break;L=C,C=L.parentNode}L=j}n=y===-1||w===-1?null:{start:y,end:w}}else n=null}n=n||{start:0,end:0}}else n=null;for(wu={focusedElem:e,selectionRange:n},Zi=!1,it=t;it!==null;)if(t=it,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,it=e;else for(;it!==null;){switch(t=it,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)o=e[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,n=t,o=c.memoizedProps,c=c.memoizedState,i=n.stateNode;try{var Q=wa(n.type,o);e=i.getSnapshotBeforeUpdate(Q,c),i.__reactInternalSnapshotBeforeUpdate=e}catch(re){ke(n,n.return,re)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)xu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":xu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,it=e;break}it=t.return}}function sh(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:wn(e,n),i&4&&ls(5,n);break;case 1:if(wn(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(h){ke(n,n.return,h)}else{var o=wa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){ke(n,n.return,h)}}i&64&&Ff(n),i&512&&os(n,n.return);break;case 3:if(wn(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Gd(e,t)}catch(h){ke(n,n.return,h)}}break;case 27:t===null&&i&4&&ah(n);case 26:case 5:wn(e,n),t===null&&i&4&&th(n),i&512&&os(n,n.return);break;case 12:wn(e,n);break;case 31:wn(e,n),i&4&&oh(e,n);break;case 13:wn(e,n),i&4&&uh(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Jy.bind(null,n),hv(e,n))));break;case 22:if(i=n.memoizedState!==null||vn,!i){t=t!==null&&t.memoizedState!==null||Ze,o=vn;var c=Ze;vn=i,(Ze=t)&&!c?_n(e,n,(n.subtreeFlags&8772)!==0):wn(e,n),vn=o,Ze=c}break;case 30:break;default:wn(e,n)}}function ih(e){var t=e.alternate;t!==null&&(e.alternate=null,ih(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&kl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qe=null,wt=!1;function bn(e,t,n){for(n=n.child;n!==null;)lh(e,t,n),n=n.sibling}function lh(e,t,n){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Rr,n)}catch{}switch(n.tag){case 26:Ze||an(n,t),bn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ze||an(n,t);var i=qe,o=wt;Qn(n.type)&&(qe=n.stateNode,wt=!1),bn(e,t,n),ys(n.stateNode),qe=i,wt=o;break;case 5:Ze||an(n,t);case 6:if(i=qe,o=wt,qe=null,bn(e,t,n),qe=i,wt=o,qe!==null)if(wt)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(n.stateNode)}catch(c){ke(n,t,c)}else try{qe.removeChild(n.stateNode)}catch(c){ke(n,t,c)}break;case 18:qe!==null&&(wt?(e=qe,Fh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),mr(e)):Fh(qe,n.stateNode));break;case 4:i=qe,o=wt,qe=n.stateNode.containerInfo,wt=!0,bn(e,t,n),qe=i,wt=o;break;case 0:case 11:case 14:case 15:Gn(2,n,t),Ze||Gn(4,n,t),bn(e,t,n);break;case 1:Ze||(an(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&eh(n,t,i)),bn(e,t,n);break;case 21:bn(e,t,n);break;case 22:Ze=(i=Ze)||n.memoizedState!==null,bn(e,t,n),Ze=i;break;default:bn(e,t,n)}}function oh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{mr(e)}catch(n){ke(t,t.return,n)}}}function uh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{mr(e)}catch(n){ke(t,t.return,n)}}function Ly(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new rh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new rh),t;default:throw Error(l(435,e.tag))}}function Ni(e,t){var n=Ly(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var o=Xy.bind(null,e,i);i.then(o,o)}})}function _t(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i],c=e,h=t,y=h;e:for(;y!==null;){switch(y.tag){case 27:if(Qn(y.type)){qe=y.stateNode,wt=!1;break e}break;case 5:qe=y.stateNode,wt=!1;break e;case 3:case 4:qe=y.stateNode.containerInfo,wt=!0;break e}y=y.return}if(qe===null)throw Error(l(160));lh(c,h,o),qe=null,wt=!1,c=o.alternate,c!==null&&(c.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)ch(t,e),t=t.sibling}var Qt=null;function ch(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_t(t,e),St(e),i&4&&(Gn(3,e,e.return),ls(3,e),Gn(5,e,e.return));break;case 1:_t(t,e),St(e),i&512&&(Ze||n===null||an(n,n.return)),i&64&&vn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var o=Qt;if(_t(t,e),St(e),i&512&&(Ze||n===null||an(n,n.return)),i&4){var c=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":c=o.getElementsByTagName("title")[0],(!c||c[zr]||c[ot]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=o.createElement(i),o.head.insertBefore(c,o.querySelector("head > title"))),ft(c,i,n),c[ot]=e,st(c),i=c;break e;case"link":var h=cm("link","href",o).get(i+(n.href||""));if(h){for(var y=0;y<h.length;y++)if(c=h[y],c.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&c.getAttribute("rel")===(n.rel==null?null:n.rel)&&c.getAttribute("title")===(n.title==null?null:n.title)&&c.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){h.splice(y,1);break t}}c=o.createElement(i),ft(c,i,n),o.head.appendChild(c);break;case"meta":if(h=cm("meta","content",o).get(i+(n.content||""))){for(y=0;y<h.length;y++)if(c=h[y],c.getAttribute("content")===(n.content==null?null:""+n.content)&&c.getAttribute("name")===(n.name==null?null:n.name)&&c.getAttribute("property")===(n.property==null?null:n.property)&&c.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&c.getAttribute("charset")===(n.charSet==null?null:n.charSet)){h.splice(y,1);break t}}c=o.createElement(i),ft(c,i,n),o.head.appendChild(c);break;default:throw Error(l(468,i))}c[ot]=e,st(c),i=c}e.stateNode=i}else dm(o,e.type,e.stateNode);else e.stateNode=um(o,i,e.memoizedProps);else c!==i?(c===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):c.count--,i===null?dm(o,e.type,e.stateNode):um(o,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Qo(e,e.memoizedProps,n.memoizedProps)}break;case 27:_t(t,e),St(e),i&512&&(Ze||n===null||an(n,n.return)),n!==null&&i&4&&Qo(e,e.memoizedProps,n.memoizedProps);break;case 5:if(_t(t,e),St(e),i&512&&(Ze||n===null||an(n,n.return)),e.flags&32){o=e.stateNode;try{Ba(o,"")}catch(Q){ke(e,e.return,Q)}}i&4&&e.stateNode!=null&&(o=e.memoizedProps,Qo(e,o,n!==null?n.memoizedProps:o)),i&1024&&(Wo=!0);break;case 6:if(_t(t,e),St(e),i&4){if(e.stateNode===null)throw Error(l(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(Q){ke(e,e.return,Q)}}break;case 3:if(Yi=null,o=Qt,Qt=Ii(t.containerInfo),_t(t,e),Qt=o,St(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{mr(t.containerInfo)}catch(Q){ke(e,e.return,Q)}Wo&&(Wo=!1,dh(e));break;case 4:i=Qt,Qt=Ii(e.stateNode.containerInfo),_t(t,e),St(e),Qt=i;break;case 12:_t(t,e),St(e);break;case 31:_t(t,e),St(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ni(e,i)));break;case 13:_t(t,e),St(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Ri=Tt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ni(e,i)));break;case 22:o=e.memoizedState!==null;var w=n!==null&&n.memoizedState!==null,O=vn,D=Ze;if(vn=O||o,Ze=D||w,_t(t,e),Ze=D,vn=O,St(e),i&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||w||vn||Ze||_a(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){w=n=t;try{if(c=w.stateNode,o)h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{y=w.stateNode;var L=w.memoizedProps.style,C=L!=null&&L.hasOwnProperty("display")?L.display:null;y.style.display=C==null||typeof C=="boolean"?"":(""+C).trim()}}catch(Q){ke(w,w.return,Q)}}}else if(t.tag===6){if(n===null){w=t;try{w.stateNode.nodeValue=o?"":w.memoizedProps}catch(Q){ke(w,w.return,Q)}}}else if(t.tag===18){if(n===null){w=t;try{var j=w.stateNode;o?em(j,!0):em(w.stateNode,!1)}catch(Q){ke(w,w.return,Q)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Ni(e,n))));break;case 19:_t(t,e),St(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ni(e,i)));break;case 30:break;case 21:break;default:_t(t,e),St(e)}}function St(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(nh(i)){n=i;break}i=i.return}if(n==null)throw Error(l(160));switch(n.tag){case 27:var o=n.stateNode,c=Zo(e);Ci(e,c,o);break;case 5:var h=n.stateNode;n.flags&32&&(Ba(h,""),n.flags&=-33);var y=Zo(e);Ci(e,y,h);break;case 3:case 4:var w=n.stateNode.containerInfo,O=Zo(e);Po(e,O,w);break;default:throw Error(l(161))}}catch(D){ke(e,e.return,D)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;dh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function wn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)sh(e,t.alternate,t),t=t.sibling}function _a(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Gn(4,t,t.return),_a(t);break;case 1:an(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&eh(t,t.return,n),_a(t);break;case 27:ys(t.stateNode);case 26:case 5:an(t,t.return),_a(t);break;case 22:t.memoizedState===null&&_a(t);break;case 30:_a(t);break;default:_a(t)}e=e.sibling}}function _n(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,o=e,c=t,h=c.flags;switch(c.tag){case 0:case 11:case 15:_n(o,c,n),ls(4,c);break;case 1:if(_n(o,c,n),i=c,o=i.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(O){ke(i,i.return,O)}if(i=c,o=i.updateQueue,o!==null){var y=i.stateNode;try{var w=o.shared.hiddenCallbacks;if(w!==null)for(o.shared.hiddenCallbacks=null,o=0;o<w.length;o++)$d(w[o],y)}catch(O){ke(i,i.return,O)}}n&&h&64&&Ff(c),os(c,c.return);break;case 27:ah(c);case 26:case 5:_n(o,c,n),n&&i===null&&h&4&&th(c),os(c,c.return);break;case 12:_n(o,c,n);break;case 31:_n(o,c,n),n&&h&4&&oh(o,c);break;case 13:_n(o,c,n),n&&h&4&&uh(o,c);break;case 22:c.memoizedState===null&&_n(o,c,n),os(c,c.return);break;case 30:break;default:_n(o,c,n)}t=t.sibling}}function Fo(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Xr(n))}function eu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Xr(e))}function Zt(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)fh(e,t,n,i),t=t.sibling}function fh(e,t,n,i){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Zt(e,t,n,i),o&2048&&ls(9,t);break;case 1:Zt(e,t,n,i);break;case 3:Zt(e,t,n,i),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Xr(e)));break;case 12:if(o&2048){Zt(e,t,n,i),e=t.stateNode;try{var c=t.memoizedProps,h=c.id,y=c.onPostCommit;typeof y=="function"&&y(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){ke(t,t.return,w)}}else Zt(e,t,n,i);break;case 31:Zt(e,t,n,i);break;case 13:Zt(e,t,n,i);break;case 23:break;case 22:c=t.stateNode,h=t.alternate,t.memoizedState!==null?c._visibility&2?Zt(e,t,n,i):us(e,t):c._visibility&2?Zt(e,t,n,i):(c._visibility|=2,ar(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Fo(h,t);break;case 24:Zt(e,t,n,i),o&2048&&eu(t.alternate,t);break;default:Zt(e,t,n,i)}}function ar(e,t,n,i,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,h=t,y=n,w=i,O=h.flags;switch(h.tag){case 0:case 11:case 15:ar(c,h,y,w,o),ls(8,h);break;case 23:break;case 22:var D=h.stateNode;h.memoizedState!==null?D._visibility&2?ar(c,h,y,w,o):us(c,h):(D._visibility|=2,ar(c,h,y,w,o)),o&&O&2048&&Fo(h.alternate,h);break;case 24:ar(c,h,y,w,o),o&&O&2048&&eu(h.alternate,h);break;default:ar(c,h,y,w,o)}t=t.sibling}}function us(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,o=i.flags;switch(i.tag){case 22:us(n,i),o&2048&&Fo(i.alternate,i);break;case 24:us(n,i),o&2048&&eu(i.alternate,i);break;default:us(n,i)}t=t.sibling}}var cs=8192;function rr(e,t,n){if(e.subtreeFlags&cs)for(e=e.child;e!==null;)hh(e,t,n),e=e.sibling}function hh(e,t,n){switch(e.tag){case 26:rr(e,t,n),e.flags&cs&&e.memoizedState!==null&&Tv(n,Qt,e.memoizedState,e.memoizedProps);break;case 5:rr(e,t,n);break;case 3:case 4:var i=Qt;Qt=Ii(e.stateNode.containerInfo),rr(e,t,n),Qt=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=cs,cs=16777216,rr(e,t,n),cs=i):rr(e,t,n));break;default:rr(e,t,n)}}function mh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ds(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];it=i,ph(i,e)}mh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gh(e),e=e.sibling}function gh(e){switch(e.tag){case 0:case 11:case 15:ds(e),e.flags&2048&&Gn(9,e,e.return);break;case 3:ds(e);break;case 12:ds(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ji(e)):ds(e);break;default:ds(e)}}function ji(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];it=i,ph(i,e)}mh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Gn(8,t,t.return),ji(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,ji(t));break;default:ji(t)}e=e.sibling}}function ph(e,t){for(;it!==null;){var n=it;switch(n.tag){case 0:case 11:case 15:Gn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Xr(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,it=i;else e:for(n=e;it!==null;){i=it;var o=i.sibling,c=i.return;if(ih(i),i===n){it=null;break e}if(o!==null){o.return=c,it=o;break e}it=c}}}var Hy={getCacheForType:function(e){var t=ct(Je),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return ct(Je).controller.signal}},$y=typeof WeakMap=="function"?WeakMap:Map,Te=0,je=null,ye=null,we=0,Ae=0,Rt=null,Vn=!1,sr=!1,tu=!1,Sn=0,$e=0,In=0,Sa=0,nu=0,Ut=0,ir=0,fs=null,xt=null,au=!1,Ri=0,yh=0,Ui=1/0,Di=null,Kn=null,We=0,Yn=null,lr=null,xn=0,ru=0,su=null,vh=null,hs=0,iu=null;function Dt(){return(Te&2)!==0&&we!==0?we&-we:R.T!==null?fu():Uc()}function bh(){if(Ut===0)if((we&536870912)===0||Se){var e=Gs;Gs<<=1,(Gs&3932160)===0&&(Gs=262144),Ut=e}else Ut=536870912;return e=Nt.current,e!==null&&(e.flags|=32),Ut}function Et(e,t,n){(e===je&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)&&(or(e,0),Jn(e,we,Ut,!1)),Dr(e,n),((Te&2)===0||e!==je)&&(e===je&&((Te&2)===0&&(Sa|=n),$e===4&&Jn(e,we,Ut,!1)),rn(e))}function wh(e,t,n){if((Te&6)!==0)throw Error(l(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Ur(e,t),o=i?Iy(e,t):ou(e,t,!0),c=i;do{if(o===0){sr&&!i&&Jn(e,t,0,!1);break}else{if(n=e.current.alternate,c&&!Gy(n)){o=ou(e,t,!1),c=!1;continue}if(o===2){if(c=t,e.errorRecoveryDisabledLanes&c)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var y=e;o=fs;var w=y.current.memoizedState.isDehydrated;if(w&&(or(y,h).flags|=256),h=ou(y,h,!1),h!==2){if(tu&&!w){y.errorRecoveryDisabledLanes|=c,Sa|=c,o=4;break e}c=xt,xt=o,c!==null&&(xt===null?xt=c:xt.push.apply(xt,c))}o=h}if(c=!1,o!==2)continue}}if(o===1){or(e,0),Jn(e,t,0,!0);break}e:{switch(i=e,c=o,c){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Jn(i,t,Ut,!Vn);break e;case 2:xt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=Ri+300-Tt(),10<o)){if(Jn(i,t,Ut,!Vn),Is(i,0,!0)!==0)break e;xn=t,i.timeoutHandle=Ph(_h.bind(null,i,n,xt,Di,au,t,Ut,Sa,ir,Vn,c,"Throttled",-0,0),o);break e}_h(i,n,xt,Di,au,t,Ut,Sa,ir,Vn,c,null,-0,0)}}break}while(!0);rn(e)}function _h(e,t,n,i,o,c,h,y,w,O,D,L,C,j){if(e.timeoutHandle=-1,L=t.subtreeFlags,L&8192||(L&16785408)===16785408){L={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:on},hh(t,c,L);var Q=(c&62914560)===c?Ri-Tt():(c&4194048)===c?yh-Tt():0;if(Q=Av(L,Q),Q!==null){xn=c,e.cancelPendingCommit=Q(Ch.bind(null,e,t,c,n,i,o,h,y,w,D,L,null,C,j)),Jn(e,c,h,!O);return}}Ch(e,t,c,n,i,o,h,y,w)}function Gy(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var o=n[i],c=o.getSnapshot;o=o.value;try{if(!Ot(c(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jn(e,t,n,i){t&=~nu,t&=~Sa,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var o=t;0<o;){var c=31-kt(o),h=1<<c;i[c]=-1,o&=~h}n!==0&&Nc(e,n,t)}function zi(){return(Te&6)===0?(ms(0),!1):!0}function lu(){if(ye!==null){if(Ae===0)var e=ye.return;else e=ye,fn=ha=null,xo(e),Wa=null,Zr=0,e=ye;for(;e!==null;)Wf(e.alternate,e),e=e.return;ye=null}}function or(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,ov(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),xn=0,lu(),je=e,ye=n=cn(e.current,null),we=t,Ae=0,Rt=null,Vn=!1,sr=Ur(e,t),tu=!1,ir=Ut=nu=Sa=In=$e=0,xt=fs=null,au=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var o=31-kt(i),c=1<<o;t|=e[o],i&=~c}return Sn=t,ni(),n}function Sh(e,t){de=null,R.H=rs,t===Pa||t===ci?(t=Bd(),Ae=3):t===co?(t=Bd(),Ae=4):Ae=t===Lo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Rt=t,ye===null&&($e=1,Ei(e,$t(t,e.current)))}function xh(){var e=Nt.current;return e===null?!0:(we&4194048)===we?Kt===null:(we&62914560)===we||(we&536870912)!==0?e===Kt:!1}function Eh(){var e=R.H;return R.H=rs,e===null?rs:e}function Th(){var e=R.A;return R.A=Hy,e}function Mi(){$e=4,Vn||(we&4194048)!==we&&Nt.current!==null||(sr=!0),(In&134217727)===0&&(Sa&134217727)===0||je===null||Jn(je,we,Ut,!1)}function ou(e,t,n){var i=Te;Te|=2;var o=Eh(),c=Th();(je!==e||we!==t)&&(Di=null,or(e,t)),t=!1;var h=$e;e:do try{if(Ae!==0&&ye!==null){var y=ye,w=Rt;switch(Ae){case 8:lu(),h=6;break e;case 3:case 2:case 9:case 6:Nt.current===null&&(t=!0);var O=Ae;if(Ae=0,Rt=null,ur(e,y,w,O),n&&sr){h=0;break e}break;default:O=Ae,Ae=0,Rt=null,ur(e,y,w,O)}}Vy(),h=$e;break}catch(D){Sh(e,D)}while(!0);return t&&e.shellSuspendCounter++,fn=ha=null,Te=i,R.H=o,R.A=c,ye===null&&(je=null,we=0,ni()),h}function Vy(){for(;ye!==null;)Ah(ye)}function Iy(e,t){var n=Te;Te|=2;var i=Eh(),o=Th();je!==e||we!==t?(Di=null,Ui=Tt()+500,or(e,t)):sr=Ur(e,t);e:do try{if(Ae!==0&&ye!==null){t=ye;var c=Rt;t:switch(Ae){case 1:Ae=0,Rt=null,ur(e,t,c,1);break;case 2:case 9:if(zd(c)){Ae=0,Rt=null,kh(t);break}t=function(){Ae!==2&&Ae!==9||je!==e||(Ae=7),rn(e)},c.then(t,t);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:zd(c)?(Ae=0,Rt=null,kh(t)):(Ae=0,Rt=null,ur(e,t,c,7));break;case 5:var h=null;switch(ye.tag){case 26:h=ye.memoizedState;case 5:case 27:var y=ye;if(h?fm(h):y.stateNode.complete){Ae=0,Rt=null;var w=y.sibling;if(w!==null)ye=w;else{var O=y.return;O!==null?(ye=O,Bi(O)):ye=null}break t}}Ae=0,Rt=null,ur(e,t,c,5);break;case 6:Ae=0,Rt=null,ur(e,t,c,6);break;case 8:lu(),$e=6;break e;default:throw Error(l(462))}}Ky();break}catch(D){Sh(e,D)}while(!0);return fn=ha=null,R.H=i,R.A=o,Te=n,ye!==null?0:(je=null,we=0,ni(),$e)}function Ky(){for(;ye!==null&&!mp();)Ah(ye)}function Ah(e){var t=Zf(e.alternate,e,Sn);e.memoizedProps=e.pendingProps,t===null?Bi(e):ye=t}function kh(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=If(n,t,t.pendingProps,t.type,void 0,we);break;case 11:t=If(n,t,t.pendingProps,t.type.render,t.ref,we);break;case 5:xo(t);default:Wf(n,t),t=ye=Ed(t,Sn),t=Zf(n,t,Sn)}e.memoizedProps=e.pendingProps,t===null?Bi(e):ye=t}function ur(e,t,n,i){fn=ha=null,xo(t),Wa=null,Zr=0;var o=t.return;try{if(Uy(e,o,t,n,we)){$e=1,Ei(e,$t(n,e.current)),ye=null;return}}catch(c){if(o!==null)throw ye=o,c;$e=1,Ei(e,$t(n,e.current)),ye=null;return}t.flags&32768?(Se||i===1?e=!0:sr||(we&536870912)!==0?e=!1:(Vn=e=!0,(i===2||i===9||i===3||i===6)&&(i=Nt.current,i!==null&&i.tag===13&&(i.flags|=16384))),Oh(t,e)):Bi(t)}function Bi(e){var t=e;do{if((t.flags&32768)!==0){Oh(t,Vn);return}e=t.return;var n=My(t.alternate,t,Sn);if(n!==null){ye=n;return}if(t=t.sibling,t!==null){ye=t;return}ye=t=e}while(t!==null);$e===0&&($e=5)}function Oh(e,t){do{var n=By(e.alternate,e);if(n!==null){n.flags&=32767,ye=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ye=e;return}ye=e=n}while(e!==null);$e=6,ye=null}function Ch(e,t,n,i,o,c,h,y,w){e.cancelPendingCommit=null;do qi();while(We!==0);if((Te&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(c=t.lanes|t.childLanes,c|=Ql,Ep(e,n,c,h,y,w),e===je&&(ye=je=null,we=0),lr=t,Yn=e,xn=n,ru=c,su=o,vh=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Qy(Hs,function(){return Dh(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=R.T,R.T=null,o=I.p,I.p=2,h=Te,Te|=4;try{qy(e,t,n)}finally{Te=h,I.p=o,R.T=i}}We=1,Nh(),jh(),Rh()}}function Nh(){if(We===1){We=0;var e=Yn,t=lr,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=R.T,R.T=null;var i=I.p;I.p=2;var o=Te;Te|=4;try{ch(t,e);var c=wu,h=gd(e.containerInfo),y=c.focusedElem,w=c.selectionRange;if(h!==y&&y&&y.ownerDocument&&md(y.ownerDocument.documentElement,y)){if(w!==null&&Il(y)){var O=w.start,D=w.end;if(D===void 0&&(D=O),"selectionStart"in y)y.selectionStart=O,y.selectionEnd=Math.min(D,y.value.length);else{var L=y.ownerDocument||document,C=L&&L.defaultView||window;if(C.getSelection){var j=C.getSelection(),Q=y.textContent.length,re=Math.min(w.start,Q),Ne=w.end===void 0?re:Math.min(w.end,Q);!j.extend&&re>Ne&&(h=Ne,Ne=re,re=h);var T=hd(y,re),S=hd(y,Ne);if(T&&S&&(j.rangeCount!==1||j.anchorNode!==T.node||j.anchorOffset!==T.offset||j.focusNode!==S.node||j.focusOffset!==S.offset)){var k=L.createRange();k.setStart(T.node,T.offset),j.removeAllRanges(),re>Ne?(j.addRange(k),j.extend(S.node,S.offset)):(k.setEnd(S.node,S.offset),j.addRange(k))}}}}for(L=[],j=y;j=j.parentNode;)j.nodeType===1&&L.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<L.length;y++){var B=L[y];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}Zi=!!bu,wu=bu=null}finally{Te=o,I.p=i,R.T=n}}e.current=t,We=2}}function jh(){if(We===2){We=0;var e=Yn,t=lr,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=R.T,R.T=null;var i=I.p;I.p=2;var o=Te;Te|=4;try{sh(e,t.alternate,t)}finally{Te=o,I.p=i,R.T=n}}We=3}}function Rh(){if(We===4||We===3){We=0,gp();var e=Yn,t=lr,n=xn,i=vh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?We=5:(We=0,lr=Yn=null,Uh(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Kn=null),Tl(n),t=t.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Rr,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=R.T,o=I.p,I.p=2,R.T=null;try{for(var c=e.onRecoverableError,h=0;h<i.length;h++){var y=i[h];c(y.value,{componentStack:y.stack})}}finally{R.T=t,I.p=o}}(xn&3)!==0&&qi(),rn(e),o=e.pendingLanes,(n&261930)!==0&&(o&42)!==0?e===iu?hs++:(hs=0,iu=e):hs=0,ms(0)}}function Uh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Xr(t)))}function qi(){return Nh(),jh(),Rh(),Dh()}function Dh(){if(We!==5)return!1;var e=Yn,t=ru;ru=0;var n=Tl(xn),i=R.T,o=I.p;try{I.p=32>n?32:n,R.T=null,n=su,su=null;var c=Yn,h=xn;if(We=0,lr=Yn=null,xn=0,(Te&6)!==0)throw Error(l(331));var y=Te;if(Te|=4,gh(c.current),fh(c,c.current,h,n),Te=y,ms(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Rr,c)}catch{}return!0}finally{I.p=o,R.T=i,Uh(e,t)}}function zh(e,t,n){t=$t(n,t),t=qo(e.stateNode,t,2),e=Ln(e,t,2),e!==null&&(Dr(e,2),rn(e))}function ke(e,t,n){if(e.tag===3)zh(e,e,n);else for(;t!==null;){if(t.tag===3){zh(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Kn===null||!Kn.has(i))){e=$t(n,e),n=Mf(2),i=Ln(t,n,2),i!==null&&(Bf(n,i,t,e),Dr(i,2),rn(i));break}}t=t.return}}function uu(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new $y;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(n)||(tu=!0,o.add(n),e=Yy.bind(null,e,t,n),t.then(e,e))}function Yy(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,je===e&&(we&n)===n&&($e===4||$e===3&&(we&62914560)===we&&300>Tt()-Ri?(Te&2)===0&&or(e,0):nu|=n,ir===we&&(ir=0)),rn(e)}function Mh(e,t){t===0&&(t=Cc()),e=ca(e,t),e!==null&&(Dr(e,t),rn(e))}function Jy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Mh(e,n)}function Xy(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(l(314))}i!==null&&i.delete(t),Mh(e,n)}function Qy(e,t){return _l(e,t)}var Li=null,cr=null,cu=!1,Hi=!1,du=!1,Xn=0;function rn(e){e!==cr&&e.next===null&&(cr===null?Li=cr=e:cr=cr.next=e),Hi=!0,cu||(cu=!0,Py())}function ms(e,t){if(!du&&Hi){du=!0;do for(var n=!1,i=Li;i!==null;){if(e!==0){var o=i.pendingLanes;if(o===0)var c=0;else{var h=i.suspendedLanes,y=i.pingedLanes;c=(1<<31-kt(42|e)+1)-1,c&=o&~(h&~y),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(n=!0,Hh(i,c))}else c=we,c=Is(i,i===je?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(c&3)===0||Ur(i,c)||(n=!0,Hh(i,c));i=i.next}while(n);du=!1}}function Zy(){Bh()}function Bh(){Hi=cu=!1;var e=0;Xn!==0&&lv()&&(e=Xn);for(var t=Tt(),n=null,i=Li;i!==null;){var o=i.next,c=qh(i,t);c===0?(i.next=null,n===null?Li=o:n.next=o,o===null&&(cr=n)):(n=i,(e!==0||(c&3)!==0)&&(Hi=!0)),i=o}We!==0&&We!==5||ms(e),Xn!==0&&(Xn=0)}function qh(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var h=31-kt(c),y=1<<h,w=o[h];w===-1?((y&n)===0||(y&i)!==0)&&(o[h]=xp(y,t)):w<=t&&(e.expiredLanes|=y),c&=~y}if(t=je,n=we,n=Is(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Sl(i),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Ur(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Sl(i),Tl(n)){case 2:case 8:n=kc;break;case 32:n=Hs;break;case 268435456:n=Oc;break;default:n=Hs}return i=Lh.bind(null,e),n=_l(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Sl(i),e.callbackPriority=2,e.callbackNode=null,2}function Lh(e,t){if(We!==0&&We!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(qi()&&e.callbackNode!==n)return null;var i=we;return i=Is(e,e===je?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(wh(e,i,t),qh(e,Tt()),e.callbackNode!=null&&e.callbackNode===n?Lh.bind(null,e):null)}function Hh(e,t){if(qi())return null;wh(e,t,!0)}function Py(){uv(function(){(Te&6)!==0?_l(Ac,Zy):Bh()})}function fu(){if(Xn===0){var e=Qa;e===0&&(e=$s,$s<<=1,($s&261888)===0&&($s=256)),Xn=e}return Xn}function $h(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xs(""+e)}function Gh(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Wy(e,t,n,i,o){if(t==="submit"&&n&&n.stateNode===o){var c=$h((o[vt]||null).action),h=i.submitter;h&&(t=(t=h[vt]||null)?$h(t.formAction):h.getAttribute("formAction"),t!==null&&(c=t,h=null));var y=new Ws("action","action",null,i,o);e.push({event:y,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Xn!==0){var w=h?Gh(o,h):new FormData(o);Ro(n,{pending:!0,data:w,method:o.method,action:c},null,w)}}else typeof c=="function"&&(y.preventDefault(),w=h?Gh(o,h):new FormData(o),Ro(n,{pending:!0,data:w,method:o.method,action:c},c,w))},currentTarget:o}]})}}for(var hu=0;hu<Xl.length;hu++){var mu=Xl[hu],Fy=mu.toLowerCase(),ev=mu[0].toUpperCase()+mu.slice(1);Xt(Fy,"on"+ev)}Xt(vd,"onAnimationEnd"),Xt(bd,"onAnimationIteration"),Xt(wd,"onAnimationStart"),Xt("dblclick","onDoubleClick"),Xt("focusin","onFocus"),Xt("focusout","onBlur"),Xt(py,"onTransitionRun"),Xt(yy,"onTransitionStart"),Xt(vy,"onTransitionCancel"),Xt(_d,"onTransitionEnd"),za("onMouseEnter",["mouseout","mouseover"]),za("onMouseLeave",["mouseout","mouseover"]),za("onPointerEnter",["pointerout","pointerover"]),za("onPointerLeave",["pointerout","pointerover"]),ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ia("onBeforeInput",["compositionend","keypress","textInput","paste"]),ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gs));function Vh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],o=i.event;i=i.listeners;e:{var c=void 0;if(t)for(var h=i.length-1;0<=h;h--){var y=i[h],w=y.instance,O=y.currentTarget;if(y=y.listener,w!==c&&o.isPropagationStopped())break e;c=y,o.currentTarget=O;try{c(o)}catch(D){ti(D)}o.currentTarget=null,c=w}else for(h=0;h<i.length;h++){if(y=i[h],w=y.instance,O=y.currentTarget,y=y.listener,w!==c&&o.isPropagationStopped())break e;c=y,o.currentTarget=O;try{c(o)}catch(D){ti(D)}o.currentTarget=null,c=w}}}}function ve(e,t){var n=t[Al];n===void 0&&(n=t[Al]=new Set);var i=e+"__bubble";n.has(i)||(Ih(t,e,2,!1),n.add(i))}function gu(e,t,n){var i=0;t&&(i|=4),Ih(n,e,i,t)}var $i="_reactListening"+Math.random().toString(36).slice(2);function pu(e){if(!e[$i]){e[$i]=!0,Mc.forEach(function(n){n!=="selectionchange"&&(tv.has(n)||gu(n,!1,e),gu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$i]||(t[$i]=!0,gu("selectionchange",!1,t))}}function Ih(e,t,n,i){switch(bm(t)){case 2:var o=Cv;break;case 8:o=Nv;break;default:o=ju}n=o.bind(null,t,n,e),o=void 0,!zl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function yu(e,t,n,i,o){var c=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var h=i.tag;if(h===3||h===4){var y=i.stateNode.containerInfo;if(y===o)break;if(h===4)for(h=i.return;h!==null;){var w=h.tag;if((w===3||w===4)&&h.stateNode.containerInfo===o)return;h=h.return}for(;y!==null;){if(h=Ra(y),h===null)return;if(w=h.tag,w===5||w===6||w===26||w===27){i=c=h;continue e}y=y.parentNode}}i=i.return}Xc(function(){var O=c,D=Ul(n),L=[];e:{var C=Sd.get(e);if(C!==void 0){var j=Ws,Q=e;switch(e){case"keypress":if(Zs(n)===0)break e;case"keydown":case"keyup":j=Xp;break;case"focusin":Q="focus",j=Ll;break;case"focusout":Q="blur",j=Ll;break;case"beforeblur":case"afterblur":j=Ll;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Pc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Mp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Pp;break;case vd:case bd:case wd:j=Lp;break;case _d:j=Fp;break;case"scroll":case"scrollend":j=Dp;break;case"wheel":j=ty;break;case"copy":case"cut":case"paste":j=$p;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Fc;break;case"toggle":case"beforetoggle":j=ay}var re=(t&4)!==0,Ne=!re&&(e==="scroll"||e==="scrollend"),T=re?C!==null?C+"Capture":null:C;re=[];for(var S=O,k;S!==null;){var B=S;if(k=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||k===null||T===null||(B=Br(S,T),B!=null&&re.push(ps(S,B,k))),Ne)break;S=S.return}0<re.length&&(C=new j(C,Q,null,n,D),L.push({event:C,listeners:re}))}}if((t&7)===0){e:{if(C=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",C&&n!==Rl&&(Q=n.relatedTarget||n.fromElement)&&(Ra(Q)||Q[ja]))break e;if((j||C)&&(C=D.window===D?D:(C=D.ownerDocument)?C.defaultView||C.parentWindow:window,j?(Q=n.relatedTarget||n.toElement,j=O,Q=Q?Ra(Q):null,Q!==null&&(Ne=d(Q),re=Q.tag,Q!==Ne||re!==5&&re!==27&&re!==6)&&(Q=null)):(j=null,Q=O),j!==Q)){if(re=Pc,B="onMouseLeave",T="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(re=Fc,B="onPointerLeave",T="onPointerEnter",S="pointer"),Ne=j==null?C:Mr(j),k=Q==null?C:Mr(Q),C=new re(B,S+"leave",j,n,D),C.target=Ne,C.relatedTarget=k,B=null,Ra(D)===O&&(re=new re(T,S+"enter",Q,n,D),re.target=k,re.relatedTarget=Ne,B=re),Ne=B,j&&Q)t:{for(re=nv,T=j,S=Q,k=0,B=T;B;B=re(B))k++;B=0;for(var ne=S;ne;ne=re(ne))B++;for(;0<k-B;)T=re(T),k--;for(;0<B-k;)S=re(S),B--;for(;k--;){if(T===S||S!==null&&T===S.alternate){re=T;break t}T=re(T),S=re(S)}re=null}else re=null;j!==null&&Kh(L,C,j,re,!1),Q!==null&&Ne!==null&&Kh(L,Ne,Q,re,!0)}}e:{if(C=O?Mr(O):window,j=C.nodeName&&C.nodeName.toLowerCase(),j==="select"||j==="input"&&C.type==="file")var xe=ld;else if(sd(C))if(od)xe=hy;else{xe=dy;var F=cy}else j=C.nodeName,!j||j.toLowerCase()!=="input"||C.type!=="checkbox"&&C.type!=="radio"?O&&jl(O.elementType)&&(xe=ld):xe=fy;if(xe&&(xe=xe(e,O))){id(L,xe,n,D);break e}F&&F(e,C,O),e==="focusout"&&O&&C.type==="number"&&O.memoizedProps.value!=null&&Nl(C,"number",C.value)}switch(F=O?Mr(O):window,e){case"focusin":(sd(F)||F.contentEditable==="true")&&($a=F,Kl=O,Kr=null);break;case"focusout":Kr=Kl=$a=null;break;case"mousedown":Yl=!0;break;case"contextmenu":case"mouseup":case"dragend":Yl=!1,pd(L,n,D);break;case"selectionchange":if(gy)break;case"keydown":case"keyup":pd(L,n,D)}var he;if($l)e:{switch(e){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Ha?ad(e,n)&&(_e="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_e="onCompositionStart");_e&&(ed&&n.locale!=="ko"&&(Ha||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Ha&&(he=Qc()):(Rn=D,Ml="value"in Rn?Rn.value:Rn.textContent,Ha=!0)),F=Gi(O,_e),0<F.length&&(_e=new Wc(_e,e,null,n,D),L.push({event:_e,listeners:F}),he?_e.data=he:(he=rd(n),he!==null&&(_e.data=he)))),(he=sy?iy(e,n):ly(e,n))&&(_e=Gi(O,"onBeforeInput"),0<_e.length&&(F=new Wc("onBeforeInput","beforeinput",null,n,D),L.push({event:F,listeners:_e}),F.data=he)),Wy(L,e,O,n,D)}Vh(L,t)})}function ps(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gi(e,t){for(var n=t+"Capture",i=[];e!==null;){var o=e,c=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||c===null||(o=Br(e,n),o!=null&&i.unshift(ps(e,o,c)),o=Br(e,t),o!=null&&i.push(ps(e,o,c))),e.tag===3)return i;e=e.return}return[]}function nv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Kh(e,t,n,i,o){for(var c=t._reactName,h=[];n!==null&&n!==i;){var y=n,w=y.alternate,O=y.stateNode;if(y=y.tag,w!==null&&w===i)break;y!==5&&y!==26&&y!==27||O===null||(w=O,o?(O=Br(n,c),O!=null&&h.unshift(ps(n,O,w))):o||(O=Br(n,c),O!=null&&h.push(ps(n,O,w)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var av=/\r\n?/g,rv=/\u0000|\uFFFD/g;function Yh(e){return(typeof e=="string"?e:""+e).replace(av,`
`).replace(rv,"")}function Jh(e,t){return t=Yh(t),Yh(e)===t}function Ce(e,t,n,i,o,c){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Ba(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Ba(e,""+i);break;case"className":Ys(e,"class",i);break;case"tabIndex":Ys(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Ys(e,n,i);break;case"style":Yc(e,i,c);break;case"data":if(t!=="object"){Ys(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Xs(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(n==="formAction"?(t!=="input"&&Ce(e,t,"name",o.name,o,null),Ce(e,t,"formEncType",o.formEncType,o,null),Ce(e,t,"formMethod",o.formMethod,o,null),Ce(e,t,"formTarget",o.formTarget,o,null)):(Ce(e,t,"encType",o.encType,o,null),Ce(e,t,"method",o.method,o,null),Ce(e,t,"target",o.target,o,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Xs(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=on);break;case"onScroll":i!=null&&ve("scroll",e);break;case"onScrollEnd":i!=null&&ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Xs(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":ve("beforetoggle",e),ve("toggle",e),Ks(e,"popover",i);break;case"xlinkActuate":ln(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ln(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ln(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ln(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ln(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ln(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ln(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ln(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ln(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Ks(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Rp.get(n)||n,Ks(e,n,i))}}function vu(e,t,n,i,o,c){switch(n){case"style":Yc(e,i,c);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Ba(e,i):(typeof i=="number"||typeof i=="bigint")&&Ba(e,""+i);break;case"onScroll":i!=null&&ve("scroll",e);break;case"onScrollEnd":i!=null&&ve("scrollend",e);break;case"onClick":i!=null&&(e.onclick=on);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bc.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),c=e[vt]||null,c=c!=null?c[n]:null,typeof c=="function"&&e.removeEventListener(t,c,o),typeof i=="function")){typeof c!="function"&&c!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,o);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):Ks(e,n,i)}}}function ft(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",e),ve("load",e);var i=!1,o=!1,c;for(c in n)if(n.hasOwnProperty(c)){var h=n[c];if(h!=null)switch(c){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ce(e,t,c,h,n,null)}}o&&Ce(e,t,"srcSet",n.srcSet,n,null),i&&Ce(e,t,"src",n.src,n,null);return;case"input":ve("invalid",e);var y=c=h=o=null,w=null,O=null;for(i in n)if(n.hasOwnProperty(i)){var D=n[i];if(D!=null)switch(i){case"name":o=D;break;case"type":h=D;break;case"checked":w=D;break;case"defaultChecked":O=D;break;case"value":c=D;break;case"defaultValue":y=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(l(137,t));break;default:Ce(e,t,i,D,n,null)}}Gc(e,c,y,w,O,h,o,!1);return;case"select":ve("invalid",e),i=h=c=null;for(o in n)if(n.hasOwnProperty(o)&&(y=n[o],y!=null))switch(o){case"value":c=y;break;case"defaultValue":h=y;break;case"multiple":i=y;default:Ce(e,t,o,y,n,null)}t=c,n=h,e.multiple=!!i,t!=null?Ma(e,!!i,t,!1):n!=null&&Ma(e,!!i,n,!0);return;case"textarea":ve("invalid",e),c=o=i=null;for(h in n)if(n.hasOwnProperty(h)&&(y=n[h],y!=null))switch(h){case"value":i=y;break;case"defaultValue":o=y;break;case"children":c=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(l(91));break;default:Ce(e,t,h,y,n,null)}Ic(e,i,o,c);return;case"option":for(w in n)n.hasOwnProperty(w)&&(i=n[w],i!=null)&&(w==="selected"?e.selected=i&&typeof i!="function"&&typeof i!="symbol":Ce(e,t,w,i,n,null));return;case"dialog":ve("beforetoggle",e),ve("toggle",e),ve("cancel",e),ve("close",e);break;case"iframe":case"object":ve("load",e);break;case"video":case"audio":for(i=0;i<gs.length;i++)ve(gs[i],e);break;case"image":ve("error",e),ve("load",e);break;case"details":ve("toggle",e);break;case"embed":case"source":case"link":ve("error",e),ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in n)if(n.hasOwnProperty(O)&&(i=n[O],i!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ce(e,t,O,i,n,null)}return;default:if(jl(t)){for(D in n)n.hasOwnProperty(D)&&(i=n[D],i!==void 0&&vu(e,t,D,i,n,void 0));return}}for(y in n)n.hasOwnProperty(y)&&(i=n[y],i!=null&&Ce(e,t,y,i,n,null))}function sv(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,c=null,h=null,y=null,w=null,O=null,D=null;for(j in n){var L=n[j];if(n.hasOwnProperty(j)&&L!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":w=L;default:i.hasOwnProperty(j)||Ce(e,t,j,null,i,L)}}for(var C in i){var j=i[C];if(L=n[C],i.hasOwnProperty(C)&&(j!=null||L!=null))switch(C){case"type":c=j;break;case"name":o=j;break;case"checked":O=j;break;case"defaultChecked":D=j;break;case"value":h=j;break;case"defaultValue":y=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(l(137,t));break;default:j!==L&&Ce(e,t,C,j,i,L)}}Cl(e,h,y,w,O,D,c,o);return;case"select":j=h=y=C=null;for(c in n)if(w=n[c],n.hasOwnProperty(c)&&w!=null)switch(c){case"value":break;case"multiple":j=w;default:i.hasOwnProperty(c)||Ce(e,t,c,null,i,w)}for(o in i)if(c=i[o],w=n[o],i.hasOwnProperty(o)&&(c!=null||w!=null))switch(o){case"value":C=c;break;case"defaultValue":y=c;break;case"multiple":h=c;default:c!==w&&Ce(e,t,o,c,i,w)}t=y,n=h,i=j,C!=null?Ma(e,!!n,C,!1):!!i!=!!n&&(t!=null?Ma(e,!!n,t,!0):Ma(e,!!n,n?[]:"",!1));return;case"textarea":j=C=null;for(y in n)if(o=n[y],n.hasOwnProperty(y)&&o!=null&&!i.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Ce(e,t,y,null,i,o)}for(h in i)if(o=i[h],c=n[h],i.hasOwnProperty(h)&&(o!=null||c!=null))switch(h){case"value":C=o;break;case"defaultValue":j=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==c&&Ce(e,t,h,o,i,c)}Vc(e,C,j);return;case"option":for(var Q in n)C=n[Q],n.hasOwnProperty(Q)&&C!=null&&!i.hasOwnProperty(Q)&&(Q==="selected"?e.selected=!1:Ce(e,t,Q,null,i,C));for(w in i)C=i[w],j=n[w],i.hasOwnProperty(w)&&C!==j&&(C!=null||j!=null)&&(w==="selected"?e.selected=C&&typeof C!="function"&&typeof C!="symbol":Ce(e,t,w,C,i,j));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in n)C=n[re],n.hasOwnProperty(re)&&C!=null&&!i.hasOwnProperty(re)&&Ce(e,t,re,null,i,C);for(O in i)if(C=i[O],j=n[O],i.hasOwnProperty(O)&&C!==j&&(C!=null||j!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(l(137,t));break;default:Ce(e,t,O,C,i,j)}return;default:if(jl(t)){for(var Ne in n)C=n[Ne],n.hasOwnProperty(Ne)&&C!==void 0&&!i.hasOwnProperty(Ne)&&vu(e,t,Ne,void 0,i,C);for(D in i)C=i[D],j=n[D],!i.hasOwnProperty(D)||C===j||C===void 0&&j===void 0||vu(e,t,D,C,i,j);return}}for(var T in n)C=n[T],n.hasOwnProperty(T)&&C!=null&&!i.hasOwnProperty(T)&&Ce(e,t,T,null,i,C);for(L in i)C=i[L],j=n[L],!i.hasOwnProperty(L)||C===j||C==null&&j==null||Ce(e,t,L,C,i,j)}function Xh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function iv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var o=n[i],c=o.transferSize,h=o.initiatorType,y=o.duration;if(c&&y&&Xh(h)){for(h=0,y=o.responseEnd,i+=1;i<n.length;i++){var w=n[i],O=w.startTime;if(O>y)break;var D=w.transferSize,L=w.initiatorType;D&&Xh(L)&&(w=w.responseEnd,h+=D*(w<y?1:(y-O)/(w-O)))}if(--i,t+=8*(c+h)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var bu=null,wu=null;function Vi(e){return e.nodeType===9?e:e.ownerDocument}function Qh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function _u(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Su=null;function lv(){var e=window.event;return e&&e.type==="popstate"?e===Su?!1:(Su=e,!0):(Su=null,!1)}var Ph=typeof setTimeout=="function"?setTimeout:void 0,ov=typeof clearTimeout=="function"?clearTimeout:void 0,Wh=typeof Promise=="function"?Promise:void 0,uv=typeof queueMicrotask=="function"?queueMicrotask:typeof Wh<"u"?function(e){return Wh.resolve(null).then(e).catch(cv)}:Ph;function cv(e){setTimeout(function(){throw e})}function Qn(e){return e==="head"}function Fh(e,t){var n=t,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(o),mr(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")ys(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,ys(n);for(var c=n.firstChild;c;){var h=c.nextSibling,y=c.nodeName;c[zr]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&c.rel.toLowerCase()==="stylesheet"||n.removeChild(c),c=h}}else n==="body"&&ys(e.ownerDocument.body);n=o}while(n);mr(t)}function em(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function xu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":xu(n),kl(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function dv(e,t,n,i){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[zr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Yt(e.nextSibling),e===null)break}return null}function fv(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Yt(e.nextSibling),e===null))return null;return e}function tm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Yt(e.nextSibling),e===null))return null;return e}function Eu(e){return e.data==="$?"||e.data==="$~"}function Tu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function hv(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Yt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Au=null;function nm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Yt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function am(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function rm(e,t,n){switch(t=Vi(n),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function ys(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);kl(e)}var Jt=new Map,sm=new Set;function Ii(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var En=I.d;I.d={f:mv,r:gv,D:pv,C:yv,L:vv,m:bv,X:_v,S:wv,M:Sv};function mv(){var e=En.f(),t=zi();return e||t}function gv(e){var t=Ua(e);t!==null&&t.tag===5&&t.type==="form"?Sf(t):En.r(e)}var dr=typeof document>"u"?null:document;function im(e,t,n){var i=dr;if(i&&typeof t=="string"&&t){var o=Lt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),sm.has(o)||(sm.add(o),e={rel:e,crossOrigin:n,href:t},i.querySelector(o)===null&&(t=i.createElement("link"),ft(t,"link",e),st(t),i.head.appendChild(t)))}}function pv(e){En.D(e),im("dns-prefetch",e,null)}function yv(e,t){En.C(e,t),im("preconnect",e,t)}function vv(e,t,n){En.L(e,t,n);var i=dr;if(i&&e&&t){var o='link[rel="preload"][as="'+Lt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+Lt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+Lt(n.imageSizes)+'"]')):o+='[href="'+Lt(e)+'"]';var c=o;switch(t){case"style":c=fr(e);break;case"script":c=hr(e)}Jt.has(c)||(e=x({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Jt.set(c,e),i.querySelector(o)!==null||t==="style"&&i.querySelector(vs(c))||t==="script"&&i.querySelector(bs(c))||(t=i.createElement("link"),ft(t,"link",e),st(t),i.head.appendChild(t)))}}function bv(e,t){En.m(e,t);var n=dr;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Lt(i)+'"][href="'+Lt(e)+'"]',c=o;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=hr(e)}if(!Jt.has(c)&&(e=x({rel:"modulepreload",href:e},t),Jt.set(c,e),n.querySelector(o)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(bs(c)))return}i=n.createElement("link"),ft(i,"link",e),st(i),n.head.appendChild(i)}}}function wv(e,t,n){En.S(e,t,n);var i=dr;if(i&&e){var o=Da(i).hoistableStyles,c=fr(e);t=t||"default";var h=o.get(c);if(!h){var y={loading:0,preload:null};if(h=i.querySelector(vs(c)))y.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Jt.get(c))&&ku(e,n);var w=h=i.createElement("link");st(w),ft(w,"link",e),w._p=new Promise(function(O,D){w.onload=O,w.onerror=D}),w.addEventListener("load",function(){y.loading|=1}),w.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Ki(h,t,i)}h={type:"stylesheet",instance:h,count:1,state:y},o.set(c,h)}}}function _v(e,t){En.X(e,t);var n=dr;if(n&&e){var i=Da(n).hoistableScripts,o=hr(e),c=i.get(o);c||(c=n.querySelector(bs(o)),c||(e=x({src:e,async:!0},t),(t=Jt.get(o))&&Ou(e,t),c=n.createElement("script"),st(c),ft(c,"link",e),n.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},i.set(o,c))}}function Sv(e,t){En.M(e,t);var n=dr;if(n&&e){var i=Da(n).hoistableScripts,o=hr(e),c=i.get(o);c||(c=n.querySelector(bs(o)),c||(e=x({src:e,async:!0,type:"module"},t),(t=Jt.get(o))&&Ou(e,t),c=n.createElement("script"),st(c),ft(c,"link",e),n.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},i.set(o,c))}}function lm(e,t,n,i){var o=(o=me.current)?Ii(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=fr(n.href),n=Da(o).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=fr(n.href);var c=Da(o).hoistableStyles,h=c.get(e);if(h||(o=o.ownerDocument||o,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,h),(c=o.querySelector(vs(e)))&&!c._p&&(h.instance=c,h.state.loading=5),Jt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Jt.set(e,n),c||xv(o,e,n,h.state))),t&&i===null)throw Error(l(528,""));return h}if(t&&i!==null)throw Error(l(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=hr(n),n=Da(o).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function fr(e){return'href="'+Lt(e)+'"'}function vs(e){return'link[rel="stylesheet"]['+e+"]"}function om(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function xv(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ft(t,"link",n),st(t),e.head.appendChild(t))}function hr(e){return'[src="'+Lt(e)+'"]'}function bs(e){return"script[async]"+e}function um(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Lt(n.href)+'"]');if(i)return t.instance=i,st(i),i;var o=x({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),st(i),ft(i,"style",o),Ki(i,n.precedence,e),t.instance=i;case"stylesheet":o=fr(n.href);var c=e.querySelector(vs(o));if(c)return t.state.loading|=4,t.instance=c,st(c),c;i=om(n),(o=Jt.get(o))&&ku(i,o),c=(e.ownerDocument||e).createElement("link"),st(c);var h=c;return h._p=new Promise(function(y,w){h.onload=y,h.onerror=w}),ft(c,"link",i),t.state.loading|=4,Ki(c,n.precedence,e),t.instance=c;case"script":return c=hr(n.src),(o=e.querySelector(bs(c)))?(t.instance=o,st(o),o):(i=n,(o=Jt.get(c))&&(i=x({},n),Ou(i,o)),e=e.ownerDocument||e,o=e.createElement("script"),st(o),ft(o,"link",i),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,Ki(i,n.precedence,e));return t.instance}function Ki(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=i.length?i[i.length-1]:null,c=o,h=0;h<i.length;h++){var y=i[h];if(y.dataset.precedence===t)c=y;else if(c!==o)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function ku(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ou(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Yi=null;function cm(e,t,n){if(Yi===null){var i=new Map,o=Yi=new Map;o.set(n,i)}else o=Yi,i=o.get(n),i||(i=new Map,o.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var c=n[o];if(!(c[zr]||c[ot]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var h=c.getAttribute(t)||"";h=e+h;var y=i.get(h);y?y.push(c):i.set(h,[c])}}return i}function dm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Ev(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function fm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Tv(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var o=fr(i.href),c=t.querySelector(vs(o));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ji.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=c,st(c);return}c=t.ownerDocument||t,i=om(i),(o=Jt.get(o))&&ku(i,o),c=c.createElement("link"),st(c);var h=c;h._p=new Promise(function(y,w){h.onload=y,h.onerror=w}),ft(c,"link",i),n.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Ji.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Cu=0;function Av(e,t){return e.stylesheets&&e.count===0&&Qi(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&Qi(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&Cu===0&&(Cu=62500*iv());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Qi(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>Cu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(o)}}:null}function Ji(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qi(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Xi=null;function Qi(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Xi=new Map,t.forEach(kv,e),Xi=null,Ji.call(e))}function kv(e,t){if(!(t.state.loading&4)){var n=Xi.get(e);if(n)var i=n.get(null);else{n=new Map,Xi.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<o.length;c++){var h=o[c];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(n.set(h.dataset.precedence,h),i=h)}i&&n.set(null,i)}o=t.instance,h=o.getAttribute("data-precedence"),c=n.get(h)||i,c===i&&n.set(null,o),n.set(h,o),this.count++,i=Ji.bind(this),o.addEventListener("load",i),o.addEventListener("error",i),c?c.parentNode.insertBefore(o,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var ws={$$typeof:H,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function Ov(e,t,n,i,o,c,h,y,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xl(0),this.hiddenUpdates=xl(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=c,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function hm(e,t,n,i,o,c,h,y,w,O,D,L){return e=new Ov(e,t,n,h,w,O,D,L,y),t=1,c===!0&&(t|=24),c=Ct(3,null,null,t),e.current=c,c.stateNode=e,t=lo(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:i,isDehydrated:n,cache:t},fo(c),e}function mm(e){return e?(e=Ia,e):Ia}function gm(e,t,n,i,o,c){o=mm(o),i.context===null?i.context=o:i.pendingContext=o,i=qn(t),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=Ln(e,i,t),n!==null&&(Et(n,e,t),Wr(n,e,t))}function pm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Nu(e,t){pm(e,t),(e=e.alternate)&&pm(e,t)}function ym(e){if(e.tag===13||e.tag===31){var t=ca(e,67108864);t!==null&&Et(t,e,67108864),Nu(e,67108864)}}function vm(e){if(e.tag===13||e.tag===31){var t=Dt();t=El(t);var n=ca(e,t);n!==null&&Et(n,e,t),Nu(e,t)}}var Zi=!0;function Cv(e,t,n,i){var o=R.T;R.T=null;var c=I.p;try{I.p=2,ju(e,t,n,i)}finally{I.p=c,R.T=o}}function Nv(e,t,n,i){var o=R.T;R.T=null;var c=I.p;try{I.p=8,ju(e,t,n,i)}finally{I.p=c,R.T=o}}function ju(e,t,n,i){if(Zi){var o=Ru(i);if(o===null)yu(e,t,i,Pi,n),wm(e,i);else if(Rv(o,e,t,n,i))i.stopPropagation();else if(wm(e,i),t&4&&-1<jv.indexOf(e)){for(;o!==null;){var c=Ua(o);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var h=sa(c.pendingLanes);if(h!==0){var y=c;for(y.pendingLanes|=2,y.entangledLanes|=2;h;){var w=1<<31-kt(h);y.entanglements[1]|=w,h&=~w}rn(c),(Te&6)===0&&(Ui=Tt()+500,ms(0))}}break;case 31:case 13:y=ca(c,2),y!==null&&Et(y,c,2),zi(),Nu(c,2)}if(c=Ru(i),c===null&&yu(e,t,i,Pi,n),c===o)break;o=c}o!==null&&i.stopPropagation()}else yu(e,t,i,null,n)}}function Ru(e){return e=Ul(e),Uu(e)}var Pi=null;function Uu(e){if(Pi=null,e=Ra(e),e!==null){var t=d(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=f(t),e!==null)return e;e=null}else if(n===31){if(e=g(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Pi=e,null}function bm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pp()){case Ac:return 2;case kc:return 8;case Hs:case yp:return 32;case Oc:return 268435456;default:return 32}default:return 32}}var Du=!1,Zn=null,Pn=null,Wn=null,_s=new Map,Ss=new Map,Fn=[],jv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wm(e,t){switch(e){case"focusin":case"focusout":Zn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":_s.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ss.delete(t.pointerId)}}function xs(e,t,n,i,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:c,targetContainers:[o]},t!==null&&(t=Ua(t),t!==null&&ym(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Rv(e,t,n,i,o){switch(t){case"focusin":return Zn=xs(Zn,e,t,n,i,o),!0;case"dragenter":return Pn=xs(Pn,e,t,n,i,o),!0;case"mouseover":return Wn=xs(Wn,e,t,n,i,o),!0;case"pointerover":var c=o.pointerId;return _s.set(c,xs(_s.get(c)||null,e,t,n,i,o)),!0;case"gotpointercapture":return c=o.pointerId,Ss.set(c,xs(Ss.get(c)||null,e,t,n,i,o)),!0}return!1}function _m(e){var t=Ra(e.target);if(t!==null){var n=d(t);if(n!==null){if(t=n.tag,t===13){if(t=f(n),t!==null){e.blockedOn=t,Dc(e.priority,function(){vm(n)});return}}else if(t===31){if(t=g(n),t!==null){e.blockedOn=t,Dc(e.priority,function(){vm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ru(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Rl=i,n.target.dispatchEvent(i),Rl=null}else return t=Ua(n),t!==null&&ym(t),e.blockedOn=n,!1;t.shift()}return!0}function Sm(e,t,n){Wi(e)&&n.delete(t)}function Uv(){Du=!1,Zn!==null&&Wi(Zn)&&(Zn=null),Pn!==null&&Wi(Pn)&&(Pn=null),Wn!==null&&Wi(Wn)&&(Wn=null),_s.forEach(Sm),Ss.forEach(Sm)}function Fi(e,t){e.blockedOn===t&&(e.blockedOn=null,Du||(Du=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Uv)))}var el=null;function xm(e){el!==e&&(el=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){el===e&&(el=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],o=e[t+2];if(typeof i!="function"){if(Uu(i||n)===null)continue;break}var c=Ua(n);c!==null&&(e.splice(t,3),t-=3,Ro(c,{pending:!0,data:o,method:n.method,action:i},i,o))}}))}function mr(e){function t(w){return Fi(w,e)}Zn!==null&&Fi(Zn,e),Pn!==null&&Fi(Pn,e),Wn!==null&&Fi(Wn,e),_s.forEach(t),Ss.forEach(t);for(var n=0;n<Fn.length;n++){var i=Fn[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Fn.length&&(n=Fn[0],n.blockedOn===null);)_m(n),n.blockedOn===null&&Fn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var o=n[i],c=n[i+1],h=o[vt]||null;if(typeof c=="function")h||xm(n);else if(h){var y=null;if(c&&c.hasAttribute("formAction")){if(o=c,h=c[vt]||null)y=h.formAction;else if(Uu(o)!==null)continue}else y=h.action;typeof y=="function"?n[i+1]=y:(n.splice(i,3),i-=3),xm(n)}}}function Em(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(h){return o=h})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function zu(e){this._internalRoot=e}tl.prototype.render=zu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var n=t.current,i=Dt();gm(n,i,e,t,null,null)},tl.prototype.unmount=zu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gm(e.current,2,null,e,null,null),zi(),t[ja]=null}};function tl(e){this._internalRoot=e}tl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Uc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Fn.length&&t!==0&&t<Fn[n].priority;n++);Fn.splice(n,0,e),n===0&&_m(e)}};var Tm=a.version;if(Tm!=="19.2.3")throw Error(l(527,Tm,"19.2.3"));I.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Dv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nl.isDisabled&&nl.supportsFiber)try{Rr=nl.inject(Dv),At=nl}catch{}}return Ts.createRoot=function(e,t){if(!u(e))throw Error(l(299));var n=!1,i="",o=Rf,c=Uf,h=Df;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=hm(e,1,!1,null,null,n,i,null,o,c,h,Em),e[ja]=t.current,pu(e),new zu(t)},Ts.hydrateRoot=function(e,t,n){if(!u(e))throw Error(l(299));var i=!1,o="",c=Rf,h=Uf,y=Df,w=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.formState!==void 0&&(w=n.formState)),t=hm(e,1,!0,t,n??null,i,o,w,c,h,y,Em),t.context=mm(null),n=t.current,i=Dt(),i=El(i),o=qn(i),o.callback=null,Ln(n,o,i),n=i,t.current.lanes=n,Dr(t,n),rn(t),e[ja]=t.current,pu(e),new tl(t)},Ts.version="19.2.3",Ts}var zm;function Iv(){if(zm)return qu.exports;zm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(a){console.error(a)}}return r(),qu.exports=Vv(),qu.exports}var Kv=Iv();const Yv=Ag(Kv),Mm=r=>{let a;const s=new Set,l=(p,b)=>{const x=typeof p=="function"?p(a):p;if(!Object.is(x,a)){const E=a;a=b??(typeof x!="object"||x===null)?x:Object.assign({},a,x),s.forEach(A=>A(a,E))}},u=()=>a,g={setState:l,getState:u,getInitialState:()=>m,subscribe:p=>(s.add(p),()=>s.delete(p))},m=a=r(l,u,g);return g},Jv=(r=>r?Mm(r):Mm),Xv=r=>r;function Qv(r,a=Xv){const s=ks.useSyncExternalStore(r.subscribe,ks.useCallback(()=>a(r.getState()),[r,a]),ks.useCallback(()=>a(r.getInitialState()),[r,a]));return ks.useDebugValue(s),s}const Bm=r=>{const a=Jv(r),s=l=>Qv(a,l);return Object.assign(s,a),s},Or=(r=>r?Bm(r):Bm);function ml(r,a){var s={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&a.indexOf(l)<0&&(s[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(r);u<l.length;u++)a.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(r,l[u])&&(s[l[u]]=r[l[u]]);return s}function Zv(r,a,s,l){function u(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function g(b){try{p(l.next(b))}catch(x){f(x)}}function m(b){try{p(l.throw(b))}catch(x){f(x)}}function p(b){b.done?d(b.value):u(b.value).then(g,m)}p((l=l.apply(r,a||[])).next())})}const Pv=r=>r?(...a)=>r(...a):(...a)=>fetch(...a);class mc extends Error{constructor(a,s="FunctionsError",l){super(a),this.name=s,this.context=l}}class Wv extends mc{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class qm extends mc{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class Lm extends mc{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var Fu;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Fu||(Fu={}));class Fv{constructor(a,{headers:s={},customFetch:l,region:u=Fu.Any}={}){this.url=a,this.headers=s,this.region=u,this.fetch=Pv(l)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return Zv(this,arguments,void 0,function*(s,l={}){var u;let d,f;try{const{headers:g,method:m,body:p,signal:b,timeout:x}=l;let E={},{region:A}=l;A||(A=this.region);const U=new URL(`${this.url}/${s}`);A&&A!=="any"&&(E["x-region"]=A,U.searchParams.set("forceFunctionRegion",A));let N;p&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(E["Content-Type"]="application/octet-stream",N=p):typeof p=="string"?(E["Content-Type"]="text/plain",N=p):typeof FormData<"u"&&p instanceof FormData?N=p:(E["Content-Type"]="application/json",N=JSON.stringify(p)):N=p;let q=b;x&&(f=new AbortController,d=setTimeout(()=>f.abort(),x),b?(q=f.signal,b.addEventListener("abort",()=>f.abort())):q=f.signal);const V=yield this.fetch(U.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},E),this.headers),g),body:N,signal:q}).catch(oe=>{throw new Wv(oe)}),$=V.headers.get("x-relay-error");if($&&$==="true")throw new qm(V);if(!V.ok)throw new Lm(V);let H=((u=V.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),J;return H==="application/json"?J=yield V.json():H==="application/octet-stream"||H==="application/pdf"?J=yield V.blob():H==="text/event-stream"?J=V:H==="multipart/form-data"?J=yield V.formData():J=yield V.text(),{data:J,error:null,response:V}}catch(g){return{data:null,error:g,response:g instanceof Lm||g instanceof qm?g.context:void 0}}finally{d&&clearTimeout(d)}})}}var e0=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},t0=class{constructor(r){var a,s;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(a=r.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=r.signal,this.isMaybeSingle=(s=r.isMaybeSingle)!==null&&s!==void 0?s:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,a){return this.headers=new Headers(this.headers),this.headers.set(r,a),this}then(r,a){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{let f=null,g=null,m=null,p=d.status,b=d.statusText;if(d.ok){var x,E;if(s.method!=="HEAD"){var A;const V=await d.text();V===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((A=s.headers.get("Accept"))===null||A===void 0)&&A.includes("application/vnd.pgrst.plan+text"))?g=V:g=JSON.parse(V))}const N=(x=s.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),q=(E=d.headers.get("content-range"))===null||E===void 0?void 0:E.split("/");N&&q&&q.length>1&&(m=parseInt(q[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(g)&&(g.length>1?(f={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,m=null,p=406,b="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{var U;const N=await d.text();try{f=JSON.parse(N),Array.isArray(f)&&d.status===404&&(g=[],f=null,p=200,b="OK")}catch{d.status===404&&N===""?(p=204,b="No Content"):f={message:N}}if(f&&s.isMaybeSingle&&(!(f==null||(U=f.details)===null||U===void 0)&&U.includes("0 rows"))&&(f=null,p=200,b="OK"),f&&s.shouldThrowOnError)throw new e0(f)}return{error:f,data:g,count:m,status:p,statusText:b}});return this.shouldThrowOnError||(u=u.catch(d=>{var f;let g="";const m=d?.cause;if(m){var p,b,x,E;const U=(p=m?.message)!==null&&p!==void 0?p:"",N=(b=m?.code)!==null&&b!==void 0?b:"";g=`${(x=d?.name)!==null&&x!==void 0?x:"FetchError"}: ${d?.message}`,g+=`

Caused by: ${(E=m?.name)!==null&&E!==void 0?E:"Error"}: ${U}`,N&&(g+=` (${N})`),m?.stack&&(g+=`
${m.stack}`)}else{var A;g=(A=d?.stack)!==null&&A!==void 0?A:""}return{error:{message:`${(f=d?.name)!==null&&f!==void 0?f:"FetchError"}: ${d?.message}`,details:g,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(r,a)}returns(){return this}overrideTypes(){return this}},n0=class extends t0{select(r){let a=!1;const s=(r??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:a=!0,nullsFirst:s,foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${r}.${a?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:a,referencedTable:s=a}={}){const l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${r}`),this}range(r,a,{foreignTable:s,referencedTable:l=s}={}){const u=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${r}`),this.url.searchParams.set(d,`${a-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:a=!1,settings:s=!1,buffers:l=!1,wal:u=!1,format:d="text"}={}){var f;const g=[r?"analyze":null,a?"verbose":null,s?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),m=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${m}"; options=${g};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const Hm=new RegExp("[,()]");var Sr=class extends n0{eq(r,a){return this.url.searchParams.append(r,`eq.${a}`),this}neq(r,a){return this.url.searchParams.append(r,`neq.${a}`),this}gt(r,a){return this.url.searchParams.append(r,`gt.${a}`),this}gte(r,a){return this.url.searchParams.append(r,`gte.${a}`),this}lt(r,a){return this.url.searchParams.append(r,`lt.${a}`),this}lte(r,a){return this.url.searchParams.append(r,`lte.${a}`),this}like(r,a){return this.url.searchParams.append(r,`like.${a}`),this}likeAllOf(r,a){return this.url.searchParams.append(r,`like(all).{${a.join(",")}}`),this}likeAnyOf(r,a){return this.url.searchParams.append(r,`like(any).{${a.join(",")}}`),this}ilike(r,a){return this.url.searchParams.append(r,`ilike.${a}`),this}ilikeAllOf(r,a){return this.url.searchParams.append(r,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(r,a){return this.url.searchParams.append(r,`ilike(any).{${a.join(",")}}`),this}regexMatch(r,a){return this.url.searchParams.append(r,`match.${a}`),this}regexIMatch(r,a){return this.url.searchParams.append(r,`imatch.${a}`),this}is(r,a){return this.url.searchParams.append(r,`is.${a}`),this}isDistinct(r,a){return this.url.searchParams.append(r,`isdistinct.${a}`),this}in(r,a){const s=Array.from(new Set(a)).map(l=>typeof l=="string"&&Hm.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(r,`in.(${s})`),this}notIn(r,a){const s=Array.from(new Set(a)).map(l=>typeof l=="string"&&Hm.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(r,`not.in.(${s})`),this}contains(r,a){return typeof a=="string"?this.url.searchParams.append(r,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(r,`cs.{${a.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(a)}`),this}containedBy(r,a){return typeof a=="string"?this.url.searchParams.append(r,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(r,`cd.{${a.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(a)}`),this}rangeGt(r,a){return this.url.searchParams.append(r,`sr.${a}`),this}rangeGte(r,a){return this.url.searchParams.append(r,`nxl.${a}`),this}rangeLt(r,a){return this.url.searchParams.append(r,`sl.${a}`),this}rangeLte(r,a){return this.url.searchParams.append(r,`nxr.${a}`),this}rangeAdjacent(r,a){return this.url.searchParams.append(r,`adj.${a}`),this}overlaps(r,a){return typeof a=="string"?this.url.searchParams.append(r,`ov.${a}`):this.url.searchParams.append(r,`ov.{${a.join(",")}}`),this}textSearch(r,a,{config:s,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const d=s===void 0?"":`(${s})`;return this.url.searchParams.append(r,`${u}fts${d}.${a}`),this}match(r){return Object.entries(r).forEach(([a,s])=>{this.url.searchParams.append(a,`eq.${s}`)}),this}not(r,a,s){return this.url.searchParams.append(r,`not.${a}.${s}`),this}or(r,{foreignTable:a,referencedTable:s=a}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${r})`),this}filter(r,a,s){return this.url.searchParams.append(r,`${a}.${s}`),this}},a0=class{constructor(r,{headers:a={},schema:s,fetch:l}){this.url=r,this.headers=new Headers(a),this.schema=s,this.fetch=l}select(r,a){const{head:s=!1,count:l}=a??{},u=s?"HEAD":"GET";let d=!1;const f=(r??"*").split("").map(g=>/\s/.test(g)&&!d?"":(g==='"'&&(d=!d),g)).join("");return this.url.searchParams.set("select",f),l&&this.headers.append("Prefer",`count=${l}`),new Sr({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:a,defaultToNull:s=!0}={}){var l;const u="POST";if(a&&this.headers.append("Prefer",`count=${a}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const d=r.reduce((f,g)=>f.concat(Object.keys(g)),[]);if(d.length>0){const f=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",f.join(","))}}return new Sr({method:u,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(r,{onConflict:a,ignoreDuplicates:s=!1,count:l,defaultToNull:u=!0}={}){var d;const f="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const g=r.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(g.length>0){const m=[...new Set(g)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new Sr({method:f,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(r,{count:a}={}){var s;const l="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new Sr({method:l,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:r}={}){var a;const s="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new Sr({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}},r0=class kg{constructor(a,{headers:s={},schema:l,fetch:u}={}){this.url=a,this.headers=new Headers(s),this.schemaName=l,this.fetch=u}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new a0(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new kg(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,s={},{head:l=!1,get:u=!1,count:d}={}){var f;let g;const m=new URL(`${this.url}/rpc/${a}`);let p;l||u?(g=l?"HEAD":"GET",Object.entries(s).filter(([x,E])=>E!==void 0).map(([x,E])=>[x,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([x,E])=>{m.searchParams.append(x,E)})):(g="POST",p=s);const b=new Headers(this.headers);return d&&b.set("Prefer",`count=${d}`),new Sr({method:g,url:m,headers:b,schema:this.schemaName,body:p,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class s0{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const l=s.node,u=parseInt(l.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let s=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(s+=`

Suggested solution: ${a.workaround}`),new Error(s)}static createWebSocket(a,s){const l=this.getWebSocketConstructor();return new l(a,s)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const i0="2.89.0",l0=`realtime-js/${i0}`,Og="1.0.0",o0="2.0.0",$m=Og,ec=1e4,u0=1e3,c0=100;var na;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(na||(na={}));var et;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(et||(et={}));var Ft;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Ft||(Ft={}));var tc;(function(r){r.websocket="websocket"})(tc||(tc={}));var ka;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(ka||(ka={}));class d0{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,s){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(a));let l=[a.join_ref,a.ref,a.topic,a.event,a.payload];return s(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(a){var s;return this._isArrayBuffer((s=a.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var s,l;const u=(l=(s=a.payload)===null||s===void 0?void 0:s.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(a){var s,l;const u=(l=(s=a.payload)===null||s===void 0?void 0:s.payload)!==null&&l!==void 0?l:{},f=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(a,s,l){var u,d;const f=a.topic,g=(u=a.ref)!==null&&u!==void 0?u:"",m=(d=a.join_ref)!==null&&d!==void 0?d:"",p=a.payload.event,b=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},x=Object.keys(b).length===0?"":JSON.stringify(b);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`ref length ${g.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const E=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+g.length+f.length+p.length+x.length,A=new ArrayBuffer(this.HEADER_LENGTH+E);let U=new DataView(A),N=0;U.setUint8(N++,this.KINDS.userBroadcastPush),U.setUint8(N++,m.length),U.setUint8(N++,g.length),U.setUint8(N++,f.length),U.setUint8(N++,p.length),U.setUint8(N++,x.length),U.setUint8(N++,s),Array.from(m,V=>U.setUint8(N++,V.charCodeAt(0))),Array.from(g,V=>U.setUint8(N++,V.charCodeAt(0))),Array.from(f,V=>U.setUint8(N++,V.charCodeAt(0))),Array.from(p,V=>U.setUint8(N++,V.charCodeAt(0))),Array.from(x,V=>U.setUint8(N++,V.charCodeAt(0)));var q=new Uint8Array(A.byteLength+l.byteLength);return q.set(new Uint8Array(A),0),q.set(new Uint8Array(l),A.byteLength),q.buffer}decode(a,s){if(this._isArrayBuffer(a)){let l=this._binaryDecode(a);return s(l)}if(typeof a=="string"){const l=JSON.parse(a),[u,d,f,g,m]=l;return s({join_ref:u,ref:d,topic:f,event:g,payload:m})}return s({})}_binaryDecode(a){const s=new DataView(a),l=s.getUint8(0),u=new TextDecoder;if(l===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,s,u)}_decodeUserBroadcast(a,s,l){const u=s.getUint8(1),d=s.getUint8(2),f=s.getUint8(3),g=s.getUint8(4);let m=this.HEADER_LENGTH+4;const p=l.decode(a.slice(m,m+u));m=m+u;const b=l.decode(a.slice(m,m+d));m=m+d;const x=l.decode(a.slice(m,m+f));m=m+f;const E=a.slice(m,a.byteLength),A=g===this.JSON_ENCODING?JSON.parse(l.decode(E)):E,U={type:this.BROADCAST_EVENT,event:b,payload:A};return f>0&&(U.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:U}}_isArrayBuffer(a){var s;return a instanceof ArrayBuffer||((s=a?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(a,s){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([l])=>s.includes(l)))}}class Cg{constructor(a,s){this.callback=a,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ue;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Ue||(Ue={}));const Gm=(r,a,s={})=>{var l;const u=(l=s.skipTypes)!==null&&l!==void 0?l:[];return a?Object.keys(a).reduce((d,f)=>(d[f]=f0(f,r,a,u),d),{}):{}},f0=(r,a,s,l)=>{const u=a.find(g=>g.name===r),d=u?.type,f=s[r];return d&&!l.includes(d)?Ng(d,f):nc(f)},Ng=(r,a)=>{if(r.charAt(0)==="_"){const s=r.slice(1,r.length);return p0(a,s)}switch(r){case Ue.bool:return h0(a);case Ue.float4:case Ue.float8:case Ue.int2:case Ue.int4:case Ue.int8:case Ue.numeric:case Ue.oid:return m0(a);case Ue.json:case Ue.jsonb:return g0(a);case Ue.timestamp:return y0(a);case Ue.abstime:case Ue.date:case Ue.daterange:case Ue.int4range:case Ue.int8range:case Ue.money:case Ue.reltime:case Ue.text:case Ue.time:case Ue.timestamptz:case Ue.timetz:case Ue.tsrange:case Ue.tstzrange:return nc(a);default:return nc(a)}},nc=r=>r,h0=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},m0=r=>{if(typeof r=="string"){const a=parseFloat(r);if(!Number.isNaN(a))return a}return r},g0=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},p0=(r,a)=>{if(typeof r!="string")return r;const s=r.length-1,l=r[s];if(r[0]==="{"&&l==="}"){let d;const f=r.slice(1,s);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(g=>Ng(a,g))}return r},y0=r=>typeof r=="string"?r.replace(" ","T"):r,jg=r=>{const a=new URL(r);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class Gu{constructor(a,s,l={},u=ec){this.channel=a,this.event=s,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,s){var l;return this._hasReceived(a)&&s((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:a,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:s}){this.recHooks.filter(l=>l.status===a).forEach(l=>l.callback(s))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var Vm;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Vm||(Vm={}));class Cs{constructor(a,s){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:d,onLeave:f,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Cs.syncState(this.state,u,d,f),this.pendingDiffs.forEach(m=>{this.state=Cs.syncDiff(this.state,m,d,f)}),this.pendingDiffs=[],g()}),this.channel._on(l.diff,{},u=>{const{onJoin:d,onLeave:f,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=Cs.syncDiff(this.state,u,d,f),g())}),this.onJoin((u,d,f)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:d,newPresences:f})}),this.onLeave((u,d,f)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,s,l,u){const d=this.cloneDeep(a),f=this.transformState(s),g={},m={};return this.map(d,(p,b)=>{f[p]||(m[p]=b)}),this.map(f,(p,b)=>{const x=d[p];if(x){const E=b.map(q=>q.presence_ref),A=x.map(q=>q.presence_ref),U=b.filter(q=>A.indexOf(q.presence_ref)<0),N=x.filter(q=>E.indexOf(q.presence_ref)<0);U.length>0&&(g[p]=U),N.length>0&&(m[p]=N)}else g[p]=b}),this.syncDiff(d,{joins:g,leaves:m},l,u)}static syncDiff(a,s,l,u){const{joins:d,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(d,(g,m)=>{var p;const b=(p=a[g])!==null&&p!==void 0?p:[];if(a[g]=this.cloneDeep(m),b.length>0){const x=a[g].map(A=>A.presence_ref),E=b.filter(A=>x.indexOf(A.presence_ref)<0);a[g].unshift(...E)}l(g,b,m)}),this.map(f,(g,m)=>{let p=a[g];if(!p)return;const b=m.map(x=>x.presence_ref);p=p.filter(x=>b.indexOf(x.presence_ref)<0),a[g]=p,u(g,p,m),p.length===0&&delete a[g]}),a}static map(a,s){return Object.getOwnPropertyNames(a).map(l=>s(l,a[l]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((s,l)=>{const u=a[l];return"metas"in u?s[l]=u.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):s[l]=u,s},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Im;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Im||(Im={}));var Ns;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Ns||(Ns={}));var An;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(An||(An={}));class Tr{constructor(a,s={config:{}},l){var u,d;if(this.topic=a,this.params=s,this.socket=l,this.bindings={},this.state=et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Gu(this,Ft.join,this.params,this.timeout),this.rejoinTimer=new Cg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=et.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ft.reply,{},(f,g)=>{this._trigger(this._replyEventName(g),f)}),this.presence=new Cs(this),this.broadcastEndpointURL=jg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,s=this.timeout){var l,u,d;if(this.socket.isConnected()||this.socket.connect(),this.state==et.closed){const{config:{broadcast:f,presence:g,private:m}}=this.params,p=(u=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(A=>A.filter))!==null&&u!==void 0?u:[],b=!!this.bindings[Ns.PRESENCE]&&this.bindings[Ns.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,x={},E={broadcast:f,presence:Object.assign(Object.assign({},g),{enabled:b}),postgres_changes:p,private:m};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(A=>a?.(An.CHANNEL_ERROR,A)),this._onClose(()=>a?.(An.CLOSED)),this.updateJoinPayload(Object.assign({config:E},x)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:A})=>{var U;if(this.socket._isManualToken()||this.socket.setAuth(),A===void 0){a?.(An.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,q=(U=N?.length)!==null&&U!==void 0?U:0,V=[];for(let $=0;$<q;$++){const H=N[$],{filter:{event:J,schema:oe,table:te,filter:X}}=H,Y=A&&A[$];if(Y&&Y.event===J&&Tr.isFilterValueEqual(Y.schema,oe)&&Tr.isFilterValueEqual(Y.table,te)&&Tr.isFilterValueEqual(Y.filter,X))V.push(Object.assign(Object.assign({},H),{id:Y.id}));else{this.unsubscribe(),this.state=et.errored,a?.(An.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=V,a&&a(An.SUBSCRIBED);return}}).receive("error",A=>{this.state=et.errored,a?.(An.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(A).join(", ")||"error")))}).receive("timeout",()=>{a?.(An.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,s={}){return await this.send({type:"presence",event:"track",payload:a},s.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,s,l){return this.state===et.joined&&a===Ns.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,s,l)}async httpSend(a,s,l={}){var u;if(s==null)return Promise.reject("Payload is required for httpSend()");const d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(u=l.timeout)!==null&&u!==void 0?u:this.timeout);if(g.status===202)return{success:!0};let m=g.statusText;try{const p=await g.json();m=p.error||p.message||m}catch{}return Promise.reject(new Error(m))}async send(a,s={}){var l,u;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:f}=a,g={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(g.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:g,body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(l=s.timeout)!==null&&l!==void 0?l:this.timeout);return await((u=p.body)===null||u===void 0?void 0:u.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,g,m;const p=this._push(a.type,a,s.timeout||this.timeout);a.type==="broadcast"&&!(!((m=(g=(f=this.params)===null||f===void 0?void 0:f.config)===null||g===void 0?void 0:g.broadcast)===null||m===void 0)&&m.ack)&&d("ok"),p.receive("ok",()=>d("ok")),p.receive("error",()=>d("error")),p.receive("timeout",()=>d("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=et.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ft.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(u=>{l=new Gu(this,Ft.leave,{},a),l.receive("ok",()=>{s(),u("ok")}).receive("timeout",()=>{s(),u("timed out")}).receive("error",()=>{u("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=et.closed,this.bindings={}}async _fetchWithTimeout(a,s,l){const u=new AbortController,d=setTimeout(()=>u.abort(),l),f=await this.socket.fetch(a,Object.assign(Object.assign({},s),{signal:u.signal}));return clearTimeout(d),f}_push(a,s,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Gu(this,a,s,l);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>c0){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(a,s,l){return s}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,s,l){var u,d;const f=a.toLocaleLowerCase(),{close:g,error:m,leave:p,join:b}=Ft;if(l&&[g,m,p,b].indexOf(f)>=0&&l!==this._joinRef())return;let E=this._onMessage(f,s,l);if(s&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(A=>{var U,N,q;return((U=A.filter)===null||U===void 0?void 0:U.event)==="*"||((q=(N=A.filter)===null||N===void 0?void 0:N.event)===null||q===void 0?void 0:q.toLocaleLowerCase())===f}).map(A=>A.callback(E,l)):(d=this.bindings[f])===null||d===void 0||d.filter(A=>{var U,N,q,V,$,H;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in A){const J=A.id,oe=(U=A.filter)===null||U===void 0?void 0:U.event;return J&&((N=s.ids)===null||N===void 0?void 0:N.includes(J))&&(oe==="*"||oe?.toLocaleLowerCase()===((q=s.data)===null||q===void 0?void 0:q.type.toLocaleLowerCase()))}else{const J=($=(V=A?.filter)===null||V===void 0?void 0:V.event)===null||$===void 0?void 0:$.toLocaleLowerCase();return J==="*"||J===((H=s?.event)===null||H===void 0?void 0:H.toLocaleLowerCase())}else return A.type.toLocaleLowerCase()===f}).map(A=>{if(typeof E=="object"&&"ids"in E){const U=E.data,{schema:N,table:q,commit_timestamp:V,type:$,errors:H}=U;E=Object.assign(Object.assign({},{schema:N,table:q,commit_timestamp:V,eventType:$,new:{},old:{},errors:H}),this._getPayloadRecords(U))}A.callback(E,l)})}_isClosed(){return this.state===et.closed}_isJoined(){return this.state===et.joined}_isJoining(){return this.state===et.joining}_isLeaving(){return this.state===et.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,s,l){const u=a.toLocaleLowerCase(),d={type:u,filter:s,callback:l};return this.bindings[u]?this.bindings[u].push(d):this.bindings[u]=[d],this}_off(a,s){const l=a.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(u=>{var d;return!(((d=u.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===l&&Tr.isEqual(u.filter,s))})),this}static isEqual(a,s){if(Object.keys(a).length!==Object.keys(s).length)return!1;for(const l in a)if(a[l]!==s[l])return!1;return!0}static isFilterValueEqual(a,s){return(a??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(Ft.close,{},a)}_onError(a){this._on(Ft.error,{},s=>a(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=et.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const s={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(s.new=Gm(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(s.old=Gm(a.columns,a.old_record)),s}}const Vu=()=>{},al={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},v0=[1e3,2e3,5e3,1e4],b0=1e4,w0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class _0{constructor(a,s){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ec,this.transport=null,this.heartbeatIntervalMs=al.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Vu,this.ref=0,this.reconnectTimer=null,this.vsn=$m,this.logger=Vu,this.conn=null,this.sendBuffer=[],this.serializer=new d0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>u?(...d)=>u(...d):(...d)=>fetch(...d),!(!((l=s?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${a}/${tc.websocket}`,this.httpEndpoint=jg(a),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=s0.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const s=a.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const s=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const a=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,s,l){this.logger(a,s,l)}connectionState(){switch(this.conn&&this.conn.readyState){case na.connecting:return ka.Connecting;case na.open:return ka.Open;case na.closing:return ka.Closing;default:return ka.Closed}}isConnected(){return this.connectionState()===ka.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,s={config:{}}){const l=`realtime:${a}`,u=this.getChannels().find(d=>d.topic===l);if(u)return u;{const d=new Tr(`realtime:${a}`,s,this);return this.channels.push(d),d}}push(a){const{topic:s,event:l,payload:u,ref:d}=a,f=()=>{this.encode(a,g=>{var m;(m=this.conn)===null||m===void 0||m.send(g)})};this.log("push",`${s} ${l} (${d})`,u),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(u0,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},al.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let s=this.channels.find(l=>l.topic===a&&(l._isJoined()||l._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${a}"`),s.unsubscribe())}_remove(a){this.channels=this.channels.filter(s=>s.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:u,payload:d,ref:f}=s,g=f?`(${f})`:"",m=d.status||"";this.log("receive",`${m} ${l} ${u} ${g}`.trim(),d),this.channels.filter(p=>p._isMember(l)).forEach(p=>p._trigger(u,d,f)),this._triggerStateCallbacks("message",s)})}_clearTimer(a){var s;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===na.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===na.open||this.conn.readyState===na.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var s;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(Ft.error))}_appendParams(a,s){if(Object.keys(s).length===0)return a;const l=a.match(/\?/)?"&":"?",u=new URLSearchParams(s);return`${a}${l}${u}`}_workerObjectUrl(a){let s;if(a)s=a;else{const l=new Blob([w0],{type:"application/javascript"});s=URL.createObjectURL(l)}return s}_setConnectionState(a,s=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(a=null){let s,l=!1;if(a)s=a,l=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),s=this.accessTokenValue}else s=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(u=>{const d={access_token:s,version:l0};s&&u.updateJoinPayload(d),u.joinedOnce&&u._isJoined()&&u._push(Ft.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${a}`,s)})}_triggerStateCallbacks(a,s){try{this.stateChangeCallbacks[a].forEach(l=>{try{l(s)}catch(u){this.log("error",`error in ${a} callback`,u)}})}catch(l){this.log("error",`error triggering ${a} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new Cg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},al.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var s,l,u,d,f,g,m,p,b,x,E,A;switch(this.transport=(s=a?.transport)!==null&&s!==void 0?s:null,this.timeout=(l=a?.timeout)!==null&&l!==void 0?l:ec,this.heartbeatIntervalMs=(u=a?.heartbeatIntervalMs)!==null&&u!==void 0?u:al.HEARTBEAT_INTERVAL,this.worker=(d=a?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=a?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(g=a?.heartbeatCallback)!==null&&g!==void 0?g:Vu,this.vsn=(m=a?.vsn)!==null&&m!==void 0?m:$m,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=a?.reconnectAfterMs)!==null&&p!==void 0?p:(U=>v0[U-1]||b0),this.vsn){case Og:this.encode=(b=a?.encode)!==null&&b!==void 0?b:((U,N)=>N(JSON.stringify(U))),this.decode=(x=a?.decode)!==null&&x!==void 0?x:((U,N)=>N(JSON.parse(U)));break;case o0:this.encode=(E=a?.encode)!==null&&E!==void 0?E:this.serializer.encode.bind(this.serializer),this.decode=(A=a?.decode)!==null&&A!==void 0?A:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}var js=class extends Error{constructor(r,a){super(r),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function S0(r,a,s){const l=new URL(a,r);if(s)for(const[u,d]of Object.entries(s))d!==void 0&&l.searchParams.set(u,d);return l.toString()}async function x0(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function E0(r){const a=r.fetchImpl??globalThis.fetch;return{async request({method:s,path:l,query:u,body:d,headers:f}){const g=S0(r.baseUrl,l,u),m=await x0(r.auth),p=await a(g,{method:s,headers:{...d?{"Content-Type":"application/json"}:{},...m,...f},body:d?JSON.stringify(d):void 0}),b=await p.text(),x=(p.headers.get("content-type")||"").includes("application/json"),E=x&&b?JSON.parse(b):b;if(!p.ok){const A=x?E:void 0,U=A?.error;throw new js(U?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:U?.type,icebergCode:U?.code,details:A})}return{status:p.status,headers:p.headers,data:E}}}}function rl(r){return r.join("")}var T0=class{constructor(r,a=""){this.client=r,this.prefix=a}async listNamespaces(r){const a=r?{parent:rl(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(r,a){const s={namespace:r.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${rl(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${rl(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${rl(r.namespace)}`}),!0}catch(a){if(a instanceof js&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(r,a){try{return await this.createNamespace(r,a)}catch(s){if(s instanceof js&&s.status===409)return;throw s}}};function gr(r){return r.join("")}var A0=class{constructor(r,a="",s){this.client=r,this.prefix=a,this.accessDelegation=s}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gr(r.namespace)}/tables`})).data.identifiers}async createTable(r,a){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gr(r.namespace)}/tables`,body:a,headers:s})).data.metadata}async updateTable(r,a){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gr(r.namespace)}/tables/${r.name}`,body:a});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(r,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${gr(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(r){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gr(r.namespace)}/tables/${r.name}`,headers:a})).data.metadata}async tableExists(r){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${gr(r.namespace)}/tables/${r.name}`,headers:a}),!0}catch(s){if(s instanceof js&&s.status===404)return!1;throw s}}async createTableIfNotExists(r,a){try{return await this.createTable(r,a)}catch(s){if(s instanceof js&&s.status===409)return await this.loadTable({namespace:r.namespace,name:a.name});throw s}}},k0=class{constructor(r){let a="v1";r.catalogName&&(a+=`/${r.catalogName}`);const s=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=E0({baseUrl:s,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=r.accessDelegation?.join(","),this.namespaceOps=new T0(this.client,a),this.tableOps=new A0(this.client,a,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,a){return this.namespaceOps.createNamespace(r,a)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,a){return this.tableOps.createTable(r,a)}async updateTable(r,a){return this.tableOps.updateTable(r,a)}async dropTable(r,a){await this.tableOps.dropTable(r,a)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,a){return this.namespaceOps.createNamespaceIfNotExists(r,a)}async createTableIfNotExists(r,a){return this.tableOps.createTableIfNotExists(r,a)}},gl=class extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}};function Le(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var O0=class extends gl{constructor(r,a,s){super(r),this.name="StorageApiError",this.status=a,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ac=class extends gl{constructor(r,a){super(r),this.name="StorageUnknownError",this.originalError=a}};const gc=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),C0=()=>Response,rc=r=>{if(Array.isArray(r))return r.map(s=>rc(s));if(typeof r=="function"||r!==Object(r))return r;const a={};return Object.entries(r).forEach(([s,l])=>{const u=s.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));a[u]=rc(l)}),a},N0=r=>{if(typeof r!="object"||r===null)return!1;const a=Object.getPrototypeOf(r);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},j0=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function Rs(r){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Rs(r)}function R0(r,a){if(Rs(r)!="object"||!r)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var l=s.call(r,a);if(Rs(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(r)}function U0(r){var a=R0(r,"string");return Rs(a)=="symbol"?a:a+""}function D0(r,a,s){return(a=U0(a))in r?Object.defineProperty(r,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[a]=s,r}function Km(r,a){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);a&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),s.push.apply(s,l)}return s}function ie(r){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?Km(Object(s),!0).forEach(function(l){D0(r,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):Km(Object(s)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(s,l))})}return r}const Iu=r=>{var a;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(a=r.error)===null||a===void 0?void 0:a.message)||JSON.stringify(r)},z0=async(r,a,s)=>{r instanceof await C0()&&!s?.noResolveJson?r.json().then(l=>{const u=r.status||500,d=l?.statusCode||u+"";a(new O0(Iu(l),u,d))}).catch(l=>{a(new ac(Iu(l),l))}):a(new ac(Iu(r),r))},M0=(r,a,s,l)=>{const u={method:r,headers:a?.headers||{}};return r==="GET"||!l?u:(N0(l)?(u.headers=ie({"Content-Type":"application/json"},a?.headers),u.body=JSON.stringify(l)):u.body=l,a?.duplex&&(u.duplex=a.duplex),ie(ie({},u),s))};async function Bs(r,a,s,l,u,d){return new Promise((f,g)=>{r(s,M0(a,l,u,d)).then(m=>{if(!m.ok)throw m;return l?.noResolveJson?m:m.json()}).then(m=>f(m)).catch(m=>z0(m,g,l))})}async function Us(r,a,s,l){return Bs(r,"GET",a,s,l)}async function Wt(r,a,s,l,u){return Bs(r,"POST",a,l,u,s)}async function sc(r,a,s,l,u){return Bs(r,"PUT",a,l,u,s)}async function B0(r,a,s,l){return Bs(r,"HEAD",a,ie(ie({},s),{},{noResolveJson:!0}),l)}async function pc(r,a,s,l,u){return Bs(r,"DELETE",a,l,u,s)}var q0=class{constructor(r,a){this.downloadFn=r,this.shouldThrowOnError=a}then(r,a){return this.execute().then(r,a)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(Le(a))return{data:null,error:a};throw a}}};let Rg;Rg=Symbol.toStringTag;var L0=class{constructor(r,a){this.downloadFn=r,this.shouldThrowOnError=a,this[Rg]="BlobDownloadBuilder",this.promise=null}asStream(){return new q0(this.downloadFn,this.shouldThrowOnError)}then(r,a){return this.getPromise().then(r,a)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(Le(a))return{data:null,error:a};throw a}}};const H0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ym={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var $0=class{constructor(r,a={},s,l){this.shouldThrowOnError=!1,this.url=r,this.headers=a,this.bucketId=s,this.fetch=gc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(r,a,s,l){var u=this;try{let d;const f=ie(ie({},Ym),l);let g=ie(ie({},u.headers),r==="POST"&&{"x-upsert":String(f.upsert)});const m=f.metadata;typeof Blob<"u"&&s instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),m&&d.append("metadata",u.encodeMetadata(m)),d.append("",s)):typeof FormData<"u"&&s instanceof FormData?(d=s,d.has("cacheControl")||d.append("cacheControl",f.cacheControl),m&&!d.has("metadata")&&d.append("metadata",u.encodeMetadata(m))):(d=s,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType,m&&(g["x-metadata"]=u.toBase64(u.encodeMetadata(m))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!f.duplex&&(f.duplex="half")),l?.headers&&(g=ie(ie({},g),l.headers));const p=u._removeEmptyFolders(a),b=u._getFinalPath(p),x=await(r=="PUT"?sc:Wt)(u.fetch,`${u.url}/object/${b}`,d,ie({headers:g},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:p,id:x.Id,fullPath:x.Key},error:null}}catch(d){if(u.shouldThrowOnError)throw d;if(Le(d))return{data:null,error:d};throw d}}async upload(r,a,s){return this.uploadOrUpdate("POST",r,a,s)}async uploadToSignedUrl(r,a,s,l){var u=this;const d=u._removeEmptyFolders(r),f=u._getFinalPath(d),g=new URL(u.url+`/object/upload/sign/${f}`);g.searchParams.set("token",a);try{let m;const p=ie({upsert:Ym.upsert},l),b=ie(ie({},u.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&s instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",s)):typeof FormData<"u"&&s instanceof FormData?(m=s,m.append("cacheControl",p.cacheControl)):(m=s,b["cache-control"]=`max-age=${p.cacheControl}`,b["content-type"]=p.contentType),{data:{path:d,fullPath:(await sc(u.fetch,g.toString(),m,{headers:b})).Key},error:null}}catch(m){if(u.shouldThrowOnError)throw m;if(Le(m))return{data:null,error:m};throw m}}async createSignedUploadUrl(r,a){var s=this;try{let l=s._getFinalPath(r);const u=ie({},s.headers);a?.upsert&&(u["x-upsert"]="true");const d=await Wt(s.fetch,`${s.url}/object/upload/sign/${l}`,{},{headers:u}),f=new URL(s.url+d.url),g=f.searchParams.get("token");if(!g)throw new gl("No token returned by API");return{data:{signedUrl:f.toString(),path:r,token:g},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Le(l))return{data:null,error:l};throw l}}async update(r,a,s){return this.uploadOrUpdate("PUT",r,a,s)}async move(r,a,s){var l=this;try{return{data:await Wt(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:r,destinationKey:a,destinationBucket:s?.destinationBucket},{headers:l.headers}),error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Le(u))return{data:null,error:u};throw u}}async copy(r,a,s){var l=this;try{return{data:{path:(await Wt(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:r,destinationKey:a,destinationBucket:s?.destinationBucket},{headers:l.headers})).Key},error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Le(u))return{data:null,error:u};throw u}}async createSignedUrl(r,a,s){var l=this;try{let u=l._getFinalPath(r),d=await Wt(l.fetch,`${l.url}/object/sign/${u}`,ie({expiresIn:a},s?.transform?{transform:s.transform}:{}),{headers:l.headers});const f=s?.download?`&download=${s.download===!0?"":s.download}`:"";return d={signedUrl:encodeURI(`${l.url}${d.signedURL}${f}`)},{data:d,error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Le(u))return{data:null,error:u};throw u}}async createSignedUrls(r,a,s){var l=this;try{const u=await Wt(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:a,paths:r},{headers:l.headers}),d=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:u.map(f=>ie(ie({},f),{},{signedUrl:f.signedURL?encodeURI(`${l.url}${f.signedURL}${d}`):null})),error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Le(u))return{data:null,error:u};throw u}}download(r,a){const s=typeof a?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(a?.transform||{}),u=l?`?${l}`:"",d=this._getFinalPath(r),f=()=>Us(this.fetch,`${this.url}/${s}/${d}${u}`,{headers:this.headers,noResolveJson:!0});return new L0(f,this.shouldThrowOnError)}async info(r){var a=this;const s=a._getFinalPath(r);try{return{data:rc(await Us(a.fetch,`${a.url}/object/info/${s}`,{headers:a.headers})),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Le(l))return{data:null,error:l};throw l}}async exists(r){var a=this;const s=a._getFinalPath(r);try{return await B0(a.fetch,`${a.url}/object/${s}`,{headers:a.headers}),{data:!0,error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Le(l)&&l instanceof ac){const u=l.originalError;if([400,404].includes(u?.status))return{data:!1,error:l}}throw l}}getPublicUrl(r,a){const s=this._getFinalPath(r),l=[],u=a?.download?`download=${a.download===!0?"":a.download}`:"";u!==""&&l.push(u);const d=typeof a?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(a?.transform||{});f!==""&&l.push(f);let g=l.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${s}${g}`)}}}async remove(r){var a=this;try{return{data:await pc(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:r},{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Le(s))return{data:null,error:s};throw s}}async list(r,a,s){var l=this;try{const u=ie(ie(ie({},H0),a),{},{prefix:r||""});return{data:await Wt(l.fetch,`${l.url}/object/list/${l.bucketId}`,u,{headers:l.headers},s),error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Le(u))return{data:null,error:u};throw u}}async listV2(r,a){var s=this;try{const l=ie({},r);return{data:await Wt(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,l,{headers:s.headers},a),error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Le(l))return{data:null,error:l};throw l}}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const a=[];return r.width&&a.push(`width=${r.width}`),r.height&&a.push(`height=${r.height}`),r.resize&&a.push(`resize=${r.resize}`),r.format&&a.push(`format=${r.format}`),r.quality&&a.push(`quality=${r.quality}`),a.join("&")}};const Ug="2.89.0",Dg={"X-Client-Info":`storage-js/${Ug}`};var G0=class{constructor(r,a={},s,l){this.shouldThrowOnError=!1;const u=new URL(r);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=ie(ie({},Dg),a),this.fetch=gc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(r){var a=this;try{const s=a.listBucketOptionsToQueryString(r);return{data:await Us(a.fetch,`${a.url}/bucket${s}`,{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Le(s))return{data:null,error:s};throw s}}async getBucket(r){var a=this;try{return{data:await Us(a.fetch,`${a.url}/bucket/${r}`,{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Le(s))return{data:null,error:s};throw s}}async createBucket(r,a={public:!1}){var s=this;try{return{data:await Wt(s.fetch,`${s.url}/bucket`,{id:r,name:r,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:s.headers}),error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Le(l))return{data:null,error:l};throw l}}async updateBucket(r,a){var s=this;try{return{data:await sc(s.fetch,`${s.url}/bucket/${r}`,{id:r,name:r,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:s.headers}),error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Le(l))return{data:null,error:l};throw l}}async emptyBucket(r){var a=this;try{return{data:await Wt(a.fetch,`${a.url}/bucket/${r}/empty`,{},{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Le(s))return{data:null,error:s};throw s}}async deleteBucket(r){var a=this;try{return{data:await pc(a.fetch,`${a.url}/bucket/${r}`,{},{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Le(s))return{data:null,error:s};throw s}}listBucketOptionsToQueryString(r){const a={};return r&&("limit"in r&&(a.limit=String(r.limit)),"offset"in r&&(a.offset=String(r.offset)),r.search&&(a.search=r.search),r.sortColumn&&(a.sortColumn=r.sortColumn),r.sortOrder&&(a.sortOrder=r.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},V0=class{constructor(r,a={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ie(ie({},Dg),a),this.fetch=gc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var a=this;try{return{data:await Wt(a.fetch,`${a.url}/bucket`,{name:r},{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Le(s))return{data:null,error:s};throw s}}async listBuckets(r){var a=this;try{const s=new URLSearchParams;r?.limit!==void 0&&s.set("limit",r.limit.toString()),r?.offset!==void 0&&s.set("offset",r.offset.toString()),r?.sortColumn&&s.set("sortColumn",r.sortColumn),r?.sortOrder&&s.set("sortOrder",r.sortOrder),r?.search&&s.set("search",r.search);const l=s.toString(),u=l?`${a.url}/bucket?${l}`:`${a.url}/bucket`;return{data:await Us(a.fetch,u,{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Le(s))return{data:null,error:s};throw s}}async deleteBucket(r){var a=this;try{return{data:await pc(a.fetch,`${a.url}/bucket/${r}`,{},{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Le(s))return{data:null,error:s};throw s}}from(r){var a=this;if(!j0(r))throw new gl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new k0({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(s,{get(u,d){const f=u[d];return typeof f!="function"?f:async(...g)=>{try{return{data:await f.apply(u,g),error:null}}catch(m){if(l)throw m;return{data:null,error:m}}}}})}};const yc={"X-Client-Info":`storage-js/${Ug}`,"Content-Type":"application/json"};var zg=class extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Mt(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}var Ku=class extends zg{constructor(r,a,s){super(r),this.name="StorageVectorsApiError",this.status=a,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},I0=class extends zg{constructor(r,a){super(r),this.name="StorageVectorsUnknownError",this.originalError=a}};const vc=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),K0=r=>{if(typeof r!="object"||r===null)return!1;const a=Object.getPrototypeOf(r);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Jm=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Y0=async(r,a,s)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!s?.noResolveJson){const l=r.status||500,u=r;if(typeof u.json=="function")u.json().then(d=>{const f=d?.statusCode||d?.code||l+"";a(new Ku(Jm(d),l,f))}).catch(()=>{const d=l+"";a(new Ku(u.statusText||`HTTP ${l} error`,l,d))});else{const d=l+"";a(new Ku(u.statusText||`HTTP ${l} error`,l,d))}}else a(new I0(Jm(r),r))},J0=(r,a,s,l)=>{const u={method:r,headers:a?.headers||{}};return l?(K0(l)?(u.headers=ie({"Content-Type":"application/json"},a?.headers),u.body=JSON.stringify(l)):u.body=l,ie(ie({},u),s)):u};async function X0(r,a,s,l,u,d){return new Promise((f,g)=>{r(s,J0(a,l,u,d)).then(m=>{if(!m.ok)throw m;if(l?.noResolveJson)return m;const p=m.headers.get("content-type");return!p||!p.includes("application/json")?{}:m.json()}).then(m=>f(m)).catch(m=>Y0(m,g,l))})}async function Bt(r,a,s,l,u){return X0(r,"POST",a,l,u,s)}var Q0=class{constructor(r,a={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ie(ie({},yc),a),this.fetch=vc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(r){var a=this;try{return{data:await Bt(a.fetch,`${a.url}/CreateIndex`,r,{headers:a.headers})||{},error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}}async getIndex(r,a){var s=this;try{return{data:await Bt(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:r,indexName:a},{headers:s.headers}),error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Mt(l))return{data:null,error:l};throw l}}async listIndexes(r){var a=this;try{return{data:await Bt(a.fetch,`${a.url}/ListIndexes`,r,{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}}async deleteIndex(r,a){var s=this;try{return{data:await Bt(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:r,indexName:a},{headers:s.headers})||{},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Mt(l))return{data:null,error:l};throw l}}},Z0=class{constructor(r,a={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ie(ie({},yc),a),this.fetch=vc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(r){var a=this;try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Bt(a.fetch,`${a.url}/PutVectors`,r,{headers:a.headers})||{},error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}}async getVectors(r){var a=this;try{return{data:await Bt(a.fetch,`${a.url}/GetVectors`,r,{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}}async listVectors(r){var a=this;try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:await Bt(a.fetch,`${a.url}/ListVectors`,r,{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}}async queryVectors(r){var a=this;try{return{data:await Bt(a.fetch,`${a.url}/QueryVectors`,r,{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}}async deleteVectors(r){var a=this;try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Bt(a.fetch,`${a.url}/DeleteVectors`,r,{headers:a.headers})||{},error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}}},P0=class{constructor(r,a={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ie(ie({},yc),a),this.fetch=vc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var a=this;try{return{data:await Bt(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:a.headers})||{},error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}}async getBucket(r){var a=this;try{return{data:await Bt(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:r},{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}}async listBuckets(r={}){var a=this;try{return{data:await Bt(a.fetch,`${a.url}/ListVectorBuckets`,r,{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}}async deleteBucket(r){var a=this;try{return{data:await Bt(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:a.headers})||{},error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}}},W0=class extends P0{constructor(r,a={}){super(r,a.headers||{},a.fetch)}from(r){return new F0(this.url,this.headers,r,this.fetch)}async createBucket(r){var a=()=>super.createBucket,s=this;return a().call(s,r)}async getBucket(r){var a=()=>super.getBucket,s=this;return a().call(s,r)}async listBuckets(r={}){var a=()=>super.listBuckets,s=this;return a().call(s,r)}async deleteBucket(r){var a=()=>super.deleteBucket,s=this;return a().call(s,r)}},F0=class extends Q0{constructor(r,a,s,l){super(r,a,l),this.vectorBucketName=s}async createIndex(r){var a=()=>super.createIndex,s=this;return a().call(s,ie(ie({},r),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(r={}){var a=()=>super.listIndexes,s=this;return a().call(s,ie(ie({},r),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(r){var a=()=>super.getIndex,s=this;return a().call(s,s.vectorBucketName,r)}async deleteIndex(r){var a=()=>super.deleteIndex,s=this;return a().call(s,s.vectorBucketName,r)}index(r){return new eb(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},eb=class extends Z0{constructor(r,a,s,l,u){super(r,a,u),this.vectorBucketName=s,this.indexName=l}async putVectors(r){var a=()=>super.putVectors,s=this;return a().call(s,ie(ie({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(r){var a=()=>super.getVectors,s=this;return a().call(s,ie(ie({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(r={}){var a=()=>super.listVectors,s=this;return a().call(s,ie(ie({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(r){var a=()=>super.queryVectors,s=this;return a().call(s,ie(ie({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(r){var a=()=>super.deleteVectors,s=this;return a().call(s,ie(ie({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},tb=class extends G0{constructor(r,a={},s,l){super(r,a,s,l)}from(r){return new $0(this.url,this.headers,r,this.fetch)}get vectors(){return new W0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new V0(this.url+"/iceberg",this.headers,this.fetch)}};const Mg="2.89.0",xr=30*1e3,ic=3,Yu=ic*xr,nb="http://localhost:9999",ab="supabase.auth.token",rb={"X-Client-Info":`gotrue-js/${Mg}`},lc="X-Supabase-Api-Version",Bg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},sb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ib=600*1e3;class Ds extends Error{constructor(a,s,l){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=l}}function ee(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class lb extends Ds{constructor(a,s,l){super(a,s,l),this.name="AuthApiError",this.status=s,this.code=l}}function ob(r){return ee(r)&&r.name==="AuthApiError"}class Oa extends Ds{constructor(a,s){super(a),this.name="AuthUnknownError",this.originalError=s}}class kn extends Ds{constructor(a,s,l,u){super(a,l,u),this.name=s,this.status=l}}class zt extends kn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ub(r){return ee(r)&&r.name==="AuthSessionMissingError"}class pr extends kn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class sl extends kn{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class il extends kn{constructor(a,s=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function cb(r){return ee(r)&&r.name==="AuthImplicitGrantRedirectError"}class Xm extends kn{constructor(a,s=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class db extends kn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class oc extends kn{constructor(a,s){super(a,"AuthRetryableFetchError",s,void 0)}}function Ju(r){return ee(r)&&r.name==="AuthRetryableFetchError"}class Qm extends kn{constructor(a,s,l){super(a,"AuthWeakPasswordError",s,"weak_password"),this.reasons=l}}class uc extends kn{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const cl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Zm=` 	
\r=`.split(""),fb=(()=>{const r=new Array(128);for(let a=0;a<r.length;a+=1)r[a]=-1;for(let a=0;a<Zm.length;a+=1)r[Zm[a].charCodeAt(0)]=-2;for(let a=0;a<cl.length;a+=1)r[cl[a].charCodeAt(0)]=a;return r})();function Pm(r,a,s){if(r!==null)for(a.queue=a.queue<<8|r,a.queuedBits+=8;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;s(cl[l]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;s(cl[l]),a.queuedBits-=6}}function qg(r,a,s){const l=fb[r];if(l>-1)for(a.queue=a.queue<<6|l,a.queuedBits+=6;a.queuedBits>=8;)s(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Wm(r){const a=[],s=f=>{a.push(String.fromCodePoint(f))},l={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},d=f=>{gb(f,l,s)};for(let f=0;f<r.length;f+=1)qg(r.charCodeAt(f),u,d);return a.join("")}function hb(r,a){if(r<=127){a(r);return}else if(r<=2047){a(192|r>>6),a(128|r&63);return}else if(r<=65535){a(224|r>>12),a(128|r>>6&63),a(128|r&63);return}else if(r<=1114111){a(240|r>>18),a(128|r>>12&63),a(128|r>>6&63),a(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function mb(r,a){for(let s=0;s<r.length;s+=1){let l=r.charCodeAt(s);if(l>55295&&l<=56319){const u=(l-55296)*1024&65535;l=(r.charCodeAt(s+1)-56320&65535|u)+65536,s+=1}hb(l,a)}}function gb(r,a,s){if(a.utf8seq===0){if(r<=127){s(r);return}for(let l=1;l<6;l+=1)if((r>>7-l&1)===0){a.utf8seq=l;break}if(a.utf8seq===2)a.codepoint=r&31;else if(a.utf8seq===3)a.codepoint=r&15;else if(a.utf8seq===4)a.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|r&63,a.utf8seq-=1,a.utf8seq===0&&s(a.codepoint)}}function Ar(r){const a=[],s={queue:0,queuedBits:0},l=u=>{a.push(u)};for(let u=0;u<r.length;u+=1)qg(r.charCodeAt(u),s,l);return new Uint8Array(a)}function pb(r){const a=[];return mb(r,s=>a.push(s)),new Uint8Array(a)}function Ca(r){const a=[],s={queue:0,queuedBits:0},l=u=>{a.push(u)};return r.forEach(u=>Pm(u,s,l)),Pm(null,s,l),a.join("")}function yb(r){return Math.round(Date.now()/1e3)+r}function vb(){return Symbol("auth-callback")}const mt=()=>typeof window<"u"&&typeof document<"u",xa={tested:!1,writable:!1},Lg=()=>{if(!mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xa.tested)return xa.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),xa.tested=!0,xa.writable=!0}catch{xa.tested=!0,xa.writable=!1}return xa.writable};function bb(r){const a={},s=new URL(r);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((u,d)=>{a[d]=u})}catch{}return s.searchParams.forEach((l,u)=>{a[u]=l}),a}const Hg=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),wb=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Er=async(r,a,s)=>{await r.setItem(a,JSON.stringify(s))},Ea=async(r,a)=>{const s=await r.getItem(a);if(!s)return null;try{return JSON.parse(s)}catch{return s}},ht=async(r,a)=>{await r.removeItem(a)};class pl{constructor(){this.promise=new pl.promiseConstructor((a,s)=>{this.resolve=a,this.reject=s})}}pl.promiseConstructor=Promise;function Xu(r){const a=r.split(".");if(a.length!==3)throw new uc("Invalid JWT structure");for(let l=0;l<a.length;l++)if(!sb.test(a[l]))throw new uc("JWT not in base64url format");return{header:JSON.parse(Wm(a[0])),payload:JSON.parse(Wm(a[1])),signature:Ar(a[2]),raw:{header:a[0],payload:a[1]}}}async function _b(r){return await new Promise(a=>{setTimeout(()=>a(null),r)})}function Sb(r,a){return new Promise((l,u)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await r(d);if(!a(d,null,f)){l(f);return}}catch(f){if(!a(d,f)){u(f);return}}})()})}function xb(r){return("0"+r.toString(16)).substr(-2)}function Eb(){const a=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=s.length;let u="";for(let d=0;d<56;d++)u+=s.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(a),Array.from(a,xb).join("")}async function Tb(r){const s=new TextEncoder().encode(r),l=await crypto.subtle.digest("SHA-256",s),u=new Uint8Array(l);return Array.from(u).map(d=>String.fromCharCode(d)).join("")}async function Ab(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const s=await Tb(r);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yr(r,a,s=!1){const l=Eb();let u=l;s&&(u+="/PASSWORD_RECOVERY"),await Er(r,`${a}-code-verifier`,u);const d=await Ab(l);return[d,l===d?"plain":"s256"]}const kb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ob(r){const a=r.headers.get(lc);if(!a||!a.match(kb))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function Cb(r){if(!r)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(r<=a)throw new Error("JWT has expired")}function Nb(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vr(r){if(!jb.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Qu(){const r={};return new Proxy(r,{get:(a,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Rb(r,a){return new Proxy(r,{get:(s,l,u)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const d=l.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,l,u)}return!a.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(s,l,u)}})}function Fm(r){return JSON.parse(JSON.stringify(r))}const Aa=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Ub=[502,503,504];async function eg(r){var a;if(!wb(r))throw new oc(Aa(r),0);if(Ub.includes(r.status))throw new oc(Aa(r),r.status);let s;try{s=await r.json()}catch(d){throw new Oa(Aa(d),d)}let l;const u=Ob(r);if(u&&u.getTime()>=Bg["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?l=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(l=s.error_code),l){if(l==="weak_password")throw new Qm(Aa(s),r.status,((a=s.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(l==="session_not_found")throw new zt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new Qm(Aa(s),r.status,s.weak_password.reasons);throw new lb(Aa(s),r.status||500,l)}const Db=(r,a,s,l)=>{const u={method:r,headers:a?.headers||{}};return r==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),s))};async function se(r,a,s,l){var u;const d=Object.assign({},l?.headers);d[lc]||(d[lc]=Bg["2024-01-01"].name),l?.jwt&&(d.Authorization=`Bearer ${l.jwt}`);const f=(u=l?.query)!==null&&u!==void 0?u:{};l?.redirectTo&&(f.redirect_to=l.redirectTo);const g=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",m=await zb(r,a,s+g,{headers:d,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(m):{data:Object.assign({},m),error:null}}async function zb(r,a,s,l,u,d){const f=Db(a,l,u,d);let g;try{g=await r(s,Object.assign({},f))}catch(m){throw console.error(m),new oc(Aa(m),0)}if(g.ok||await eg(g),l?.noResolveJson)return g;try{return await g.json()}catch(m){await eg(m)}}function Pt(r){var a;let s=null;qb(r)&&(s=Object.assign({},r),r.expires_at||(s.expires_at=yb(r.expires_in)));const l=(a=r.user)!==null&&a!==void 0?a:r;return{data:{session:s,user:l},error:null}}function tg(r){const a=Pt(r);return!a.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0)&&(a.data.weak_password=r.weak_password),a}function aa(r){var a;return{data:{user:(a=r.user)!==null&&a!==void 0?a:r},error:null}}function Mb(r){return{data:r,error:null}}function Bb(r){const{action_link:a,email_otp:s,hashed_token:l,redirect_to:u,verification_type:d}=r,f=ml(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:a,email_otp:s,hashed_token:l,redirect_to:u,verification_type:d},m=Object.assign({},f);return{data:{properties:g,user:m},error:null}}function ng(r){return r}function qb(r){return r.access_token&&r.refresh_token&&r.expires_in}const Zu=["global","local","others"];class Lb{constructor({url:a="",headers:s={},fetch:l}){this.url=a,this.headers=s,this.fetch=Hg(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,s=Zu[0]){if(Zu.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Zu.join(", ")}`);try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ee(l))return{data:null,error:l};throw l}}async inviteUserByEmail(a,s={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:aa})}catch(l){if(ee(l))return{data:{user:null},error:l};throw l}}async generateLink(a){try{const{options:s}=a,l=ml(a,["options"]),u=Object.assign(Object.assign({},l),s);return"newEmail"in l&&(u.new_email=l?.newEmail,delete u.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:Bb,redirectTo:s?.redirectTo})}catch(s){if(ee(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(a){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:aa})}catch(s){if(ee(s))return{data:{user:null},error:s};throw s}}async listUsers(a){var s,l,u,d,f,g,m;try{const p={nextPage:null,lastPage:0,total:0},b=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(s=a?.page)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:"",per_page:(d=(u=a?.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:ng});if(b.error)throw b.error;const x=await b.json(),E=(f=b.headers.get("x-total-count"))!==null&&f!==void 0?f:0,A=(m=(g=b.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&m!==void 0?m:[];return A.length>0&&(A.forEach(U=>{const N=parseInt(U.split(";")[0].split("=")[1].substring(0,1)),q=JSON.parse(U.split(";")[1].split("=")[1]);p[`${q}Page`]=N}),p.total=parseInt(E)),{data:Object.assign(Object.assign({},x),p),error:null}}catch(p){if(ee(p))return{data:{users:[]},error:p};throw p}}async getUserById(a){vr(a);try{return await se(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:aa})}catch(s){if(ee(s))return{data:{user:null},error:s};throw s}}async updateUserById(a,s){vr(a);try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:s,headers:this.headers,xform:aa})}catch(l){if(ee(l))return{data:{user:null},error:l};throw l}}async deleteUser(a,s=!1){vr(a);try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:s},xform:aa})}catch(l){if(ee(l))return{data:{user:null},error:l};throw l}}async _listFactors(a){vr(a.userId);try{const{data:s,error:l}=await se(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:s,error:l}}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _deleteFactor(a){vr(a.userId),vr(a.id);try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _listOAuthClients(a){var s,l,u,d,f,g,m;try{const p={nextPage:null,lastPage:0,total:0},b=await se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(s=a?.page)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:"",per_page:(d=(u=a?.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:ng});if(b.error)throw b.error;const x=await b.json(),E=(f=b.headers.get("x-total-count"))!==null&&f!==void 0?f:0,A=(m=(g=b.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&m!==void 0?m:[];return A.length>0&&(A.forEach(U=>{const N=parseInt(U.split(";")[0].split("=")[1].substring(0,1)),q=JSON.parse(U.split(";")[1].split("=")[1]);p[`${q}Page`]=N}),p.total=parseInt(E)),{data:Object.assign(Object.assign({},x),p),error:null}}catch(p){if(ee(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(a){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _getOAuthClient(a){try{return await se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _updateOAuthClient(a,s){try{return await se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:s,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ee(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(a){try{return await se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(a){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ee(s))return{data:null,error:s};throw s}}}function ag(r={}){return{getItem:a=>r[a]||null,setItem:(a,s)=>{r[a]=s},removeItem:a=>{delete r[a]}}}const br={debug:!!(globalThis&&Lg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $g extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class Hb extends $g{}async function $b(r,a,s){br.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,a);const l=new globalThis.AbortController;return a>0&&setTimeout(()=>{l.abort(),br.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async u=>{if(u){br.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,u.name);try{return await s()}finally{br.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,u.name)}}else{if(a===0)throw br.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Hb(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(br.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function Gb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Gg(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function Vb(r){return parseInt(r,16)}function Ib(r){const a=new TextEncoder().encode(r);return"0x"+Array.from(a,l=>l.toString(16).padStart(2,"0")).join("")}function Kb(r){var a;const{chainId:s,domain:l,expirationTime:u,issuedAt:d=new Date,nonce:f,notBefore:g,requestId:m,resources:p,scheme:b,uri:x,version:E}=r;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(E!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${E}`);if(!((a=r.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const A=Gg(r.address),U=b?`${b}://${l}`:l,N=r.statement?`${r.statement}
`:"",q=`${U} wants you to sign in with your Ethereum account:
${A}

${N}`;let V=`URI: ${x}
Version: ${E}
Chain ID: ${s}${f?`
Nonce: ${f}`:""}
Issued At: ${d.toISOString()}`;if(u&&(V+=`
Expiration Time: ${u.toISOString()}`),g&&(V+=`
Not Before: ${g.toISOString()}`),m&&(V+=`
Request ID: ${m}`),p){let $=`
Resources:`;for(const H of p){if(!H||typeof H!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${H}`);$+=`
- ${H}`}V+=$}return`${q}
${V}`}class Pe extends Error{constructor({message:a,code:s,cause:l,name:u}){var d;super(a,{cause:l}),this.__isWebAuthnError=!0,this.name=(d=u??(l instanceof Error?l.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=s}}class dl extends Pe{constructor(a,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:a}),this.name="WebAuthnUnknownError",this.originalError=s}}function Yb({error:r,options:a}){var s,l,u;const{publicKey:d}=a;if(!d)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Pe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((s=d.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Pe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(a.mediation==="conditional"&&((l=d.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Pe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((u=d.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new Pe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new Pe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new Pe({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return d.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new Pe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new Pe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const f=window.location.hostname;if(Vg(f)){if(d.rp.id!==f)return new Pe({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Pe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new Pe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new Pe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Pe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function Jb({error:r,options:a}){const{publicKey:s}=a;if(!s)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Pe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new Pe({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const l=window.location.hostname;if(Vg(l)){if(s.rpId!==l)return new Pe({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Pe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new Pe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Pe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class Xb{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const Qb=new Xb;function Zb(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:a,user:s,excludeCredentials:l}=r,u=ml(r,["challenge","user","excludeCredentials"]),d=Ar(a).buffer,f=Object.assign(Object.assign({},s),{id:Ar(s.id).buffer}),g=Object.assign(Object.assign({},u),{challenge:d,user:f});if(l&&l.length>0){g.excludeCredentials=new Array(l.length);for(let m=0;m<l.length;m++){const p=l[m];g.excludeCredentials[m]=Object.assign(Object.assign({},p),{id:Ar(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return g}function Pb(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:a,allowCredentials:s}=r,l=ml(r,["challenge","allowCredentials"]),u=Ar(a).buffer,d=Object.assign(Object.assign({},l),{challenge:u});if(s&&s.length>0){d.allowCredentials=new Array(s.length);for(let f=0;f<s.length;f++){const g=s[f];d.allowCredentials[f]=Object.assign(Object.assign({},g),{id:Ar(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return d}function Wb(r){var a;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const s=r;return{id:r.id,rawId:r.id,response:{attestationObject:Ca(new Uint8Array(r.response.attestationObject)),clientDataJSON:Ca(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(a=s.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Fb(r){var a;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const s=r,l=r.getClientExtensionResults(),u=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:Ca(new Uint8Array(u.authenticatorData)),clientDataJSON:Ca(new Uint8Array(u.clientDataJSON)),signature:Ca(new Uint8Array(u.signature)),userHandle:u.userHandle?Ca(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(a=s.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Vg(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function rg(){var r,a;return!!(mt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function ew(r){try{const a=await navigator.credentials.create(r);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new dl("Browser returned unexpected credential type",a)}:{data:null,error:new dl("Empty credential response",a)}}catch(a){return{data:null,error:Yb({error:a,options:r})}}}async function tw(r){try{const a=await navigator.credentials.get(r);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new dl("Browser returned unexpected credential type",a)}:{data:null,error:new dl("Empty credential response",a)}}catch(a){return{data:null,error:Jb({error:a,options:r})}}}const nw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},aw={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function fl(...r){const a=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),s=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),l={};for(const u of r)if(u)for(const d in u){const f=u[d];if(f!==void 0)if(Array.isArray(f))l[d]=f;else if(s(f))l[d]=f;else if(a(f)){const g=l[d];a(g)?l[d]=fl(g,f):l[d]=fl(f)}else l[d]=f}return l}function rw(r,a){return fl(nw,r,a||{})}function sw(r,a){return fl(aw,r,a||{})}class iw{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:s,friendlyName:l,signal:u},d){try{const{data:f,error:g}=await this.client.mfa.challenge({factorId:a,webauthn:s});if(!f)return{data:null,error:g};const m=u??Qb.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:p}=f.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${l}`),p.displayName||(p.displayName=p.name)}switch(f.webauthn.type){case"create":{const p=rw(f.webauthn.credential_options.publicKey,d?.create),{data:b,error:x}=await ew({publicKey:p,signal:m});return b?{data:{factorId:a,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:b}},error:null}:{data:null,error:x}}case"request":{const p=sw(f.webauthn.credential_options.publicKey,d?.request),{data:b,error:x}=await tw(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:p,signal:m}));return b?{data:{factorId:a,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:b}},error:null}:{data:null,error:x}}}}catch(f){return ee(f)?{data:null,error:f}:{data:null,error:new Oa("Unexpected error in challenge",f)}}}async _verify({challengeId:a,factorId:s,webauthn:l}){return this.client.mfa.verify({factorId:s,challengeId:a,webauthn:l})}async _authenticate({factorId:a,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},d){if(!s)return{data:null,error:new Ds("rpId is required for WebAuthn authentication")};try{if(!rg())return{data:null,error:new Oa("Browser does not support WebAuthn",null)};const{data:f,error:g}=await this.challenge({factorId:a,webauthn:{rpId:s,rpOrigins:l},signal:u},{request:d});if(!f)return{data:null,error:g};const{webauthn:m}=f;return this._verify({factorId:a,challengeId:f.challengeId,webauthn:{type:m.type,rpId:s,rpOrigins:l,credential_response:m.credential_response}})}catch(f){return ee(f)?{data:null,error:f}:{data:null,error:new Oa("Unexpected error in authenticate",f)}}}async _register({friendlyName:a,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},d){if(!s)return{data:null,error:new Ds("rpId is required for WebAuthn registration")};try{if(!rg())return{data:null,error:new Oa("Browser does not support WebAuthn",null)};const{data:f,error:g}=await this._enroll({friendlyName:a});if(!f)return await this.client.mfa.listFactors().then(b=>{var x;return(x=b.data)===null||x===void 0?void 0:x.all.find(E=>E.factor_type==="webauthn"&&E.friendly_name===a&&E.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b?.id}):void 0),{data:null,error:g};const{data:m,error:p}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:s,rpOrigins:l},signal:u},{create:d});return m?this._verify({factorId:f.id,challengeId:m.challengeId,webauthn:{rpId:s,rpOrigins:l,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:p}}catch(f){return ee(f)?{data:null,error:f}:{data:null,error:new Oa("Unexpected error in register",f)}}}}Gb();const lw={url:nb,storageKey:ab,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function sg(r,a,s){return await s()}const wr={};class zs{get jwks(){var a,s;return(s=(a=wr[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(a){wr[this.storageKey]=Object.assign(Object.assign({},wr[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,s;return(s=(a=wr[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){wr[this.storageKey]=Object.assign(Object.assign({},wr[this.storageKey]),{cachedAt:a})}constructor(a){var s,l,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},lw),a);if(this.storageKey=d.storageKey,this.instanceID=(s=zs.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,zs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&mt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new Lb({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=Hg(d.fetch),this.lock=d.lock||sg,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,d.lock?this.lock=d.lock:this.persistSession&&mt()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=$b:this.lock=sg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new iw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:Lg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ag(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=ag(this.memoryStorage)),mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Mg}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let s={},l="none";if(mt()&&(s=bb(window.location.href),this._isImplicitGrantCallback(s)?l="implicit":await this._isPKCECallback(s)&&(l="pkce")),mt()&&this.detectSessionInUrl&&l!=="none"){const{data:u,error:d}=await this._getSessionFromURL(s,l);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),cb(d)){const m=(a=d.details)===null||a===void 0?void 0:a.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:f,redirectType:g}=u;return this._debug("#_initialize()","detected session in URL",f,"redirect type",g),await this._saveSession(f),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ee(s)?this._returnResult({error:s}):this._returnResult({error:new Oa("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var s,l,u;try{const d=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(s=a?.options)===null||s===void 0?void 0:s.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(u=a?.options)===null||u===void 0?void 0:u.captchaToken}},xform:Pt}),{data:f,error:g}=d;if(g||!f)return this._returnResult({data:{user:null,session:null},error:g});const m=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(d){if(ee(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(a){var s,l,u;try{let d;if("email"in a){const{email:b,password:x,options:E}=a;let A=null,U=null;this.flowType==="pkce"&&([A,U]=await yr(this.storage,this.storageKey)),d=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E?.emailRedirectTo,body:{email:b,password:x,data:(s=E?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:E?.captchaToken},code_challenge:A,code_challenge_method:U},xform:Pt})}else if("phone"in a){const{phone:b,password:x,options:E}=a;d=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:x,data:(l=E?.data)!==null&&l!==void 0?l:{},channel:(u=E?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:E?.captchaToken}},xform:Pt})}else throw new sl("You must provide either an email or phone number and a password");const{data:f,error:g}=d;if(g||!f)return await ht(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:g});const m=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(d){if(await ht(this.storage,`${this.storageKey}-code-verifier`),ee(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(a){try{let s;if("email"in a){const{email:d,password:f,options:g}=a;s=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:tg})}else if("phone"in a){const{phone:d,password:f,options:g}=a;s=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:tg})}else throw new sl("You must provide either an email or phone number and a password");const{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new pr;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:u})}catch(s){if(ee(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(a){var s,l,u,d;return await this._handleProviderSignIn(a.provider,{redirectTo:(s=a.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=a.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=a.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(d=a.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:s}=a;switch(s){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(a){var s,l,u,d,f,g,m,p,b,x,E;let A,U;if("message"in a)A=a.message,U=a.signature;else{const{chain:N,wallet:q,statement:V,options:$}=a;let H;if(mt())if(typeof q=="object")H=q;else{const pe=window;if("ethereum"in pe&&typeof pe.ethereum=="object"&&"request"in pe.ethereum&&typeof pe.ethereum.request=="function")H=pe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof q!="object"||!$?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=q}const J=new URL((s=$?.url)!==null&&s!==void 0?s:window.location.href),oe=await H.request({method:"eth_requestAccounts"}).then(pe=>pe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!oe||oe.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const te=Gg(oe[0]);let X=(l=$?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!X){const pe=await H.request({method:"eth_chainId"});X=Vb(pe)}const Y={domain:J.host,address:te,statement:V,uri:J.href,version:"1",chainId:X,nonce:(u=$?.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(f=(d=$?.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(g=$?.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(m=$?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(p=$?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(b=$?.signInWithEthereum)===null||b===void 0?void 0:b.resources};A=Kb(Y),U=await H.request({method:"personal_sign",params:[Ib(A),te]})}try{const{data:N,error:q}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:A,signature:U},!((x=a.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(E=a.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Pt});if(q)throw q;if(!N||!N.session||!N.user){const V=new pr;return this._returnResult({data:{user:null,session:null},error:V})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:q})}catch(N){if(ee(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(a){var s,l,u,d,f,g,m,p,b,x,E,A;let U,N;if("message"in a)U=a.message,N=a.signature;else{const{chain:q,wallet:V,statement:$,options:H}=a;let J;if(mt())if(typeof V=="object")J=V;else{const te=window;if("solana"in te&&typeof te.solana=="object"&&("signIn"in te.solana&&typeof te.solana.signIn=="function"||"signMessage"in te.solana&&typeof te.solana.signMessage=="function"))J=te.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof V!="object"||!H?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");J=V}const oe=new URL((s=H?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in J&&J.signIn){const te=await J.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},H?.signInWithSolana),{version:"1",domain:oe.host,uri:oe.href}),$?{statement:$}:null));let X;if(Array.isArray(te)&&te[0]&&typeof te[0]=="object")X=te[0];else if(te&&typeof te=="object"&&"signedMessage"in te&&"signature"in te)X=te;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in X&&"signature"in X&&(typeof X.signedMessage=="string"||X.signedMessage instanceof Uint8Array)&&X.signature instanceof Uint8Array)U=typeof X.signedMessage=="string"?X.signedMessage:new TextDecoder().decode(X.signedMessage),N=X.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in J)||typeof J.signMessage!="function"||!("publicKey"in J)||typeof J!="object"||!J.publicKey||!("toBase58"in J.publicKey)||typeof J.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");U=[`${oe.host} wants you to sign in with your Solana account:`,J.publicKey.toBase58(),...$?["",$,""]:[""],"Version: 1",`URI: ${oe.href}`,`Issued At: ${(u=(l=H?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((d=H?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${H.signInWithSolana.notBefore}`]:[],...!((f=H?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${H.signInWithSolana.expirationTime}`]:[],...!((g=H?.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${H.signInWithSolana.chainId}`]:[],...!((m=H?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${H.signInWithSolana.nonce}`]:[],...!((p=H?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${H.signInWithSolana.requestId}`]:[],...!((x=(b=H?.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||x===void 0)&&x.length?["Resources",...H.signInWithSolana.resources.map(X=>`- ${X}`)]:[]].join(`
`);const te=await J.signMessage(new TextEncoder().encode(U),"utf8");if(!te||!(te instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=te}}try{const{data:q,error:V}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:U,signature:Ca(N)},!((E=a.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(A=a.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:Pt});if(V)throw V;if(!q||!q.session||!q.user){const $=new pr;return this._returnResult({data:{user:null,session:null},error:$})}return q.session&&(await this._saveSession(q.session),await this._notifyAllSubscribers("SIGNED_IN",q.session)),this._returnResult({data:Object.assign({},q),error:V})}catch(q){if(ee(q))return this._returnResult({data:{user:null,session:null},error:q});throw q}}async _exchangeCodeForSession(a){const s=await Ea(this.storage,`${this.storageKey}-code-verifier`),[l,u]=(s??"").split("/");try{if(!l&&this.flowType==="pkce")throw new db;const{data:d,error:f}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:l},xform:Pt});if(await ht(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!d||!d.session||!d.user){const g=new pr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:u??null}),error:f})}catch(d){if(await ht(this.storage,`${this.storageKey}-code-verifier`),ee(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(a){try{const{options:s,provider:l,token:u,access_token:d,nonce:f}=a,g=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:u,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Pt}),{data:m,error:p}=g;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m||!m.session||!m.user){const b=new pr;return this._returnResult({data:{user:null,session:null},error:b})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:p})}catch(s){if(ee(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(a){var s,l,u,d,f;try{if("email"in a){const{email:g,options:m}=a;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await yr(this.storage,this.storageKey));const{error:x}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(s=m?.data)!==null&&s!==void 0?s:{},create_user:(l=m?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:p,code_challenge_method:b},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in a){const{phone:g,options:m}=a,{data:p,error:b}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(u=m?.data)!==null&&u!==void 0?u:{},create_user:(d=m?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(f=m?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:b})}throw new sl("You must provide either an email or phone number.")}catch(g){if(await ht(this.storage,`${this.storageKey}-code-verifier`),ee(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(a){var s,l;try{let u,d;"options"in a&&(u=(s=a.options)===null||s===void 0?void 0:s.redirectTo,d=(l=a.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:g}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:d}}),redirectTo:u,xform:Pt});if(g)throw g;if(!f)throw new Error("An error occurred on token verification.");const m=f.session,p=f.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(u){if(ee(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(a){var s,l,u,d,f;try{let g=null,m=null;this.flowType==="pkce"&&([g,m]=await yr(this.storage,this.storageKey));const p=await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(l=(s=a.options)===null||s===void 0?void 0:s.redirectTo)!==null&&l!==void 0?l:void 0}),!((u=a?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:m}),headers:this.headers,xform:Mb});return!((d=p.data)===null||d===void 0)&&d.url&&mt()&&!(!((f=a.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(g){if(await ht(this.storage,`${this.storageKey}-code-verifier`),ee(g))return this._returnResult({data:null,error:g});throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:s},error:l}=a;if(l)throw l;if(!s)throw new zt;const{error:u}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(a){if(ee(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const s=`${this.url}/resend`;if("email"in a){const{email:l,type:u,options:d}=a,{error:f}=await se(this.fetch,"POST",s,{headers:this.headers,body:{email:l,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in a){const{phone:l,type:u,options:d}=a,{data:f,error:g}=await se(this.fetch,"POST",s,{headers:this.headers,body:{phone:l,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:g})}throw new sl("You must provide either an email or phone number and a type")}catch(s){if(ee(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(a,s){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await l,await s()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=s();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await a(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const s=await Ea(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?a=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const l=a.expires_at?a.expires_at*1e3-Date.now()<Yu:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",a.expires_at),!l){if(this.userStorage){const f=await Ea(this.userStorage,this.storageKey+"-user");f?.user?a.user=f.user:a.user=Qu()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};a.user=Rb(a.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:u,error:d}=await this._callRefreshToken(a.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const s=await this._acquireLock(-1,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(a){try{return a?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:aa}):await this._useSession(async s=>{var l,u,d;const{data:f,error:g}=s;if(g)throw g;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new zt}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0,xform:aa})})}catch(s){if(ee(s))return ub(s)&&(await this._removeSession(),await ht(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(a,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(a,s))}async _updateUser(a,s={}){try{return await this._useSession(async l=>{const{data:u,error:d}=l;if(d)throw d;if(!u.session)throw new zt;const f=u.session;let g=null,m=null;this.flowType==="pkce"&&a.email!=null&&([g,m]=await yr(this.storage,this.storageKey));const{data:p,error:b}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:g,code_challenge_method:m}),jwt:f.access_token,xform:aa});if(b)throw b;return f.user=p.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(l){if(await ht(this.storage,`${this.storageKey}-code-verifier`),ee(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new zt;const s=Date.now()/1e3;let l=s,u=!0,d=null;const{payload:f}=Xu(a.access_token);if(f.exp&&(l=f.exp,u=l<=s),u){const{data:g,error:m}=await this._callRefreshToken(a.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!g)return{data:{user:null,session:null},error:null};d=g}else{const{data:g,error:m}=await this._getUser(a.access_token);if(m)throw m;d={access_token:a.access_token,refresh_token:a.refresh_token,user:g.user,token_type:"bearer",expires_in:l-s,expires_at:l},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(s){if(ee(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async s=>{var l;if(!a){const{data:f,error:g}=s;if(g)throw g;a=(l=f.session)!==null&&l!==void 0?l:void 0}if(!a?.refresh_token)throw new zt;const{data:u,error:d}=await this._callRefreshToken(a.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(ee(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(a,s){try{if(!mt())throw new il("No browser detected.");if(a.error||a.error_description||a.error_code)throw new il(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Xm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new il("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Xm("No code detected.");const{data:$,error:H}=await this._exchangeCodeForSession(a.code);if(H)throw H;const J=new URL(window.location.href);return J.searchParams.delete("code"),window.history.replaceState(window.history.state,"",J.toString()),{data:{session:$.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:u,access_token:d,refresh_token:f,expires_in:g,expires_at:m,token_type:p}=a;if(!d||!g||!f||!p)throw new il("No session defined in URL");const b=Math.round(Date.now()/1e3),x=parseInt(g);let E=b+x;m&&(E=parseInt(m));const A=E-b;A*1e3<=xr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${A}s, should have been closer to ${x}s`);const U=E-x;b-U>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",U,E,b):b-U<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",U,E,b);const{data:N,error:q}=await this._getUser(d);if(q)throw q;const V={provider_token:l,provider_refresh_token:u,access_token:d,expires_in:x,expires_at:E,refresh_token:f,token_type:p,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:V,redirectType:a.type},error:null})}catch(l){if(ee(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const s=await Ea(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&s)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async s=>{var l;const{data:u,error:d}=s;if(d)return this._returnResult({error:d});const f=(l=u.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:g}=await this.admin.signOut(f,a);if(g&&!(ob(g)&&(g.status===404||g.status===401||g.status===403)))return this._returnResult({error:g})}return a!=="others"&&(await this._removeSession(),await ht(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const s=vb(),l={id:s,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:l}}}async _emitInitialSession(a){return await this._useSession(async s=>{var l,u;try{const{data:{session:d},error:f}=s;if(f)throw f;await((l=this.stateChangeEmitters.get(a))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",a,"session",d)}catch(d){await((u=this.stateChangeEmitters.get(a))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",d),console.error(d)}})}async resetPasswordForEmail(a,s={}){let l=null,u=null;this.flowType==="pkce"&&([l,u]=await yr(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:l,code_challenge_method:u,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(d){if(await ht(this.storage,`${this.storageKey}-code-verifier`),ee(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var a;try{const{data:s,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(a=s.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var s;try{const{data:l,error:u}=await this._useSession(async d=>{var f,g,m,p,b;const{data:x,error:E}=d;if(E)throw E;const A=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(f=a.options)===null||f===void 0?void 0:f.redirectTo,scopes:(g=a.options)===null||g===void 0?void 0:g.scopes,queryParams:(m=a.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",A,{headers:this.headers,jwt:(b=(p=x.session)===null||p===void 0?void 0:p.access_token)!==null&&b!==void 0?b:void 0})});if(u)throw u;return mt()&&!(!((s=a.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:a.provider,url:l?.url},error:null})}catch(l){if(ee(l))return this._returnResult({data:{provider:a.provider,url:null},error:l});throw l}}async linkIdentityIdToken(a){return await this._useSession(async s=>{var l;try{const{error:u,data:{session:d}}=s;if(u)throw u;const{options:f,provider:g,token:m,access_token:p,nonce:b}=a,x=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=d?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:g,id_token:m,access_token:p,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Pt}),{data:E,error:A}=x;return A?this._returnResult({data:{user:null,session:null},error:A}):!E||!E.session||!E.user?this._returnResult({data:{user:null,session:null},error:new pr}):(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("USER_UPDATED",E.session)),this._returnResult({data:E,error:A}))}catch(u){if(await ht(this.storage,`${this.storageKey}-code-verifier`),ee(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(a){try{return await this._useSession(async s=>{var l,u;const{data:d,error:f}=s;if(f)throw f;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(a){const s=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(s,"begin");try{const l=Date.now();return await Sb(async u=>(u>0&&await _b(200*Math.pow(2,u-1)),this._debug(s,"refreshing attempt",u),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:Pt})),(u,d)=>{const f=200*Math.pow(2,u);return d&&Ju(d)&&Date.now()+f-l<xr})}catch(l){if(this._debug(s,"error",l),ee(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(s,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,s){const l=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",s,"url",l),mt()&&!s.skipBrowserRedirect&&window.location.assign(l),{data:{provider:a,url:l},error:null}}async _recoverAndRefresh(){var a,s;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const u=await Ea(this.storage,this.storageKey);if(u&&this.userStorage){let f=await Ea(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:u.user},await Er(this.userStorage,this.storageKey+"-user",f)),u.user=(a=f?.user)!==null&&a!==void 0?a:Qu()}else if(u&&!u.user&&!u.user){const f=await Ea(this.storage,this.storageKey+"-user");f&&f?.user?(u.user=f.user,await ht(this.storage,this.storageKey+"-user"),await Er(this.storage,this.storageKey,u)):u.user=Qu()}if(this._debug(l,"session from storage",u),!this._isValidSession(u)){this._debug(l,"session is not valid"),u!==null&&await this._removeSession();return}const d=((s=u.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Yu;if(this._debug(l,`session has${d?"":" not"} expired with margin of ${Yu}s`),d){if(this.autoRefreshToken&&u.refresh_token){const{error:f}=await this._callRefreshToken(u.refresh_token);f&&(console.error(f),Ju(f)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:g}=await this._getUser(u.access_token);!g&&f?.user?(u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(l,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(l,"error",u),console.error(u);return}finally{this._debug(l,"end")}}async _callRefreshToken(a){var s,l;if(!a)throw new zt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new pl;const{data:d,error:f}=await this._refreshAccessToken(a);if(f)throw f;if(!d.session)throw new zt;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const g={data:d.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(d){if(this._debug(u,"error",d),ee(d)){const f={data:null,error:d};return Ju(d)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(d),d}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(a,s,l=!0){const u=`#_notifyAllSubscribers(${a})`;this._debug(u,"begin",s,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:a,session:s});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(a,s)}catch(m){d.push(m)}});if(await Promise.all(f),d.length>0){for(let g=0;g<d.length;g+=1)console.error(d[g]);throw d[0]}}finally{this._debug(u,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await ht(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},a),l=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&s.user&&await Er(this.userStorage,this.storageKey+"-user",{user:s.user});const u=Object.assign({},s);delete u.user;const d=Fm(u);await Er(this.storage,this.storageKey,d)}else{const u=Fm(s);await Er(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ht(this.storage,this.storageKey),await ht(this.storage,this.storageKey+"-code-verifier"),await ht(this.storage,this.storageKey+"-user"),this.userStorage&&await ht(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&mt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),xr);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async s=>{const{data:{session:l}}=s;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((l.expires_at*1e3-a)/xr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${xr}ms, refresh threshold is ${ic} ticks`),u<=ic&&await this._callRefreshToken(l.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof $g)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const s=`#_onVisibilityChanged(${a})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,s,l){const u=[`provider=${encodeURIComponent(s)}`];if(l?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&u.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[d,f]=await yr(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});u.push(g.toString())}if(l?.queryParams){const d=new URLSearchParams(l.queryParams);u.push(d.toString())}return l?.skipBrowserRedirect&&u.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${a}?${u.join("&")}`}async _unenroll(a){try{return await this._useSession(async s=>{var l;const{data:u,error:d}=s;return d?this._returnResult({data:null,error:d}):await se(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token})})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(a){try{return await this._useSession(async s=>{var l,u;const{data:d,error:f}=s;if(f)return this._returnResult({data:null,error:f});const g=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:m,error:p}=await se(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(l=d?.session)===null||l===void 0?void 0:l.access_token});return p?this._returnResult({data:null,error:p}):(a.factorType==="totp"&&m.type==="totp"&&(!((u=m?.totp)===null||u===void 0)&&u.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}}async _verify(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:u,error:d}=s;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?Wb(a.webauthn.credential_response):Fb(a.webauthn.credential_response)})}:{code:a.code}),{data:g,error:m}=await se(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:f,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:m}))})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:u,error:d}=s;if(d)return this._returnResult({data:null,error:d});const f=await se(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});if(f.error)return f;const{data:g}=f;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:Zb(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:Pb(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(a){const{data:s,error:l}=await this._challenge({factorId:a.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:a.factorId,challengeId:s.id,code:a.code})}async _listFactors(){var a;const{data:{user:s},error:l}=await this.getUser();if(l)return{data:null,error:l};const u={all:[],phone:[],totp:[],webauthn:[]};for(const d of(a=s?.factors)!==null&&a!==void 0?a:[])u.all.push(d),d.status==="verified"&&u[d.factor_type].push(d);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){var a,s;const{data:{session:l},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Xu(l.access_token);let f=null;d.aal&&(f=d.aal);let g=f;((s=(a=l.user.factors)===null||a===void 0?void 0:a.filter(b=>b.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(g="aal2");const p=d.amr||[];return{data:{currentLevel:f,nextLevel:g,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async s=>{const{data:{session:l},error:u}=s;return u?this._returnResult({data:null,error:u}):l?await se(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:l.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new zt})})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(a,s){try{return await this._useSession(async l=>{const{data:{session:u},error:d}=l;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new zt});const f=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return f.data&&f.data.redirect_url&&mt()&&!s?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(ee(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(a,s){try{return await this._useSession(async l=>{const{data:{session:u},error:d}=l;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new zt});const f=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return f.data&&f.data.redirect_url&&mt()&&!s?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(ee(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:s},error:l}=a;return l?this._returnResult({data:null,error:l}):s?await se(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new zt})})}catch(a){if(ee(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async s=>{const{data:{session:l},error:u}=s;return u?this._returnResult({data:null,error:u}):l?(await se(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new zt})})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(a,s={keys:[]}){let l=s.keys.find(g=>g.kid===a);if(l)return l;const u=Date.now();if(l=this.jwks.keys.find(g=>g.kid===a),l&&this.jwks_cached_at+ib>u)return l;const{data:d,error:f}=await se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=u,l=d.keys.find(g=>g.kid===a),!l)?null:l}async getClaims(a,s={}){try{let l=a;if(!l){const{data:A,error:U}=await this.getSession();if(U||!A.session)return this._returnResult({data:null,error:U});l=A.session.access_token}const{header:u,payload:d,signature:f,raw:{header:g,payload:m}}=Xu(l);s?.allowExpired||Cb(d.exp);const p=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!p){const{error:A}=await this.getUser(l);if(A)throw A;return{data:{claims:d,header:u,signature:f},error:null}}const b=Nb(u.alg),x=await crypto.subtle.importKey("jwk",p,b,!0,["verify"]);if(!await crypto.subtle.verify(b,x,f,pb(`${g}.${m}`)))throw new uc("Invalid JWT signature");return{data:{claims:d,header:u,signature:f},error:null}}catch(l){if(ee(l))return this._returnResult({data:null,error:l});throw l}}}zs.nextInstanceID={};const ow=zs,uw="2.89.0";let Os="";typeof Deno<"u"?Os="deno":typeof document<"u"?Os="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Os="react-native":Os="node";const cw={"X-Client-Info":`supabase-js-${Os}/${uw}`},dw={headers:cw},fw={schema:"public"},hw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mw={};function Ms(r){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ms(r)}function gw(r,a){if(Ms(r)!="object"||!r)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var l=s.call(r,a);if(Ms(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(r)}function pw(r){var a=gw(r,"string");return Ms(a)=="symbol"?a:a+""}function yw(r,a,s){return(a=pw(a))in r?Object.defineProperty(r,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[a]=s,r}function ig(r,a){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);a&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),s.push.apply(s,l)}return s}function Ge(r){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?ig(Object(s),!0).forEach(function(l){yw(r,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):ig(Object(s)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(s,l))})}return r}const vw=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),bw=()=>Headers,ww=(r,a,s)=>{const l=vw(s),u=bw();return async(d,f)=>{var g;const m=(g=await a())!==null&&g!==void 0?g:r;let p=new u(f?.headers);return p.has("apikey")||p.set("apikey",r),p.has("Authorization")||p.set("Authorization",`Bearer ${m}`),l(d,Ge(Ge({},f),{},{headers:p}))}};function _w(r){return r.endsWith("/")?r:r+"/"}function Sw(r,a){var s,l;const{db:u,auth:d,realtime:f,global:g}=r,{db:m,auth:p,realtime:b,global:x}=a,E={db:Ge(Ge({},m),u),auth:Ge(Ge({},p),d),realtime:Ge(Ge({},b),f),storage:{},global:Ge(Ge(Ge({},x),g),{},{headers:Ge(Ge({},(s=x?.headers)!==null&&s!==void 0?s:{}),(l=g?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return r.accessToken?E.accessToken=r.accessToken:delete E.accessToken,E}function xw(r){const a=r?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(_w(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Ew=class extends ow{constructor(r){super(r)}},Tw=class{constructor(r,a,s){var l,u;this.supabaseUrl=r,this.supabaseKey=a;const d=xw(r);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,g={db:fw,realtime:mw,auth:Ge(Ge({},hw),{},{storageKey:f}),global:dw},m=Sw(s??{},g);if(this.storageKey=(l=m.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=m.global.headers)!==null&&u!==void 0?u:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(b,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=m.auth)!==null&&p!==void 0?p:{},this.headers,m.global.fetch)}this.fetch=ww(a,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Ge({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&this.accessToken().then(b=>this.realtime.setAuth(b)).catch(b=>console.warn("Failed to set initial Realtime auth token:",b)),this.rest=new r0(new URL("rest/v1",d).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new tb(this.storageUrl.href,this.headers,this.fetch,s?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new Fv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,a={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,a,s)}channel(r,a={config:{}}){return this.realtime.channel(r,a)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,a,s;if(r.accessToken)return await r.accessToken();const{data:l}=await r.auth.getSession();return(a=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:a,detectSessionInUrl:s,storage:l,userStorage:u,storageKey:d,flowType:f,lock:g,debug:m,throwOnError:p},b,x){const E={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ew({url:this.authUrl.href,headers:Ge(Ge({},E),b),storageKey:d,autoRefreshToken:r,persistSession:a,detectSessionInUrl:s,storage:l,userStorage:u,flowType:f,lock:g,debug:m,throwOnError:p,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(A=>A.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new _0(this.realtimeUrl.href,Ge(Ge({},r),{},{params:Ge(Ge({},{apikey:this.supabaseKey}),r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,a)=>{this._handleTokenChanged(r,"CLIENT",a?.access_token)})}_handleTokenChanged(r,a,s){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Aw=(r,a,s)=>new Tw(r,a,s);function kw(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const a=r.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}kw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ow={getItem:async r=>new Promise(a=>{chrome.storage.local.get(r,s=>{const l=s[r];a(typeof l=="string"?l:null)})}),setItem:async(r,a)=>new Promise(s=>{chrome.storage.local.set({[r]:a},()=>{s()})}),removeItem:async r=>new Promise(a=>{chrome.storage.local.remove(r,()=>{a()})})},Cw="https://yndcawdtkpqulpzxkwif.supabase.co",Nw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InluZGNhd2R0a3BxdWxwenhrd2lmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc2MDUxODMsImV4cCI6MjA2MzE4MTE4M30.1tyiU5AMZsIZZ08rviq-tFC6_oJpMZH6sdIF5FxnZyI",tt=Aw(Cw,Nw,{auth:{storage:Ow,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!1}}),qs=Or((r,a)=>({user:null,session:null,profile:null,loading:!0,error:null,initialize:async()=>{try{r({loading:!0,error:null});const{data:{session:s},error:l}=await tt.auth.getSession();if(l)throw l;s&&(r({user:s.user,session:s}),await a().fetchProfile()),tt.auth.onAuthStateChange(async(u,d)=>{r({user:d?.user||null,session:d}),d?await a().fetchProfile():r({profile:null})})}catch(s){r({error:String(s)})}finally{r({loading:!1})}},signInWithEmail:async(s,l)=>{try{r({loading:!0,error:null});const{error:u}=await tt.auth.signInWithPassword({email:s,password:l});if(u)throw u}catch(u){throw r({error:String(u)}),u}finally{r({loading:!1})}},signUpWithEmail:async(s,l)=>{try{r({loading:!0,error:null});const{data:u,error:d}=await tt.auth.signUp({email:s,password:l});if(d)throw d;u.session&&(r({user:u.user,session:u.session}),await a().fetchProfile())}catch(u){throw r({error:String(u)}),u}finally{r({loading:!1})}},signOut:async()=>{try{r({loading:!0,error:null});const{error:s}=await tt.auth.signOut();if(s)throw s;r({user:null,session:null,profile:null})}catch(s){throw r({error:String(s)}),s}finally{r({loading:!1})}},fetchProfile:async()=>{try{const s=a().user;if(!s)return;const{data:l,error:u}=await tt.from("profiles").select("*").eq("id",s.id).single();if(u)throw u;r({profile:l})}catch(s){console.error("Error fetching profile:",s)}}})),jw=3e5,Ig=Or((r,a)=>({cachedContext:null,lastUrl:null,lastWorkflowId:null,isCapturing:!1,setCachedContext:s=>{r({cachedContext:s,lastUrl:s?.currentUrl||null,lastWorkflowId:s?.workflowId||null})},setCapturing:s=>r({isCapturing:s}),shouldRefreshContext:(s,l)=>{const{cachedContext:u,lastUrl:d,lastWorkflowId:f}=a();return!u||s!==d||l!==f||Date.now()-u.capturedAt>jw},invalidateCache:()=>{r({cachedContext:null,lastUrl:null,lastWorkflowId:null})}}));const Rw=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Uw=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,s,l)=>l?l.toUpperCase():s.toLowerCase()),lg=r=>{const a=Uw(r);return a.charAt(0).toUpperCase()+a.slice(1)},Kg=(...r)=>r.filter((a,s,l)=>!!a&&a.trim()!==""&&l.indexOf(a)===s).join(" ").trim(),Dw=r=>{for(const a in r)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};var zw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Mw=fe.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:u="",children:d,iconNode:f,...g},m)=>fe.createElement("svg",{ref:m,...zw,width:a,height:a,stroke:r,strokeWidth:l?Number(s)*24/Number(a):s,className:Kg("lucide",u),...!d&&!Dw(g)&&{"aria-hidden":"true"},...g},[...f.map(([p,b])=>fe.createElement(p,b)),...Array.isArray(d)?d:[d]]));const Be=(r,a)=>{const s=fe.forwardRef(({className:l,...u},d)=>fe.createElement(Mw,{ref:d,iconNode:a,className:Kg(`lucide-${Rw(lg(r))}`,`lucide-${r}`,l),...u}));return s.displayName=lg(r),s};const Bw=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Yg=Be("bot",Bw);const qw=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Lw=Be("camera",qw);const Hw=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ls=Be("check",Hw);const $w=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Gw=Be("circle-alert",$w);const Vw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Iw=Be("circle-check",Vw);const Kw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Yw=Be("circle-x",Kw);const Jw=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Jg=Be("copy",Jw);const Xw=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Qw=Be("credit-card",Xw);const Zw=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ul=Be("external-link",Zw);const Pw=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Na=Be("loader-circle",Pw);const Ww=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Fw=Be("lock",Ww);const e_=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],t_=Be("log-out",e_);const n_=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],a_=Be("mail",n_);const r_=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],s_=Be("menu",r_);const i_=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],cc=Be("message-square",i_);const l_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Xg=Be("plus",l_);const o_=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Qg=Be("send",o_);const u_=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],c_=Be("settings",u_);const d_=[["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}],["path",{d:"M17 14V2",key:"8ymqnk"}]],f_=Be("thumbs-down",d_);const h_=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],m_=Be("thumbs-up",h_);const g_=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],p_=Be("trash-2",g_);const y_=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Zg=Be("triangle-alert",y_);const v_=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],b_=Be("user",v_);const w_=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],__=Be("workflow",w_);const S_=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bc=Be("x",S_);function Pg(r){var a,s,l="";if(typeof r=="string"||typeof r=="number")l+=r;else if(typeof r=="object")if(Array.isArray(r)){var u=r.length;for(a=0;a<u;a++)r[a]&&(s=Pg(r[a]))&&(l&&(l+=" "),l+=s)}else for(s in r)r[s]&&(l&&(l+=" "),l+=s);return l}function Wg(){for(var r,a,s=0,l="",u=arguments.length;s<u;s++)(r=arguments[s])&&(a=Pg(r))&&(l&&(l+=" "),l+=a);return l}const og=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,ug=Wg,x_=(r,a)=>s=>{var l;if(a?.variants==null)return ug(r,s?.class,s?.className);const{variants:u,defaultVariants:d}=a,f=Object.keys(u).map(p=>{const b=s?.[p],x=d?.[p];if(b===null)return null;const E=og(b)||og(x);return u[p][E]}),g=s&&Object.entries(s).reduce((p,b)=>{let[x,E]=b;return E===void 0||(p[x]=E),p},{}),m=a==null||(l=a.compoundVariants)===null||l===void 0?void 0:l.reduce((p,b)=>{let{class:x,className:E,...A}=b;return Object.entries(A).every(U=>{let[N,q]=U;return Array.isArray(q)?q.includes({...d,...g}[N]):{...d,...g}[N]===q})?[...p,x,E]:p},[]);return ug(r,f,m,s?.class,s?.className)},E_=(r,a)=>{const s=new Array(r.length+a.length);for(let l=0;l<r.length;l++)s[l]=r[l];for(let l=0;l<a.length;l++)s[r.length+l]=a[l];return s},T_=(r,a)=>({classGroupId:r,validator:a}),Fg=(r=new Map,a=null,s)=>({nextPart:r,validators:a,classGroupId:s}),hl="-",cg=[],A_="arbitrary..",k_=r=>{const a=C_(r),{conflictingClassGroups:s,conflictingClassGroupModifiers:l}=r;return{getClassGroupId:f=>{if(f.startsWith("[")&&f.endsWith("]"))return O_(f);const g=f.split(hl),m=g[0]===""&&g.length>1?1:0;return ep(g,m,a)},getConflictingClassGroupIds:(f,g)=>{if(g){const m=l[f],p=s[f];return m?p?E_(p,m):m:p||cg}return s[f]||cg}}},ep=(r,a,s)=>{if(r.length-a===0)return s.classGroupId;const u=r[a],d=s.nextPart.get(u);if(d){const p=ep(r,a+1,d);if(p)return p}const f=s.validators;if(f===null)return;const g=a===0?r.join(hl):r.slice(a).join(hl),m=f.length;for(let p=0;p<m;p++){const b=f[p];if(b.validator(g))return b.classGroupId}},O_=r=>r.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const a=r.slice(1,-1),s=a.indexOf(":"),l=a.slice(0,s);return l?A_+l:void 0})(),C_=r=>{const{theme:a,classGroups:s}=r;return N_(s,a)},N_=(r,a)=>{const s=Fg();for(const l in r){const u=r[l];wc(u,s,l,a)}return s},wc=(r,a,s,l)=>{const u=r.length;for(let d=0;d<u;d++){const f=r[d];j_(f,a,s,l)}},j_=(r,a,s,l)=>{if(typeof r=="string"){R_(r,a,s);return}if(typeof r=="function"){U_(r,a,s,l);return}D_(r,a,s,l)},R_=(r,a,s)=>{const l=r===""?a:tp(a,r);l.classGroupId=s},U_=(r,a,s,l)=>{if(z_(r)){wc(r(l),a,s,l);return}a.validators===null&&(a.validators=[]),a.validators.push(T_(s,r))},D_=(r,a,s,l)=>{const u=Object.entries(r),d=u.length;for(let f=0;f<d;f++){const[g,m]=u[f];wc(m,tp(a,g),s,l)}},tp=(r,a)=>{let s=r;const l=a.split(hl),u=l.length;for(let d=0;d<u;d++){const f=l[d];let g=s.nextPart.get(f);g||(g=Fg(),s.nextPart.set(f,g)),s=g}return s},z_=r=>"isThemeGetter"in r&&r.isThemeGetter===!0,M_=r=>{if(r<1)return{get:()=>{},set:()=>{}};let a=0,s=Object.create(null),l=Object.create(null);const u=(d,f)=>{s[d]=f,a++,a>r&&(a=0,l=s,s=Object.create(null))};return{get(d){let f=s[d];if(f!==void 0)return f;if((f=l[d])!==void 0)return u(d,f),f},set(d,f){d in s?s[d]=f:u(d,f)}}},dc="!",dg=":",B_=[],fg=(r,a,s,l,u)=>({modifiers:r,hasImportantModifier:a,baseClassName:s,maybePostfixModifierPosition:l,isExternal:u}),q_=r=>{const{prefix:a,experimentalParseClassName:s}=r;let l=u=>{const d=[];let f=0,g=0,m=0,p;const b=u.length;for(let N=0;N<b;N++){const q=u[N];if(f===0&&g===0){if(q===dg){d.push(u.slice(m,N)),m=N+1;continue}if(q==="/"){p=N;continue}}q==="["?f++:q==="]"?f--:q==="("?g++:q===")"&&g--}const x=d.length===0?u:u.slice(m);let E=x,A=!1;x.endsWith(dc)?(E=x.slice(0,-1),A=!0):x.startsWith(dc)&&(E=x.slice(1),A=!0);const U=p&&p>m?p-m:void 0;return fg(d,A,E,U)};if(a){const u=a+dg,d=l;l=f=>f.startsWith(u)?d(f.slice(u.length)):fg(B_,!1,f,void 0,!0)}if(s){const u=l;l=d=>s({className:d,parseClassName:u})}return l},L_=r=>{const a=new Map;return r.orderSensitiveModifiers.forEach((s,l)=>{a.set(s,1e6+l)}),s=>{const l=[];let u=[];for(let d=0;d<s.length;d++){const f=s[d],g=f[0]==="[",m=a.has(f);g||m?(u.length>0&&(u.sort(),l.push(...u),u=[]),l.push(f)):u.push(f)}return u.length>0&&(u.sort(),l.push(...u)),l}},H_=r=>({cache:M_(r.cacheSize),parseClassName:q_(r),sortModifiers:L_(r),...k_(r)}),$_=/\s+/,G_=(r,a)=>{const{parseClassName:s,getClassGroupId:l,getConflictingClassGroupIds:u,sortModifiers:d}=a,f=[],g=r.trim().split($_);let m="";for(let p=g.length-1;p>=0;p-=1){const b=g[p],{isExternal:x,modifiers:E,hasImportantModifier:A,baseClassName:U,maybePostfixModifierPosition:N}=s(b);if(x){m=b+(m.length>0?" "+m:m);continue}let q=!!N,V=l(q?U.substring(0,N):U);if(!V){if(!q){m=b+(m.length>0?" "+m:m);continue}if(V=l(U),!V){m=b+(m.length>0?" "+m:m);continue}q=!1}const $=E.length===0?"":E.length===1?E[0]:d(E).join(":"),H=A?$+dc:$,J=H+V;if(f.indexOf(J)>-1)continue;f.push(J);const oe=u(V,q);for(let te=0;te<oe.length;++te){const X=oe[te];f.push(H+X)}m=b+(m.length>0?" "+m:m)}return m},V_=(...r)=>{let a=0,s,l,u="";for(;a<r.length;)(s=r[a++])&&(l=np(s))&&(u&&(u+=" "),u+=l);return u},np=r=>{if(typeof r=="string")return r;let a,s="";for(let l=0;l<r.length;l++)r[l]&&(a=np(r[l]))&&(s&&(s+=" "),s+=a);return s},I_=(r,...a)=>{let s,l,u,d;const f=m=>{const p=a.reduce((b,x)=>x(b),r());return s=H_(p),l=s.cache.get,u=s.cache.set,d=g,g(m)},g=m=>{const p=l(m);if(p)return p;const b=G_(m,s);return u(m,b),b};return d=f,(...m)=>d(V_(...m))},K_=[],Fe=r=>{const a=s=>s[r]||K_;return a.isThemeGetter=!0,a},ap=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,rp=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Y_=/^\d+\/\d+$/,J_=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,X_=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Q_=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Z_=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,P_=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_r=r=>Y_.test(r),ge=r=>!!r&&!Number.isNaN(Number(r)),ta=r=>!!r&&Number.isInteger(Number(r)),Pu=r=>r.endsWith("%")&&ge(r.slice(0,-1)),Tn=r=>J_.test(r),W_=()=>!0,F_=r=>X_.test(r)&&!Q_.test(r),sp=()=>!1,eS=r=>Z_.test(r),tS=r=>P_.test(r),nS=r=>!P(r)&&!W(r),aS=r=>Cr(r,op,sp),P=r=>ap.test(r),Ta=r=>Cr(r,up,F_),Wu=r=>Cr(r,oS,ge),hg=r=>Cr(r,ip,sp),rS=r=>Cr(r,lp,tS),ll=r=>Cr(r,cp,eS),W=r=>rp.test(r),As=r=>Nr(r,up),sS=r=>Nr(r,uS),mg=r=>Nr(r,ip),iS=r=>Nr(r,op),lS=r=>Nr(r,lp),ol=r=>Nr(r,cp,!0),Cr=(r,a,s)=>{const l=ap.exec(r);return l?l[1]?a(l[1]):s(l[2]):!1},Nr=(r,a,s=!1)=>{const l=rp.exec(r);return l?l[1]?a(l[1]):s:!1},ip=r=>r==="position"||r==="percentage",lp=r=>r==="image"||r==="url",op=r=>r==="length"||r==="size"||r==="bg-size",up=r=>r==="length",oS=r=>r==="number",uS=r=>r==="family-name",cp=r=>r==="shadow",cS=()=>{const r=Fe("color"),a=Fe("font"),s=Fe("text"),l=Fe("font-weight"),u=Fe("tracking"),d=Fe("leading"),f=Fe("breakpoint"),g=Fe("container"),m=Fe("spacing"),p=Fe("radius"),b=Fe("shadow"),x=Fe("inset-shadow"),E=Fe("text-shadow"),A=Fe("drop-shadow"),U=Fe("blur"),N=Fe("perspective"),q=Fe("aspect"),V=Fe("ease"),$=Fe("animate"),H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],oe=()=>[...J(),W,P],te=()=>["auto","hidden","clip","visible","scroll"],X=()=>["auto","contain","none"],Y=()=>[W,P,m],pe=()=>[_r,"full","auto",...Y()],Ye=()=>[ta,"none","subgrid",W,P],Ve=()=>["auto",{span:["full",ta,W,P]},ta,W,P],De=()=>[ta,"auto",W,P],at=()=>["auto","min","max","fr",W,P],lt=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],be=()=>["start","end","center","stretch","center-safe","end-safe"],R=()=>["auto",...Y()],I=()=>[_r,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...Y()],z=()=>[r,W,P],ae=()=>[...J(),mg,hg,{position:[W,P]}],Z=()=>["no-repeat",{repeat:["","x","y","space","round"]}],_=()=>["auto","cover","contain",iS,aS,{size:[W,P]}],M=()=>[Pu,As,Ta],G=()=>["","none","full",p,W,P],K=()=>["",ge,As,Ta],ue=()=>["solid","dashed","dotted","double"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],le=()=>[ge,Pu,mg,hg],rt=()=>["","none",U,W,P],Re=()=>["none",ge,W,P],en=()=>["none",ge,W,P],On=()=>[ge,W,P],Cn=()=>[_r,"full",...Y()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Tn],breakpoint:[Tn],color:[W_],container:[Tn],"drop-shadow":[Tn],ease:["in","out","in-out"],font:[nS],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Tn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Tn],shadow:[Tn],spacing:["px",ge],text:[Tn],"text-shadow":[Tn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",_r,P,W,q]}],container:["container"],columns:[{columns:[ge,P,W,g]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:oe()}],overflow:[{overflow:te()}],"overflow-x":[{"overflow-x":te()}],"overflow-y":[{"overflow-y":te()}],overscroll:[{overscroll:X()}],"overscroll-x":[{"overscroll-x":X()}],"overscroll-y":[{"overscroll-y":X()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:pe()}],"inset-x":[{"inset-x":pe()}],"inset-y":[{"inset-y":pe()}],start:[{start:pe()}],end:[{end:pe()}],top:[{top:pe()}],right:[{right:pe()}],bottom:[{bottom:pe()}],left:[{left:pe()}],visibility:["visible","invisible","collapse"],z:[{z:[ta,"auto",W,P]}],basis:[{basis:[_r,"full","auto",g,...Y()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ge,_r,"auto","initial","none",P]}],grow:[{grow:["",ge,W,P]}],shrink:[{shrink:["",ge,W,P]}],order:[{order:[ta,"first","last","none",W,P]}],"grid-cols":[{"grid-cols":Ye()}],"col-start-end":[{col:Ve()}],"col-start":[{"col-start":De()}],"col-end":[{"col-end":De()}],"grid-rows":[{"grid-rows":Ye()}],"row-start-end":[{row:Ve()}],"row-start":[{"row-start":De()}],"row-end":[{"row-end":De()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":at()}],"auto-rows":[{"auto-rows":at()}],gap:[{gap:Y()}],"gap-x":[{"gap-x":Y()}],"gap-y":[{"gap-y":Y()}],"justify-content":[{justify:[...lt(),"normal"]}],"justify-items":[{"justify-items":[...be(),"normal"]}],"justify-self":[{"justify-self":["auto",...be()]}],"align-content":[{content:["normal",...lt()]}],"align-items":[{items:[...be(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...be(),{baseline:["","last"]}]}],"place-content":[{"place-content":lt()}],"place-items":[{"place-items":[...be(),"baseline"]}],"place-self":[{"place-self":["auto",...be()]}],p:[{p:Y()}],px:[{px:Y()}],py:[{py:Y()}],ps:[{ps:Y()}],pe:[{pe:Y()}],pt:[{pt:Y()}],pr:[{pr:Y()}],pb:[{pb:Y()}],pl:[{pl:Y()}],m:[{m:R()}],mx:[{mx:R()}],my:[{my:R()}],ms:[{ms:R()}],me:[{me:R()}],mt:[{mt:R()}],mr:[{mr:R()}],mb:[{mb:R()}],ml:[{ml:R()}],"space-x":[{"space-x":Y()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":Y()}],"space-y-reverse":["space-y-reverse"],size:[{size:I()}],w:[{w:[g,"screen",...I()]}],"min-w":[{"min-w":[g,"screen","none",...I()]}],"max-w":[{"max-w":[g,"screen","none","prose",{screen:[f]},...I()]}],h:[{h:["screen","lh",...I()]}],"min-h":[{"min-h":["screen","lh","none",...I()]}],"max-h":[{"max-h":["screen","lh",...I()]}],"font-size":[{text:["base",s,As,Ta]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[l,W,Wu]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Pu,P]}],"font-family":[{font:[sS,P,a]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[u,W,P]}],"line-clamp":[{"line-clamp":[ge,"none",W,Wu]}],leading:[{leading:[d,...Y()]}],"list-image":[{"list-image":["none",W,P]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",W,P]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:[ge,"from-font","auto",W,Ta]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[ge,"auto",W,P]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",W,P]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",W,P]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ae()}],"bg-repeat":[{bg:Z()}],"bg-size":[{bg:_()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ta,W,P],radial:["",W,P],conic:[ta,W,P]},lS,rS]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:M()}],"gradient-via-pos":[{via:M()}],"gradient-to-pos":[{to:M()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:G()}],"rounded-s":[{"rounded-s":G()}],"rounded-e":[{"rounded-e":G()}],"rounded-t":[{"rounded-t":G()}],"rounded-r":[{"rounded-r":G()}],"rounded-b":[{"rounded-b":G()}],"rounded-l":[{"rounded-l":G()}],"rounded-ss":[{"rounded-ss":G()}],"rounded-se":[{"rounded-se":G()}],"rounded-ee":[{"rounded-ee":G()}],"rounded-es":[{"rounded-es":G()}],"rounded-tl":[{"rounded-tl":G()}],"rounded-tr":[{"rounded-tr":G()}],"rounded-br":[{"rounded-br":G()}],"rounded-bl":[{"rounded-bl":G()}],"border-w":[{border:K()}],"border-w-x":[{"border-x":K()}],"border-w-y":[{"border-y":K()}],"border-w-s":[{"border-s":K()}],"border-w-e":[{"border-e":K()}],"border-w-t":[{"border-t":K()}],"border-w-r":[{"border-r":K()}],"border-w-b":[{"border-b":K()}],"border-w-l":[{"border-l":K()}],"divide-x":[{"divide-x":K()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":K()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ue(),"hidden","none"]}],"divide-style":[{divide:[...ue(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...ue(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ge,W,P]}],"outline-w":[{outline:["",ge,As,Ta]}],"outline-color":[{outline:z()}],shadow:[{shadow:["","none",b,ol,ll]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",x,ol,ll]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[ge,Ta]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":K()}],"inset-ring-color":[{"inset-ring":z()}],"text-shadow":[{"text-shadow":["none",E,ol,ll]}],"text-shadow-color":[{"text-shadow":z()}],opacity:[{opacity:[ge,W,P]}],"mix-blend":[{"mix-blend":[...me(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":me()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ge]}],"mask-image-linear-from-pos":[{"mask-linear-from":le()}],"mask-image-linear-to-pos":[{"mask-linear-to":le()}],"mask-image-linear-from-color":[{"mask-linear-from":z()}],"mask-image-linear-to-color":[{"mask-linear-to":z()}],"mask-image-t-from-pos":[{"mask-t-from":le()}],"mask-image-t-to-pos":[{"mask-t-to":le()}],"mask-image-t-from-color":[{"mask-t-from":z()}],"mask-image-t-to-color":[{"mask-t-to":z()}],"mask-image-r-from-pos":[{"mask-r-from":le()}],"mask-image-r-to-pos":[{"mask-r-to":le()}],"mask-image-r-from-color":[{"mask-r-from":z()}],"mask-image-r-to-color":[{"mask-r-to":z()}],"mask-image-b-from-pos":[{"mask-b-from":le()}],"mask-image-b-to-pos":[{"mask-b-to":le()}],"mask-image-b-from-color":[{"mask-b-from":z()}],"mask-image-b-to-color":[{"mask-b-to":z()}],"mask-image-l-from-pos":[{"mask-l-from":le()}],"mask-image-l-to-pos":[{"mask-l-to":le()}],"mask-image-l-from-color":[{"mask-l-from":z()}],"mask-image-l-to-color":[{"mask-l-to":z()}],"mask-image-x-from-pos":[{"mask-x-from":le()}],"mask-image-x-to-pos":[{"mask-x-to":le()}],"mask-image-x-from-color":[{"mask-x-from":z()}],"mask-image-x-to-color":[{"mask-x-to":z()}],"mask-image-y-from-pos":[{"mask-y-from":le()}],"mask-image-y-to-pos":[{"mask-y-to":le()}],"mask-image-y-from-color":[{"mask-y-from":z()}],"mask-image-y-to-color":[{"mask-y-to":z()}],"mask-image-radial":[{"mask-radial":[W,P]}],"mask-image-radial-from-pos":[{"mask-radial-from":le()}],"mask-image-radial-to-pos":[{"mask-radial-to":le()}],"mask-image-radial-from-color":[{"mask-radial-from":z()}],"mask-image-radial-to-color":[{"mask-radial-to":z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":J()}],"mask-image-conic-pos":[{"mask-conic":[ge]}],"mask-image-conic-from-pos":[{"mask-conic-from":le()}],"mask-image-conic-to-pos":[{"mask-conic-to":le()}],"mask-image-conic-from-color":[{"mask-conic-from":z()}],"mask-image-conic-to-color":[{"mask-conic-to":z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ae()}],"mask-repeat":[{mask:Z()}],"mask-size":[{mask:_()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",W,P]}],filter:[{filter:["","none",W,P]}],blur:[{blur:rt()}],brightness:[{brightness:[ge,W,P]}],contrast:[{contrast:[ge,W,P]}],"drop-shadow":[{"drop-shadow":["","none",A,ol,ll]}],"drop-shadow-color":[{"drop-shadow":z()}],grayscale:[{grayscale:["",ge,W,P]}],"hue-rotate":[{"hue-rotate":[ge,W,P]}],invert:[{invert:["",ge,W,P]}],saturate:[{saturate:[ge,W,P]}],sepia:[{sepia:["",ge,W,P]}],"backdrop-filter":[{"backdrop-filter":["","none",W,P]}],"backdrop-blur":[{"backdrop-blur":rt()}],"backdrop-brightness":[{"backdrop-brightness":[ge,W,P]}],"backdrop-contrast":[{"backdrop-contrast":[ge,W,P]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ge,W,P]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ge,W,P]}],"backdrop-invert":[{"backdrop-invert":["",ge,W,P]}],"backdrop-opacity":[{"backdrop-opacity":[ge,W,P]}],"backdrop-saturate":[{"backdrop-saturate":[ge,W,P]}],"backdrop-sepia":[{"backdrop-sepia":["",ge,W,P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":Y()}],"border-spacing-x":[{"border-spacing-x":Y()}],"border-spacing-y":[{"border-spacing-y":Y()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",W,P]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ge,"initial",W,P]}],ease:[{ease:["linear","initial",V,W,P]}],delay:[{delay:[ge,W,P]}],animate:[{animate:["none",$,W,P]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,W,P]}],"perspective-origin":[{"perspective-origin":oe()}],rotate:[{rotate:Re()}],"rotate-x":[{"rotate-x":Re()}],"rotate-y":[{"rotate-y":Re()}],"rotate-z":[{"rotate-z":Re()}],scale:[{scale:en()}],"scale-x":[{"scale-x":en()}],"scale-y":[{"scale-y":en()}],"scale-z":[{"scale-z":en()}],"scale-3d":["scale-3d"],skew:[{skew:On()}],"skew-x":[{"skew-x":On()}],"skew-y":[{"skew-y":On()}],transform:[{transform:[W,P,"","none","gpu","cpu"]}],"transform-origin":[{origin:oe()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Cn()}],"translate-x":[{"translate-x":Cn()}],"translate-y":[{"translate-y":Cn()}],"translate-z":[{"translate-z":Cn()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",W,P]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Y()}],"scroll-mx":[{"scroll-mx":Y()}],"scroll-my":[{"scroll-my":Y()}],"scroll-ms":[{"scroll-ms":Y()}],"scroll-me":[{"scroll-me":Y()}],"scroll-mt":[{"scroll-mt":Y()}],"scroll-mr":[{"scroll-mr":Y()}],"scroll-mb":[{"scroll-mb":Y()}],"scroll-ml":[{"scroll-ml":Y()}],"scroll-p":[{"scroll-p":Y()}],"scroll-px":[{"scroll-px":Y()}],"scroll-py":[{"scroll-py":Y()}],"scroll-ps":[{"scroll-ps":Y()}],"scroll-pe":[{"scroll-pe":Y()}],"scroll-pt":[{"scroll-pt":Y()}],"scroll-pr":[{"scroll-pr":Y()}],"scroll-pb":[{"scroll-pb":Y()}],"scroll-pl":[{"scroll-pl":Y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",W,P]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[ge,As,Ta,Wu]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},dS=I_(cS);function nt(...r){return dS(Wg(r))}const fS=x_("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),pt=fe.forwardRef(({className:r,variant:a,size:s,...l},u)=>v.jsx("button",{className:nt(fS({variant:a,size:s,className:r})),ref:u,...l}));pt.displayName="Button";function _c(r,a){let s;try{s=r()}catch{return}return{getItem:u=>{var d;const f=m=>m===null?null:JSON.parse(m,void 0),g=(d=s.getItem(u))!=null?d:null;return g instanceof Promise?g.then(f):f(g)},setItem:(u,d)=>s.setItem(u,JSON.stringify(d,void 0)),removeItem:u=>s.removeItem(u)}}const fc=r=>a=>{try{const s=r(a);return s instanceof Promise?s:{then(l){return fc(l)(s)},catch(l){return this}}}catch(s){return{then(l){return this},catch(l){return fc(l)(s)}}}},hS=(r,a)=>(s,l,u)=>{let d={storage:_c(()=>localStorage),partialize:N=>N,version:0,merge:(N,q)=>({...q,...N}),...a},f=!1;const g=new Set,m=new Set;let p=d.storage;if(!p)return r((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${d.name}', the given storage is currently unavailable.`),s(...N)},l,u);const b=()=>{const N=d.partialize({...l()});return p.setItem(d.name,{state:N,version:d.version})},x=u.setState;u.setState=(N,q)=>(x(N,q),b());const E=r((...N)=>(s(...N),b()),l,u);u.getInitialState=()=>E;let A;const U=()=>{var N,q;if(!p)return;f=!1,g.forEach($=>{var H;return $((H=l())!=null?H:E)});const V=((q=d.onRehydrateStorage)==null?void 0:q.call(d,(N=l())!=null?N:E))||void 0;return fc(p.getItem.bind(p))(d.name).then($=>{if($)if(typeof $.version=="number"&&$.version!==d.version){if(d.migrate){const H=d.migrate($.state,$.version);return H instanceof Promise?H.then(J=>[!0,J]):[!0,H]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,$.state];return[!1,void 0]}).then($=>{var H;const[J,oe]=$;if(A=d.merge(oe,(H=l())!=null?H:E),s(A,!0),J)return b()}).then(()=>{V?.(A,void 0),A=l(),f=!0,m.forEach($=>$(A))}).catch($=>{V?.(void 0,$)})};return u.persist={setOptions:N=>{d={...d,...N},N.storage&&(p=N.storage)},clearStorage:()=>{p?.removeItem(d.name)},getOptions:()=>d,rehydrate:()=>U(),hasHydrated:()=>f,onHydrate:N=>(g.add(N),()=>{g.delete(N)}),onFinishHydration:N=>(m.add(N),()=>{m.delete(N)})},d.skipHydration||U(),A||E},dp=hS,mS=[{id:"anthropic/claude-sonnet-4",name:"Claude Sonnet 4",description:"Best for n8n - fast, accurate, great vision",recommended:!0},{id:"openai/gpt-4o",name:"GPT-4o",description:"Excellent vision, very fast responses"},{id:"anthropic/claude-3.5-sonnet",name:"Claude 3.5 Sonnet",description:"Proven quality, good balance"},{id:"google/gemini-flash-1.5",name:"Gemini 1.5 Flash",description:"Budget-friendly, fast, good vision"},{id:"google/gemini-pro-1.5",name:"Gemini 1.5 Pro",description:"Large context for big workflows"},{id:"anthropic/claude-opus-4",name:"Claude Opus 4",description:"Premium - complex debugging"}],gS={getItem:async r=>new Promise(a=>{chrome.storage.local.get(r,s=>{const l=s[r];a(typeof l=="string"?l:null)})}),setItem:async(r,a)=>new Promise(s=>{chrome.storage.local.set({[r]:a},s)}),removeItem:async r=>new Promise(a=>{chrome.storage.local.remove(r,a)})},jr=Or()(dp((r,a)=>({n8nInstanceUrl:"",n8nApiKey:"",openRouterApiKey:"",selectedModel:"anthropic/claude-sonnet-4",n8nConnected:!1,openRouterConnected:!1,n8nError:null,openRouterError:null,assistantMode:"builder",setN8nConfig:(s,l)=>{let u=s.trim();for(;u.endsWith("/");)u=u.slice(0,-1);u.endsWith("/api/v1")&&(u=u.slice(0,-7)),u.endsWith("/api")&&(u=u.slice(0,-4)),r({n8nInstanceUrl:u,n8nApiKey:l,n8nConnected:!1})},setOpenRouterConfig:s=>{r({openRouterApiKey:s,openRouterConnected:!1})},setSelectedModel:s=>{r({selectedModel:s})},setAssistantMode:s=>{r({assistantMode:s})},testN8nConnection:async()=>{const{n8nInstanceUrl:s,n8nApiKey:l}=a();if(!s){const d="Please enter your n8n instance URL";return r({n8nConnected:!1,n8nError:d}),{success:!1,error:d}}if(!l){const d="Please enter your n8n API key";return r({n8nConnected:!1,n8nError:d}),{success:!1,error:d}}const u=`${s}/api/v1/workflows`;try{const d=await fetch(u,{method:"GET",headers:{"X-N8N-API-KEY":l}}),f=d.headers.get("content-type")||"",g=f.includes("application/json");if(!d.ok){let m;return d.status===401||d.status===403?m="Invalid API key. Check your n8n API key in Settings > API.":d.status===404?m=`API endpoint not found. Make sure "${s}" is correct.`:g?m=`Connection failed (${d.status}). Check your n8n instance URL.`:m='Wrong URL format. Got HTML instead of JSON. Your URL should be like "https://your-n8n.com" without /api/v1',console.error("[n8n-copilot] Connection test failed:",{status:d.status,contentType:f}),r({n8nConnected:!1,n8nError:m}),{success:!1,error:m}}if(!g){const m="n8n returned HTML instead of JSON. Check your instance URL - it should be the base URL without /api/v1";return r({n8nConnected:!1,n8nError:m}),{success:!1,error:m}}return await d.json(),r({n8nConnected:!0,n8nError:null}),{success:!0}}catch(d){console.error("[n8n-copilot] Connection test error:",d);let f;return d instanceof TypeError&&d.message.includes("fetch")?f=`Cannot reach "${s}". Check the URL and make sure n8n is running.`:f=d instanceof Error?d.message:"Connection failed",r({n8nConnected:!1,n8nError:f}),{success:!1,error:f}}},testOpenRouterConnection:async()=>{const{openRouterApiKey:s}=a();if(!s){const l="Please enter your OpenRouter API key";return r({openRouterConnected:!1,openRouterError:l}),{success:!1,error:l}}try{const l=await fetch("https://openrouter.ai/api/v1/models",{method:"GET",headers:{Authorization:`Bearer ${s}`}});if(!l.ok){let u;return l.status===401?u="Invalid API key. Get your key at openrouter.ai/keys":u=`Connection failed (${l.status})`,r({openRouterConnected:!1,openRouterError:u}),{success:!1,error:u}}return r({openRouterConnected:!0,openRouterError:null}),{success:!0}}catch{const u="Cannot reach OpenRouter. Check your internet connection.";return r({openRouterConnected:!1,openRouterError:u}),{success:!1,error:u}}}}),{name:"n8n-copilot-settings",storage:_c(()=>gS)})),pS=new Set(["duplicate_workflow","create_workflow","activate_workflow","deactivate_workflow","update_node","add_node","delete_node","delete_workflow"]),gg=[{type:"function",function:{name:"duplicate_workflow",description:"Duplicate an existing workflow with a new name. Creates a copy of the workflow without modifying the original.",parameters:{type:"object",properties:{workflow_id:{type:"string",description:"The ID of the workflow to duplicate (from the current workflow context)"},new_name:{type:"string",description:"The name for the new duplicated workflow"}},required:["workflow_id","new_name"]}}},{type:"function",function:{name:"create_workflow",description:"Create a new empty workflow with the specified name. Use this when the user wants to start a completely new workflow.",parameters:{type:"object",properties:{name:{type:"string",description:"The name for the new workflow"}},required:["name"]}}},{type:"function",function:{name:"activate_workflow",description:"Activate a workflow so it runs automatically when triggered. Use this when the user wants to turn on a workflow.",parameters:{type:"object",properties:{workflow_id:{type:"string",description:"The ID of the workflow to activate"}},required:["workflow_id"]}}},{type:"function",function:{name:"deactivate_workflow",description:"Deactivate a workflow so it stops running automatically. Use this when the user wants to turn off a workflow.",parameters:{type:"object",properties:{workflow_id:{type:"string",description:"The ID of the workflow to deactivate"}},required:["workflow_id"]}}},{type:"function",function:{name:"update_node",description:"Update a node's parameters in a workflow. Use this to change node settings, fix expressions, or modify configurations. REQUIRES USER CONFIRMATION.",parameters:{type:"object",properties:{workflow_id:{type:"string",description:"The ID of the workflow containing the node"},node_name:{type:"string",description:"The exact name of the node to update (as shown in the workflow)"},parameters:{type:"object",description:"The parameters to update on the node. Only include the fields that need to change."}},required:["workflow_id","node_name","parameters"]}}},{type:"function",function:{name:"add_node",description:'Add a new node to a workflow. For sticky notes use type "n8n-nodes-base.stickyNote" with parameters including content, width, height, color.',parameters:{type:"object",properties:{workflow_id:{type:"string",description:"The ID of the workflow to add the node to"},node_name:{type:"string",description:"The name for the new node (must be unique)"},node_type:{type:"string",description:'The n8n node type. For sticky notes: "n8n-nodes-base.stickyNote"'},parameters:{type:"object",description:'Node parameters. For sticky notes: { content: "markdown text", width: 300, height: 200, color: 4 }. Colors: 1=blue, 2=yellow, 3=red, 4=green, 5=purple, 6=gray'},position:{type:"array",description:"Position as [x, y] coordinates. For overview stickies: [0, -200]. For node annotations: position near the related node.",items:{type:"number"}},connect_from:{type:"string",description:"Optional: The name of an existing node to connect from (not used for sticky notes)"}},required:["workflow_id","node_name","node_type"]}}},{type:"function",function:{name:"delete_node",description:"Delete a node from a workflow. REQUIRES USER CONFIRMATION. This removes the node and all its connections.",parameters:{type:"object",properties:{workflow_id:{type:"string",description:"The ID of the workflow containing the node"},node_name:{type:"string",description:"The exact name of the node to delete"}},required:["workflow_id","node_name"]}}},{type:"function",function:{name:"delete_workflow",description:"Delete a workflow entirely. REQUIRES USER CONFIRMATION. This cannot be undone.",parameters:{type:"object",properties:{workflow_id:{type:"string",description:"The ID of the workflow to delete"}},required:["workflow_id"]}}}],yS={duplicate_workflow:{action:"Duplicate Workflow",icon:"",confirmMessage:r=>`Create a copy of this workflow named "${r.new_name}"`},create_workflow:{action:"Create Workflow",icon:"",confirmMessage:r=>`Create a new workflow named "${r.name}"`},activate_workflow:{action:"Activate Workflow",icon:"",confirmMessage:()=>"Turn on this workflow so it runs automatically"},deactivate_workflow:{action:"Deactivate Workflow",icon:"",confirmMessage:()=>"Turn off this workflow"},update_node:{action:"Update Node",icon:"",confirmMessage:r=>`Update the "${r.node_name}" node with new parameters`},add_node:{action:"Add Node",icon:"",confirmMessage:r=>`Add a new "${r.node_name}" node to the workflow`},delete_node:{action:"Delete Node",icon:"",confirmMessage:r=>`Delete the "${r.node_name}" node from the workflow`},delete_workflow:{action:"Delete Workflow",icon:"",confirmMessage:()=>"Permanently delete this workflow (cannot be undone)"}};function pg(r){return r.replace(/\*\*(.+?)\*\*/g,"$1").replace(/\*(.+?)\*/g,"$1").replace(/__(.+?)__/g,"$1").replace(/_(.+?)_/g,"$1").replace(/^#{1,6}\s+/gm,"").replace(/`([^`]+)`/g,"$1").replace(/```[\s\S]*?```/g,a=>a.replace(/```\w*\n?/g,"").replace(/```/g,"").trim()).replace(/^[\s]*[-*]\s+/gm,"").replace(/^[\s]*\d+[.)]\s+/gm,"").replace(/\n{3,}/g,`

`).trim()}function vS(r){const a=r.trim();return a.endsWith("?")?!0:/^(what|why|how|when|where|who|which|can you explain|does|is|are|do|could you|would you|tell me|explain)\b/i.test(a)}const bS=`You are N8N Insider, an expert n8n workflow assistant who speaks in brief, conversational plain text.

<response_format>
CRITICAL FORMAT RULES - FOLLOW EXACTLY:

Write SHORT conversational responses in plain text only. Keep answers under 60 words unless showing n8n expressions. Write naturally as if speaking to a colleague, not writing documentation.

Never use asterisks, hashtags, backticks, or any markdown symbols. Write n8n expressions directly like this: Use {{ $json.price }} to get the price value.

When explaining multiple steps, use natural flow: "First do X, then Y, and finally Z" rather than numbered or bulleted lists.
</response_format>

<execution_principles>
Work silently, executing tools without narrating each step, and report only the final result. Always configure every node parameter explicitly since defaults often cause failures. Before suggesting fixes, diagnose the root cause by reading the full workflow context. Make minimal changes: one problem deserves one targeted solution, not a refactor.
</execution_principles>

<ai_agent_nodes>
When you see an AI Agent node with two model connections such as GPT-4 plus Gemini, this is intentional. The second model is a fallback for reliability. Never suggest removing the backup model since redundancy is a best practice.
</ai_agent_nodes>

<tool_usage>
Only use tools when the current message explicitly requests an action like "create", "add", "delete", or "update". Questions never trigger tools. If someone asks "what does this do?" or "why is this broken?", explain without modifying anything. When in doubt, explain rather than execute. Always extract the actual workflow ID from the provided JSON before any tool call, never use "unknown" as an ID. All actions require user confirmation before execution.
</tool_usage>

<n8n_expressions>
Luxon date tokens are case-sensitive. Use lowercase for day and year: yyyy for year, MM for month, dd for day, HH for 24-hour, mm for minutes, ss for seconds. Example: $now.format('yyyy-MM-dd') produces 2025-12-27. Using uppercase DD or YYYY causes errors.

Access data with $json.field for current node or $('NodeName').item.json for other nodes.
</n8n_expressions>

<visual_context>
When a screenshot is provided, begin with "I can see..." and reference specific visible elements.
</visual_context>

<common_issues>
The error "Referenced node doesn't exist" means a node was renamed or deleted, so update the reference. HTTP 401 or 403 indicates expired credentials or permission issues. Empty output means the upstream node returned no items, check your filter or IF conditions. "Cannot read property of undefined" means a field is missing, add an IF node to handle nulls.

For cron expressions, n8n uses 6 fields including seconds: "0 * * * * *" fires every minute. Webhook paths are case-sensitive. HTTP Request body must be a JSON object not a string. The Set node with "Keep Only Set" enabled removes all other fields.

For large data, use "Execute Once" on nodes that process once per batch. For memory issues, use SplitInBatches. For slow workflows, check for Wait nodes or rate limits.
</common_issues>

<workflow_patterns>
For webhook workflows, add an Error Workflow for failure handling and use Respond to Webhook for synchronous responses. For error handling, use the Error Trigger node and add IF nodes before processing to check for empty data. For transformations, use Code node for complex logic, Set node for simple mapping, and Merge node to combine sources.
</workflow_patterns>

REMEMBER: Brief plain text only, under 60 words, no markdown symbols.`;async function wS(r,a,s,l){const{openRouterApiKey:u,selectedModel:d,n8nConnected:f,assistantMode:g}=jr.getState();if(!u)throw new Error("OpenRouter API key not configured");const m=[{role:"system",content:bS}],p=r.slice(-20);for(const $ of p)($.role==="user"||$.role==="assistant")&&m.push({role:$.role,content:$.content});let b=a;if(s?.workflowData){const $=s.workflowData,H=Array.isArray($.nodes)?$.nodes.length:0,J=$.id?` | ID: ${$.id}`:" | ID: NOT_AVAILABLE (cannot use tools)";b=`[Workflow: "${$.name||"Untitled"}"${J} | Nodes: ${H}]

${a}`,b+=`

Workflow JSON:
${JSON.stringify(s.workflowData)}`}if(s?.currentUrl&&(b+=`

Current URL: ${s.currentUrl}`),s?.screenshot){console.log("[n8n-copilot] Sending message WITH screenshot");const $=[{type:"text",text:b},{type:"image_url",image_url:{url:s.screenshot.startsWith("data:")?s.screenshot:`data:image/png;base64,${s.screenshot}`}}];m.push({role:"user",content:$})}else console.log("[n8n-copilot] Sending message WITHOUT screenshot"),m.push({role:"user",content:b});console.log("[n8n-copilot] Sending to model:",d),console.log("[n8n-copilot] Message count:",m.length);const x={model:d,messages:m,max_tokens:4096,temperature:.4},E=vS(a),A=f&&g==="builder"&&!E,U=l?.onToken&&!A;A?(x.tools=gg,x.tool_choice="auto",console.log("[n8n-copilot] Including",gg.length,"tools in request (builder mode, action detected)")):E?console.log("[n8n-copilot] Question detected - NOT including tools (will answer only)"):g==="helper"&&console.log("[n8n-copilot] Helper mode - AI will give suggestions only"),U&&(x.stream=!0,console.log("[n8n-copilot] Streaming enabled for faster response"));const N=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json","HTTP-Referer":chrome.runtime.getURL(""),"X-Title":"N8N Insider"},body:JSON.stringify(x)});if(!N.ok){const $=await N.json().catch(()=>({error:{message:"Unknown error"}}));throw new Error($.error?.message||`API error: ${N.status}`)}if(U&&N.body){let $="";const H=N.body.getReader(),J=new TextDecoder;try{for(;;){const{done:te,value:X}=await H.read();if(te)break;const pe=J.decode(X,{stream:!0}).split(`
`).filter(Ye=>Ye.trim()!=="");for(const Ye of pe)if(Ye.startsWith("data: ")){const Ve=Ye.slice(6);if(Ve==="[DONE]")continue;try{const at=JSON.parse(Ve).choices?.[0]?.delta?.content;at&&($+=at,l.onToken?.(at))}catch{}}}const oe=pg($);return l.onComplete?.(oe),{type:"text",content:oe||"Sorry, I could not generate a response."}}catch(oe){throw l.onError?.(oe instanceof Error?oe:new Error("Streaming error")),oe}}const V=(await N.json()).choices?.[0]?.message;return V?.tool_calls&&V.tool_calls.length>0?(console.log("[n8n-copilot] AI requested tool calls:",V.tool_calls.map($=>$.function.name)),{type:"tool_calls",toolCalls:V.tool_calls}):{type:"text",content:pg(V?.content||"")||"Sorry, I could not generate a response."}}async function _S(r){const{openRouterApiKey:a}=jr.getState();if(!a)return"New Conversation";try{const s=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json","HTTP-Referer":chrome.runtime.getURL(""),"X-Title":"N8N Insider"},body:JSON.stringify({model:"google/gemini-flash-1.5",messages:[{role:"system",content:"Generate a short title (3-6 words) for this n8n workflow conversation. Just return the title, nothing else. No quotes, no punctuation at the end."},{role:"user",content:r.map(d=>`${d.role}: ${d.content.slice(0,200)}`).join(`
`)}],max_tokens:20,temperature:.3})});return s.ok?((await s.json()).choices?.[0]?.message?.content?.trim()||"New Conversation").replace(/^["']|["']$/g,"").slice(0,50):(console.error("[n8n-copilot] Failed to generate title:",s.status),"New Conversation")}catch(s){return console.error("[n8n-copilot] Error generating title:",s),"New Conversation"}}const yl=Or((r,a)=>({conversations:[],currentConversation:null,messages:[],loading:!1,sending:!1,error:null,fetchConversations:async()=>{try{r({loading:!0,error:null});const{data:{user:s}}=await tt.auth.getUser();if(!s)throw new Error("Not authenticated");const{data:l,error:u}=await tt.from("conversations").select("*").eq("user_id",s.id).order("created_at",{ascending:!1}).limit(20);if(u)throw u;r({conversations:l||[]}),!l||l.length===0?await a().createConversation():a().currentConversation||await a().selectConversation(l[0].id)}catch(s){r({error:String(s)})}finally{r({loading:!1})}},createConversation:async(s="New Conversation")=>{try{const{data:{user:l}}=await tt.auth.getUser();if(!l)throw new Error("Not authenticated");const{data:u,error:d}=await tt.from("conversations").insert({user_id:l.id,title:s}).select().single();if(d)throw d;return r(f=>({conversations:[u,...f.conversations],currentConversation:u,messages:[]})),u}catch(l){throw r({error:String(l)}),l}},selectConversation:async s=>{try{const l=a().conversations.find(u=>u.id===s);if(!l)throw new Error("Conversation not found");r({currentConversation:l}),await a().fetchMessages(s)}catch(l){r({error:String(l)})}},deleteConversation:async s=>{try{const{error:l}=await tt.from("conversations").delete().eq("id",s);if(l)throw l;if(r(u=>({conversations:u.conversations.filter(d=>d.id!==s),currentConversation:u.currentConversation?.id===s?null:u.currentConversation,messages:u.currentConversation?.id===s?[]:u.messages})),a().currentConversation===null){const u=a().conversations;u.length>0?await a().selectConversation(u[0].id):await a().createConversation()}}catch(l){r({error:String(l)})}},fetchMessages:async s=>{try{r({loading:!0,error:null});const{data:l,error:u}=await tt.from("messages").select("*").eq("conversation_id",s).order("created_at",{ascending:!0});if(u)throw u;r({messages:l||[]})}catch(l){r({error:String(l)})}finally{r({loading:!1})}},addMessage:async(s,l,u={})=>{try{r({sending:!0,error:null});const{data:{user:d}}=await tt.auth.getUser();if(!d)throw new Error("Not authenticated");const f=a().currentConversation;if(!f)throw new Error("No conversation selected");const{data:g,error:m}=await tt.from("messages").insert({conversation_id:f.id,user_id:d.id,role:s,content:l,metadata:u}).select().single();if(m)throw m;return r(p=>({messages:[...p.messages,g]})),g}catch(d){throw r({error:String(d)}),d}finally{r({sending:!1})}},updateConversationTitle:async(s,l)=>{try{const{error:u}=await tt.from("conversations").update({title:l,updated_at:new Date().toISOString()}).eq("id",s);if(u)throw u;r(d=>({conversations:d.conversations.map(f=>f.id===s?{...f,title:l}:f),currentConversation:d.currentConversation?.id===s?{...d.currentConversation,title:l}:d.currentConversation}))}catch(u){console.error("Failed to update conversation title:",u)}},generateAndSetTitle:async()=>{const{currentConversation:s,messages:l}=a();if(!(!s||s.title!=="New Conversation"||l.length<2)){console.log("[chatStore] Generating conversation title...");try{const u=l.slice(0,4).map(f=>({role:f.role,content:f.content})),d=await _S(u);d&&d!=="New Conversation"&&(await a().updateConversationTitle(s.id,d),console.log("[chatStore] Title updated to:",d))}catch(u){console.error("[chatStore] Failed to generate title:",u)}}},clearMessages:()=>{r({messages:[]})}}));function SS({onSettingsClick:r,onSidebarClick:a}){const{createConversation:s}=yl(),{profile:l}=qs(),u=async()=>{await s()};return v.jsxs("header",{className:"flex items-center justify-between px-4 py-3 border-b border-border bg-white",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(pt,{variant:"ghost",size:"icon",onClick:a,title:"Conversations",children:v.jsx(s_,{className:"w-4 h-4"})}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary flex items-center justify-center",children:v.jsx(cc,{className:"w-4 h-4 text-white"})}),v.jsx("span",{className:"font-semibold text-sm",children:"N8N Insider"})]}),l?.is_lifetime&&v.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-amber-100 text-amber-700 rounded-full",children:"Pro"})]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx(pt,{variant:"ghost",size:"icon",onClick:u,title:"New chat",children:v.jsx(Xg,{className:"w-4 h-4"})}),v.jsx(pt,{variant:"ghost",size:"icon",onClick:r,title:"Settings",children:v.jsx(c_,{className:"w-4 h-4"})})]})]})}function xS({code:r,language:a="json"}){const[s,l]=fe.useState(!1),u=async()=>{await navigator.clipboard.writeText(r),l(!0),setTimeout(()=>l(!1),2e3)};return v.jsxs("div",{className:"relative group mt-2 mb-1",children:[v.jsxs("div",{className:"flex items-center justify-between px-3 py-1.5 bg-gray-800 rounded-t-lg border-b border-gray-700",children:[v.jsx("span",{className:"text-xs text-gray-400 font-mono uppercase",children:a}),v.jsx("button",{onClick:u,className:nt("flex items-center gap-1 px-2 py-0.5 text-xs rounded transition-colors",s?"bg-green-600/20 text-green-400":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:s?v.jsxs(v.Fragment,{children:[v.jsx(Ls,{className:"w-3 h-3"}),"Copied"]}):v.jsxs(v.Fragment,{children:[v.jsx(Jg,{className:"w-3 h-3"}),"Copy"]})})]}),v.jsx("div",{className:"bg-gray-900 rounded-b-lg overflow-x-auto",children:v.jsx("pre",{className:"p-3 text-xs font-mono text-gray-100 whitespace-pre-wrap break-words",children:r})})]})}const ES=Or((r,a)=>({feedbackByMessageId:{},loading:!1,submitFeedback:async(s,l,u)=>{const{data:{user:d}}=await tt.auth.getUser();d&&(r(f=>({feedbackByMessageId:{...f.feedbackByMessageId,[s]:l}})),await tt.from("message_feedback").upsert({message_id:s,user_id:d.id,rating:l,comment:u||null},{onConflict:"message_id,user_id"}))},loadUserFeedback:async()=>{const{data:{user:s}}=await tt.auth.getUser();if(!s)return;r({loading:!0});const{data:l}=await tt.from("message_feedback").select("message_id, rating").eq("user_id",s.id),u={};for(const d of l||[])u[d.message_id]=d.rating;r({feedbackByMessageId:u,loading:!1})},getFeedback:s=>a().feedbackByMessageId[s]})),TS=[{label:"Wrong",value:"Wrong answer"},{label:"Verbose",value:"Too verbose"},{label:"Format",value:"Formatting issues"},{label:"?",value:"Misunderstood question"}];function AS({messageId:r}){const{getFeedback:a,submitFeedback:s}=ES(),l=a(r),[u,d]=fe.useState(!1),[f,g]=fe.useState(null),[m,p]=fe.useState(""),b=async A=>{l!==A&&(A==="thumbs_down"?(d(!0),await s(r,A)):(await s(r,A),d(!1)))},x=async()=>{const A=f?m?`${f}: ${m}`:f:m;A&&await s(r,"thumbs_down",A),d(!1),g(null),p("")},E=()=>{d(!1),g(null),p("")};return v.jsxs("div",{className:"mt-1",children:[v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("button",{onClick:()=>b("thumbs_up"),className:nt("p-1 rounded hover:bg-green-100 transition-colors",l==="thumbs_up"&&"bg-green-100 text-green-600"),title:"Helpful",children:v.jsx(m_,{className:"w-3.5 h-3.5"})}),v.jsx("button",{onClick:()=>b("thumbs_down"),className:nt("p-1 rounded hover:bg-red-100 transition-colors",l==="thumbs_down"&&"bg-red-100 text-red-600"),title:"Not helpful",children:v.jsx(f_,{className:"w-3.5 h-3.5"})})]}),u&&l==="thumbs_down"&&v.jsxs("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded-lg text-xs",children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsx("span",{className:"text-red-700 font-medium",children:"What could improve?"}),v.jsx("button",{onClick:E,className:"p-0.5 hover:bg-red-100 rounded",title:"Dismiss",children:v.jsx(bc,{className:"w-3 h-3 text-red-600"})})]}),v.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:TS.map(A=>v.jsx("button",{onClick:()=>g(f===A.value?null:A.value),className:nt("px-2 py-0.5 rounded text-xs border transition-colors",f===A.value?"bg-red-600 text-white border-red-600":"bg-white text-red-700 border-red-300 hover:bg-red-100"),children:A.label},A.value))}),v.jsxs("div",{className:"flex gap-1",children:[v.jsx("input",{type:"text",value:m,onChange:A=>p(A.target.value),placeholder:"Other feedback...",className:"flex-1 px-2 py-1 text-xs border border-red-300 rounded bg-white focus:outline-none focus:ring-1 focus:ring-red-400",onKeyDown:A=>{A.key==="Enter"&&(A.preventDefault(),x())}}),v.jsx("button",{onClick:x,disabled:!f&&!m,className:nt("p-1 rounded transition-colors",f||m?"bg-red-600 text-white hover:bg-red-700":"bg-red-200 text-red-400 cursor-not-allowed"),title:"Send feedback",children:v.jsx(Qg,{className:"w-3 h-3"})})]})]})]})}function kS(r){const a=[],s=/(?:^|\n)(\{[\s\S]*?\}|\[[\s\S]*?\])(?:\n|$)/g;let l=0,u;for(;(u=s.exec(r))!==null;){const d=u[1];try{if(JSON.parse(d),u.index>l){const g=r.slice(l,u.index).trim();g&&a.push({type:"text",content:g})}const f=JSON.stringify(JSON.parse(d),null,2);a.push({type:"json",content:f}),l=u.index+u[0].length}catch{}}if(l<r.length){const d=r.slice(l).trim();d&&a.push({type:"text",content:d})}return a.length===0?[{type:"text",content:r}]:a}const OS=fe.memo(function({message:a}){const[s,l]=fe.useState(!1),u=a.role==="user",d=fe.useMemo(()=>u?[{type:"text",content:a.content}]:kS(a.content),[a.content,u]),f=async()=>{await navigator.clipboard.writeText(a.content),l(!0),setTimeout(()=>l(!1),2e3)};return v.jsxs("div",{className:nt("flex gap-3",u&&"flex-row-reverse"),children:[v.jsx("div",{className:nt("w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0",u?"bg-primary":"bg-secondary"),children:u?v.jsx(b_,{className:"w-4 h-4 text-primary-foreground"}):v.jsx(Yg,{className:"w-4 h-4 text-secondary-foreground"})}),v.jsxs("div",{className:nt("group relative max-w-[85%] rounded-2xl px-4 py-3",u?"bg-primary text-primary-foreground rounded-tr-md":"bg-secondary text-secondary-foreground rounded-tl-md"),children:[v.jsx("div",{className:"text-sm",children:d.map((g,m)=>g.type==="json"?v.jsx(xS,{code:g.content,language:"json"},m):v.jsx("div",{className:"whitespace-pre-wrap break-words",children:g.content},m))}),!u&&v.jsx(AS,{messageId:a.id}),!u&&v.jsx("button",{onClick:f,className:"absolute -right-8 top-2 opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-secondary rounded",title:"Copy message",children:s?v.jsx(Ls,{className:"w-3.5 h-3.5 text-green-600"}):v.jsx(Jg,{className:"w-3.5 h-3.5 text-muted-foreground"})})]})]})});function CS(){const{messages:r,loading:a,fetchConversations:s}=yl(),l=fe.useRef(null);return fe.useEffect(()=>{s()},[s]),fe.useEffect(()=>{l.current?.scrollIntoView({behavior:"smooth"})},[r]),a&&r.length===0?v.jsx("div",{className:"flex-1 flex items-center justify-center",children:v.jsx(Na,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):r.length===0?v.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center",children:[v.jsx("div",{className:"w-16 h-16 rounded-2xl bg-primary/10 flex items-center justify-center mb-4",children:v.jsx(Yg,{className:"w-8 h-8 text-primary"})}),v.jsx("h2",{className:"text-lg font-semibold mb-2",children:"N8N Insider"}),v.jsx("p",{className:"text-sm text-muted-foreground max-w-[280px]",children:"Ask me anything about your n8n workflows. I can help debug, suggest improvements, or even fix issues for you."}),v.jsx("div",{className:"mt-6 flex flex-wrap gap-2 justify-center",children:["Why is my webhook failing?","How do I loop through items?","Explain this error"].map(u=>v.jsx("button",{className:"px-3 py-1.5 text-xs bg-secondary hover:bg-secondary/80 rounded-full transition-colors",children:u},u))})]}):v.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 custom-scrollbar",children:[r.map(u=>v.jsx(OS,{message:u},u.id)),v.jsx("div",{ref:l})]})}const yg=50;function vg(){return new Date().toISOString().split("T")[0]}const NS={getItem:async r=>new Promise(a=>{chrome.storage.local.get(r,s=>{const l=s[r];a(typeof l=="string"?l:null)})}),setItem:async(r,a)=>new Promise(s=>{chrome.storage.local.set({[r]:a},s)}),removeItem:async r=>new Promise(a=>{chrome.storage.local.remove(r,a)})},jS=Or()(dp((r,a)=>({dailyCount:0,lastResetDate:vg(),resetIfNewDay:()=>{const s=vg(),{lastResetDate:l}=a();l!==s&&(console.log("[usage] New day detected, resetting usage count"),r({dailyCount:0,lastResetDate:s}))},checkAndIncrementUsage:async()=>{a().resetIfNewDay();const{dailyCount:s}=a();if(s>=yg)return{allowed:!1,remaining:0};const l=s+1;return r({dailyCount:l}),{allowed:!0,remaining:yg-l}}}),{name:"n8n-insider-usage",storage:_c(()=>NS)}));async function bg(){const[r]=await chrome.tabs.query({active:!0,currentWindow:!0}),a=r?.url||"",s=a.includes("n8n")||a.includes("/workflow/")||a.includes("/workflows/"),l={isN8nPage:s,currentUrl:a};if(!s||!r?.id)return l;try{const[u]=await chrome.scripting.executeScript({target:{tabId:r.id},func:RS});u?.result&&(l.workflowId=u.result.workflowId,l.workflowName=u.result.workflowName,l.nodes=u.result.nodes)}catch(u){console.warn("Could not extract workflow data from page:",u)}return l}function RS(){const r=window.location.href.match(/workflow[s]?\/([a-zA-Z0-9_-]+)(?:\/|$|\?)/);let a=r?r[1]:void 0;a==="new"&&(a=void 0);const l=(document.querySelector('[data-test-id="workflow-name-input"]')||document.querySelector(".workflow-name")||document.querySelector("h1"))?.textContent?.trim(),u=document.querySelectorAll('[data-test-id^="node-"], .node-wrapper, [data-name]'),d=[];return u.forEach(f=>{const g=f.getAttribute("data-name")||f.querySelector(".node-name, .node-title")?.textContent?.trim(),m=f.getAttribute("data-node-type")||f.getAttribute("data-type")||"unknown";g&&d.push({name:g,type:m})}),{workflowId:a,workflowName:l,nodes:d}}async function wg(){try{console.log("[n8n-copilot] Requesting screenshot from background...");const r=await chrome.runtime.sendMessage({type:"CAPTURE_SCREENSHOT"});return console.log("[n8n-copilot] Screenshot result:",r?.success?"success":"failed",r?.error||""),r?.success&&r.screenshot?(console.log("[n8n-copilot] Screenshot size:",r.screenshot.length,"chars"),r.screenshot):(console.error("[n8n-copilot] Screenshot capture failed:",r?.error||"No screenshot data returned"),null)}catch(r){return console.error("[n8n-copilot] Screenshot capture exception:",r),null}}async function _g(r){const{n8nInstanceUrl:a,n8nApiKey:s,n8nConnected:l}=jr.getState();if(!l||!a||!s)return console.warn("n8n not connected, cannot fetch workflow"),null;try{const u=await fetch(`${a}/api/v1/workflows/${r}`,{method:"GET",headers:{"X-N8N-API-KEY":s,"Content-Type":"application/json"}});if(!u.ok)throw new Error(`Failed to fetch workflow: ${u.status}`);return await u.json()}catch(u){return console.error("Error fetching workflow from n8n:",u),null}}function US(){const{n8nInstanceUrl:r,n8nApiKey:a,n8nConnected:s}=jr.getState();if(!s||!r||!a)throw new Error("n8n not connected. Please configure your n8n instance in Settings.");return{n8nInstanceUrl:r,n8nApiKey:a}}function DS(r){const a={id:r.id,name:r.name,type:r.type,position:r.position,parameters:r.parameters||{}};return r.typeVersion!==void 0&&(a.typeVersion=r.typeVersion),r.credentials!==void 0&&(a.credentials=r.credentials),r.disabled!==void 0&&(a.disabled=r.disabled),r.notes!==void 0&&(a.notes=r.notes),r.notesInFlow!==void 0&&(a.notesInFlow=r.notesInFlow),r.webhookId!==void 0&&(a.webhookId=r.webhookId),a}function Sc(r){const a=r.nodes?.map(DS)||[],s={name:r.name,nodes:a,connections:r.connections};return r.settings!==void 0&&(s.settings=r.settings),r.staticData!==void 0&&(s.staticData=r.staticData),console.log("[n8n-actions] Sanitized workflow - nodes:",a.length,"fields:",Object.keys(s)),s}async function sn(r,a,s){try{const{n8nInstanceUrl:l,n8nApiKey:u}=US();s&&(a==="PUT"||a==="POST")&&console.log(`[n8n-actions] ${a} ${r} - Request body keys:`,Object.keys(s));const d=await fetch(`${l}/api/v1${r}`,{method:a,headers:{"X-N8N-API-KEY":u,"Content-Type":"application/json"},body:s?JSON.stringify(s):void 0}),f=d.headers.get("content-type")||"",g=f.includes("application/json");if(!d.ok){let p=`API error: ${d.status} ${d.statusText}`;if(g)try{p=(await d.json()).message||p}catch{}else{const b=await d.text();b.includes("<!DOCTYPE")||b.includes("<html")?p=`n8n API returned HTML instead of JSON. Check your n8n instance URL (${l}) and API key. Status: ${d.status}`:p=`${p}. Response: ${b.substring(0,200)}`}throw new Error(p)}if(d.status===204)return{success:!0};if(!g){const p=await d.text();throw new Error(`Expected JSON response but got ${f}. Response: ${p.substring(0,200)}`)}return{success:!0,data:await d.json()}}catch(l){return console.error(`[n8n-actions] ${a} ${r} failed:`,l),{success:!1,error:l instanceof Error?l.message:"Unknown error"}}}async function zS(r){console.log("[n8n-actions] Creating workflow:",r.name);const a={name:r.name,nodes:r.nodes||[],connections:r.connections||{},settings:r.settings||{}};return sn("/workflows","POST",a)}async function MS(r,a){console.log("[n8n-actions] Duplicating workflow:",r,"as:",a);const s=await sn(`/workflows/${r}`,"GET");if(!s.success||!s.data)return{success:!1,error:s.error||"Failed to fetch workflow to duplicate"};const l=s.data,u={name:a,nodes:l.nodes,connections:l.connections,settings:l.settings};return sn("/workflows","POST",u)}async function BS(r){return console.log("[n8n-actions] Deleting workflow:",r),sn(`/workflows/${r}`,"DELETE")}async function qS(r){return console.log("[n8n-actions] Activating workflow:",r),sn(`/workflows/${r}/activate`,"POST")}async function LS(r){return console.log("[n8n-actions] Deactivating workflow:",r),sn(`/workflows/${r}/deactivate`,"POST")}async function xc(r){return console.log("[n8n-actions] Getting workflow:",r),sn(`/workflows/${r}`,"GET")}async function HS(r,a,s){console.log("[n8n-actions] Updating node:",a,"in workflow:",r);const l=await xc(r);if(!l.success||!l.data)return{success:!1,error:l.error||"Failed to fetch workflow"};const u=l.data,d=u.nodes.findIndex(g=>g.name===a);if(d===-1)return{success:!1,error:`Node "${a}" not found in workflow`};u.nodes[d]={...u.nodes[d],...s,name:a,id:u.nodes[d].id};const f=Sc(u);return sn(`/workflows/${r}`,"PUT",f)}async function $S(r,a,s){if(console.log("[n8n-actions] Adding node:",a.name,"to workflow:",r),!r||r==="unknown"||r==="NOT_AVAILABLE")return{success:!1,error:"Invalid workflow ID. Please refresh the n8n page and try again. Make sure you have a workflow open (not a new unsaved workflow)."};const l=await xc(r);if(!l.success||!l.data)return{success:!1,error:l.error||`Failed to fetch workflow with ID "${r}". The workflow may not exist or you may not have access to it.`};const u=l.data;if(u.nodes.some(p=>p.name===a.name))return{success:!1,error:`Node "${a.name}" already exists in workflow`};const d=`node_${Date.now()}`;let f=a.position;if(!f&&u.nodes.length>0){const p=u.nodes[u.nodes.length-1];f=[p.position[0]+200,p.position[1]]}const g={id:d,name:a.name,type:a.type,parameters:a.parameters||{},position:f||[250,250],typeVersion:1};if(u.nodes.push(g),s){const p=u.connections[s];p?(p.main[0]||(p.main[0]=[]),p.main[0].push({node:a.name,type:"main",index:0})):u.connections[s]={main:[[{node:a.name,type:"main",index:0}]]}}const m=Sc(u);return sn(`/workflows/${r}`,"PUT",m)}async function GS(r,a){console.log("[n8n-actions] Deleting node:",a,"from workflow:",r);const s=await xc(r);if(!s.success||!s.data)return{success:!1,error:s.error||"Failed to fetch workflow"};const l=s.data,u=l.nodes.findIndex(f=>f.name===a);if(u===-1)return{success:!1,error:`Node "${a}" not found in workflow`};l.nodes.splice(u,1),delete l.connections[a];for(const f of Object.keys(l.connections)){const g=l.connections[f];if(g?.main)for(const m of g.main){const p=m.filter(b=>b.node!==a);m.length=0,m.push(...p)}}const d=Sc(l);return sn(`/workflows/${r}`,"PUT",d)}function fp(r){const{name:a}=r.function;let s={};try{s=JSON.parse(r.function.arguments)}catch(u){console.error("[tool-executor] Failed to parse tool arguments:",u)}const l=yS[a]||{action:a,icon:"",confirmMessage:()=>`Execute ${a}`};return{toolName:a,description:l.action,icon:l.icon,args:s,requiresConfirmation:pS.has(a),confirmMessage:l.confirmMessage(s)}}async function VS(r,a){const s=fp(r);console.log("[tool-executor] Executing tool:",s.toolName,s.args),s.requiresConfirmation;try{let l;switch(s.toolName){case"duplicate_workflow":l=await MS(s.args.workflow_id,s.args.new_name);break;case"create_workflow":l=await zS({name:s.args.name});break;case"activate_workflow":l=await qS(s.args.workflow_id);break;case"deactivate_workflow":l=await LS(s.args.workflow_id);break;case"update_node":l=await HS(s.args.workflow_id,s.args.node_name,s.args.parameters);break;case"add_node":l=await $S(s.args.workflow_id,{name:s.args.node_name,type:s.args.node_type,parameters:s.args.parameters,position:s.args.position},s.args.connect_from);break;case"delete_node":l=await GS(s.args.workflow_id,s.args.node_name);break;case"delete_workflow":l=await BS(s.args.workflow_id);break;default:return{toolCallId:r.id,toolName:s.toolName,success:!1,error:`Unknown tool: ${s.toolName}`}}return{toolCallId:r.id,toolName:s.toolName,success:l.success,result:l.data,error:l.error}}catch(l){return console.error("[tool-executor] Error executing tool:",l),{toolCallId:r.id,toolName:s.toolName,success:!1,error:l instanceof Error?l.message:"Unknown error"}}}async function IS(r,a){const s=[];for(const l of r){const u=await VS(l,a);if(s.push(u),u.userCancelled)break}return s}function KS({preview:r,onConfirm:a,onCancel:s,isExecuting:l=!1}){const u=r.toolName.includes("delete");return v.jsx("div",{className:"bg-white border border-amber-200 rounded-lg p-4 shadow-sm",children:v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("div",{className:nt("w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 text-lg",u?"bg-red-100":"bg-amber-100"),children:r.icon}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u&&v.jsx(Zg,{className:"w-4 h-4 text-red-500"}),v.jsx("h4",{className:"font-medium text-sm",children:r.description})]}),v.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:r.confirmMessage}),Object.keys(r.args).length>0&&v.jsx("div",{className:"bg-gray-50 rounded-md p-2 mb-3 text-xs font-mono",children:Object.entries(r.args).map(([d,f])=>v.jsxs("div",{className:"flex gap-2",children:[v.jsxs("span",{className:"text-gray-500",children:[d,":"]}),v.jsx("span",{className:"text-gray-700 truncate",children:typeof f=="object"?JSON.stringify(f):String(f)})]},d))}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs(pt,{size:"sm",variant:u?"destructive":"default",onClick:a,disabled:l,className:"gap-1",children:[l?v.jsx(Na,{className:"w-3 h-3 animate-spin"}):v.jsx(Iw,{className:"w-3 h-3"}),l?"Executing...":"Confirm"]}),v.jsxs(pt,{size:"sm",variant:"ghost",onClick:s,disabled:l,className:"gap-1",children:[v.jsx(Yw,{className:"w-3 h-3"}),"Cancel"]})]})]})]})})}const YS="https://buy.stripe.com/6oU14mcrU7QF4Ev3gK4ko0w";function JS(r){return r?r.is_lifetime||r.subscription_status==="active"?!0:r.subscription_status==="canceled"&&r.subscription_end_date?new Date(r.subscription_end_date)>new Date:!1:!1}const XS=2e3;function QS(){const[r,a]=fe.useState(""),[s,l]=fe.useState(!1),[u,d]=fe.useState(null),[f,g]=fe.useState(null),[m,p]=fe.useState(!1),[b,x]=fe.useState(!1),[,E]=fe.useState(""),[,A]=fe.useState(!1),U=fe.useRef(null),{messages:N,addMessage:q,sending:V,generateAndSetTitle:$}=yl(),{openRouterConnected:H,n8nConnected:J}=jr(),{setCachedContext:oe}=Ig(),{profile:te}=qs(),{checkAndIncrementUsage:X,resetIfNewDay:Y}=jS();fe.useEffect(()=>{Y()},[Y]);const pe=r.trim()&&!V&&H&&!f&&!b;fe.useEffect(()=>{U.current&&(U.current.style.height="auto",U.current.style.height=`${Math.min(U.current.scrollHeight,120)}px`)},[r]);const Ye=async()=>{if(!pe)return;if(!JS(te)&&!(await X()).allowed){x(!0);return}const z=r.trim();a("");let ae=u;if(d(null),!ae)try{l(!0),console.log("[n8n-copilot] Starting parallel auto-capture...");const[Z,_]=await Promise.all([bg(),Promise.race([wg(),new Promise(G=>setTimeout(()=>{console.log("[n8n-copilot] Screenshot capture timed out"),G(null)},XS))])]);console.log("[n8n-copilot] Parallel capture complete:",{hasPageContext:!!Z,hasScreenshot:!!_});let M;if(Z.workflowId&&J){console.log("[n8n-copilot] Fetching workflow from n8n API...");const G=await _g(Z.workflowId);G&&(M=G,console.log("[n8n-copilot] Workflow fetched"))}else Z.nodes&&Z.nodes.length>0&&(M={workflowId:Z.workflowId,workflowName:Z.workflowName,nodes:Z.nodes});ae={screenshot:_||void 0,workflowData:M,currentUrl:Z.currentUrl},console.log("[n8n-copilot] Final context:",{hasScreenshot:!!ae.screenshot,hasWorkflowData:!!ae.workflowData,currentUrl:ae.currentUrl}),(ae.workflowData||ae.screenshot)&&oe({...ae,workflowId:Z.workflowId,capturedAt:Date.now()})}catch(Z){console.error("[n8n-copilot] Auto-capture failed:",Z)}finally{l(!1)}try{await q("user",z,ae?{hasContext:!0}:void 0),E(""),A(!0);const _=await wS(N,z,ae||void 0,{onToken:M=>{E(G=>G+M)},onComplete:()=>{A(!1),E("")},onError:M=>{A(!1),E(""),console.error("[n8n-copilot] Streaming error:",M)}});await Ve(_)}catch(Z){console.error("Error sending message:",Z),A(!1),E(""),await q("assistant",`Sorry, there was an error: ${Z instanceof Error?Z.message:"Unknown error"}`)}},Ve=async z=>{if(z.type==="text"){await q("assistant",z.content||""),$();return}if(z.type==="tool_calls"&&z.toolCalls){console.log("[n8n-copilot] Processing tool calls:",z.toolCalls);for(const ae of z.toolCalls){const Z=fp(ae);if(Z.requiresConfirmation){g({toolCall:ae,preview:Z});return}await q("assistant",`${Z.icon} Executing: ${Z.confirmMessage}`),await De(ae,Z)}}},De=async(z,ae)=>{p(!0);try{const _=(await IS([z]))[0];_.success?await q("assistant",`Done! ${ae.description} completed successfully. Refresh the n8n page to see the changes.`):await q("assistant",`${ae.description} failed: ${_.error}`)}catch(Z){console.error("[n8n-copilot] Tool execution error:",Z),await q("assistant",`Error executing ${ae.toolName}: ${Z instanceof Error?Z.message:"Unknown error"}`)}finally{p(!1)}},at=async()=>{if(f){p(!0);try{await De(f.toolCall,f.preview)}finally{g(null),p(!1)}}},lt=async()=>{f&&(await q("assistant",`Action cancelled: ${f.preview.description}`),g(null))},be=z=>{z.key==="Enter"&&!z.shiftKey&&(z.preventDefault(),Ye())},R=async()=>{l(!0);try{const z=await bg(),ae=await wg();let Z;if(z.workflowId&&J){const _=await _g(z.workflowId);_&&(Z=_)}else z.nodes&&z.nodes.length>0&&(Z={workflowId:z.workflowId,workflowName:z.workflowName,nodes:z.nodes});d({screenshot:ae||void 0,workflowData:Z,currentUrl:z.currentUrl})}catch(z){console.error("Error capturing context:",z)}finally{l(!1)}},I=()=>{d(null)};return v.jsxs("div",{className:"border-t border-border bg-white p-4",children:[!H&&v.jsx("div",{className:"mb-3 px-3 py-2 bg-amber-50 border border-amber-200 rounded-lg",children:v.jsx("p",{className:"text-xs text-amber-700",children:"Configure your OpenRouter API key in Settings to start chatting"})}),b&&v.jsx("div",{className:"mb-3 px-3 py-3 bg-primary/10 border border-primary/20 rounded-lg",children:v.jsxs("div",{className:"flex items-start gap-2",children:[v.jsx(Zg,{className:"w-4 h-4 text-primary mt-0.5 flex-shrink-0"}),v.jsxs("div",{className:"flex-1",children:[v.jsx("p",{className:"text-sm font-medium text-primary",children:"Daily limit reached"}),v.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"You have used your 50 free requests for today."}),v.jsxs("a",{href:`${YS}?client_reference_id=${te?.id}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 mt-2 px-3 py-1.5 text-xs font-medium bg-primary text-primary-foreground rounded-lg hover:bg-primary/90",children:["Upgrade to Pro - $10/mo",v.jsx(ul,{className:"w-3 h-3"})]})]})]})}),f&&v.jsx("div",{className:"mb-3",children:v.jsx(KS,{preview:f.preview,onConfirm:at,onCancel:lt,isExecuting:m})}),u&&v.jsx("div",{className:"mb-3 px-3 py-2 bg-blue-50 border border-blue-200 rounded-lg",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(__,{className:"w-4 h-4 text-blue-600"}),v.jsx("span",{className:"text-xs text-blue-700",children:u.workflowData?`Workflow context attached${u.screenshot?" + screenshot":""}`:u.screenshot?"Screenshot attached":"Page context attached"})]}),v.jsx("button",{onClick:I,className:"text-xs text-blue-600 hover:text-blue-800",children:"Clear"})]})}),v.jsxs("div",{className:"flex items-end gap-2",children:[v.jsx(pt,{variant:"ghost",size:"icon",onClick:R,disabled:s,className:nt("flex-shrink-0",u&&"text-blue-600"),title:"Capture workflow context",children:s?v.jsx(Na,{className:"w-4 h-4 animate-spin"}):v.jsx(Lw,{className:"w-4 h-4"})}),v.jsx("div",{className:"flex-1 relative",children:v.jsx("textarea",{ref:U,value:r,onChange:z=>a(z.target.value),onKeyDown:be,placeholder:H?"Ask about your n8n workflow...":"Configure API key to start...",disabled:!H||V,rows:1,className:nt("w-full resize-none rounded-xl border border-input bg-background px-4 py-3 pr-12 text-sm","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring","placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50","min-h-[44px] max-h-[120px]")})}),v.jsx(pt,{size:"icon",onClick:Ye,disabled:!pe,className:"flex-shrink-0",children:V?v.jsx(Na,{className:"w-4 h-4 animate-spin"}):v.jsx(Qg,{className:"w-4 h-4"})})]})]})}const kr=fe.forwardRef(({className:r,type:a,...s},l)=>v.jsx("input",{type:a,className:nt("flex h-10 w-full rounded-lg border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:l,...s}));kr.displayName="Input";const Sg="https://buy.stripe.com/6oU14mcrU7QF4Ev3gK4ko0w",xg="https://billing.stripe.com/p/login/cN23e7dmD84e3IYaEE";function ZS(r){if(!r)return{label:"Free Plan",action:"upgrade",variant:"default"};if(r.is_lifetime)return{label:"Pro (Lifetime)",action:"none",variant:"success"};switch(r.subscription_status){case"active":return{label:"Pro Plan",sublabel:"$10/mo",action:"manage",variant:"success"};case"canceled":return{label:"Pro (Canceled)",sublabel:`Access until ${r.subscription_end_date?new Date(r.subscription_end_date).toLocaleDateString():"soon"}`,action:"resubscribe",variant:"warning"};case"past_due":return{label:"Payment Failed",sublabel:"Update payment method",action:"update_payment",variant:"warning"};default:return{label:"Free Plan",sublabel:"50 requests/day",action:"upgrade",variant:"default"}}}function PS({onClose:r}){const{n8nInstanceUrl:a,n8nApiKey:s,openRouterApiKey:l,selectedModel:u,n8nConnected:d,openRouterConnected:f,n8nError:g,openRouterError:m,assistantMode:p,setN8nConfig:b,setOpenRouterConfig:x,setSelectedModel:E,setAssistantMode:A,testN8nConnection:U,testOpenRouterConnection:N}=jr(),{profile:q,signOut:V}=qs(),[$,H]=fe.useState(a),[J,oe]=fe.useState(s),[te,X]=fe.useState(l),[Y,pe]=fe.useState(!1),[Ye,Ve]=fe.useState(!1),De=async()=>{b($,J),pe(!0),await U(),pe(!1)},at=async()=>{x(te),Ve(!0),await N(),Ve(!1)},lt=async()=>{await V(),r()};return v.jsx("div",{className:"fixed inset-0 z-50 bg-black/50",onClick:r,children:v.jsxs("div",{className:"absolute right-0 top-0 h-full w-full max-w-md bg-white shadow-xl",onClick:be=>be.stopPropagation(),children:[v.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-border",children:[v.jsx("h2",{className:"text-lg font-semibold",children:"Settings"}),v.jsx(pt,{variant:"ghost",size:"icon",onClick:r,children:v.jsx(bc,{className:"w-4 h-4"})})]}),v.jsxs("div",{className:"p-6 space-y-8 overflow-y-auto h-[calc(100%-65px)]",children:[v.jsxs("section",{children:[v.jsx("h3",{className:"text-sm font-medium mb-4",children:"Account"}),v.jsx(WS,{profile:q})]}),v.jsxs("section",{children:[v.jsx("h3",{className:"text-sm font-medium mb-2",children:"Assistant Mode"}),v.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Choose how the AI assistant interacts with your n8n instance"}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Tg,{mode:"helper",currentMode:p,title:"Helper Mode",description:"AI gives suggestions and explanations only. You make all changes manually.",onChange:A}),v.jsx(Tg,{mode:"builder",currentMode:p,title:"Builder Mode",description:"AI can create workflows, add nodes, and make changes directly in n8n.",onChange:A})]})]}),v.jsxs("section",{children:[v.jsx("h3",{className:"text-sm font-medium mb-4",children:"n8n Instance"}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-muted-foreground mb-1.5 block",children:"Instance URL"}),v.jsx(kr,{type:"url",placeholder:"https://your-n8n-instance.com",value:$,onChange:be=>H(be.target.value)})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-muted-foreground mb-1.5 block",children:"API Key"}),v.jsx(kr,{type:"password",placeholder:"n8n API key",value:J,onChange:be=>oe(be.target.value)})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(pt,{onClick:De,disabled:Y,size:"sm",children:Y?v.jsxs(v.Fragment,{children:[v.jsx(Na,{className:"w-3 h-3 animate-spin mr-2"}),"Testing..."]}):"Save & Test"}),v.jsx(Eg,{connected:d})]}),g&&v.jsx("div",{className:"p-2 bg-red-50 border border-red-200 rounded-md",children:v.jsx("p",{className:"text-xs text-red-700",children:g})}),v.jsx("p",{className:"text-xs text-muted-foreground",children:"URL format: https://your-n8n.com (without /api/v1)"})]})]})]}),v.jsxs("section",{children:[v.jsx("h3",{className:"text-sm font-medium mb-4",children:"AI Provider (OpenRouter)"}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-muted-foreground mb-1.5 block",children:"API Key"}),v.jsx(kr,{type:"password",placeholder:"sk-or-...",value:te,onChange:be=>X(be.target.value)}),v.jsxs("p",{className:"text-xs text-muted-foreground mt-1.5",children:["Get your key at"," ",v.jsx("a",{href:"https://openrouter.ai/keys",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"openrouter.ai/keys"})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(pt,{onClick:at,disabled:Ye,size:"sm",children:Ye?v.jsxs(v.Fragment,{children:[v.jsx(Na,{className:"w-3 h-3 animate-spin mr-2"}),"Testing..."]}):"Save & Test"}),v.jsx(Eg,{connected:f})]}),m&&v.jsx("div",{className:"p-2 bg-red-50 border border-red-200 rounded-md",children:v.jsx("p",{className:"text-xs text-red-700",children:m})})]})]})]}),v.jsxs("section",{children:[v.jsx("h3",{className:"text-sm font-medium mb-2",children:"AI Model"}),v.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Vision-enabled models only (required for screenshot analysis)"}),v.jsx("div",{className:"space-y-2",children:mS.map(be=>v.jsxs("button",{onClick:()=>E(be.id),className:nt("w-full p-3 rounded-lg border text-left transition-colors",u===be.id?"border-primary bg-primary/5":"border-border hover:border-primary/50"),children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"font-medium text-sm",children:be.name}),be.recommended&&v.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-medium bg-green-100 text-green-700 rounded",children:"Recommended"})]}),u===be.id&&v.jsx(Ls,{className:"w-4 h-4 text-primary"})]}),v.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:be.description})]},be.id))})]}),v.jsx("section",{className:"pt-4 border-t border-border",children:v.jsxs(pt,{variant:"outline",className:"w-full",onClick:lt,children:[v.jsx(t_,{className:"w-4 h-4 mr-2"}),"Sign Out"]})})]})]})})}function Eg({connected:r}){return v.jsx("div",{className:nt("flex items-center gap-1 text-xs",r?"text-green-600":"text-muted-foreground"),children:r?v.jsxs(v.Fragment,{children:[v.jsx(Ls,{className:"w-3 h-3"}),"Connected"]}):v.jsxs(v.Fragment,{children:[v.jsx(Gw,{className:"w-3 h-3"}),"Not connected"]})})}function Tg({mode:r,currentMode:a,title:s,description:l,onChange:u}){const d=r===a;return v.jsxs("button",{onClick:()=>u(r),className:nt("w-full p-3 rounded-lg border text-left transition-colors",d?"border-primary bg-primary/5":"border-border hover:border-primary/50"),children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"font-medium text-sm",children:s}),d&&v.jsx(Ls,{className:"w-4 h-4 text-primary"})]}),v.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:l})]})}function WS({profile:r}){const a=ZS(r),s=()=>{switch(a.action){case"upgrade":return v.jsxs("a",{href:`${Sg}?client_reference_id=${r?.id}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 px-3 py-1.5 text-xs font-medium bg-primary text-primary-foreground rounded-lg hover:bg-primary/90",children:["Upgrade - $10/mo",v.jsx(ul,{className:"w-3 h-3"})]});case"manage":return v.jsxs("a",{href:xg,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 px-3 py-1.5 text-xs font-medium border border-border rounded-lg hover:bg-secondary",children:[v.jsx(Qw,{className:"w-3 h-3"}),"Manage"]});case"resubscribe":return v.jsxs("a",{href:`${Sg}?client_reference_id=${r?.id}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 px-3 py-1.5 text-xs font-medium bg-primary text-primary-foreground rounded-lg hover:bg-primary/90",children:["Resubscribe",v.jsx(ul,{className:"w-3 h-3"})]});case"update_payment":return v.jsxs("a",{href:xg,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 px-3 py-1.5 text-xs font-medium bg-amber-500 text-white rounded-lg hover:bg-amber-600",children:["Update Payment",v.jsx(ul,{className:"w-3 h-3"})]});default:return null}};return v.jsx("div",{className:nt("p-4 rounded-lg",a.variant==="success"?"bg-green-50 border border-green-200":a.variant==="warning"?"bg-amber-50 border border-amber-200":"bg-secondary"),children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-sm",children:r?.email}),v.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[v.jsx("span",{className:nt("text-xs font-medium",a.variant==="success"?"text-green-700":a.variant==="warning"?"text-amber-700":"text-muted-foreground"),children:a.label}),a.sublabel&&v.jsxs("span",{className:"text-xs text-muted-foreground",children:[" ",a.sublabel]})]})]}),s()]})})}function FS({isOpen:r,onClose:a}){const{conversations:s,currentConversation:l,loading:u,fetchConversations:d,selectConversation:f,createConversation:g,deleteConversation:m}=yl();fe.useEffect(()=>{r&&d()},[r,d]);const p=async A=>{await f(A),a()},b=async(A,U)=>{A.stopPropagation(),confirm("Delete this conversation?")&&await m(U)},x=async()=>{await g(),a()},E=A=>{const U=new Date(A),q=Math.floor((new Date().getTime()-U.getTime())/(1e3*60*60*24));return q===0?"Today":q===1?"Yesterday":q<7?`${q} days ago`:U.toLocaleDateString()};return r?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"fixed inset-0 bg-black/20 z-40",onClick:a}),v.jsxs("div",{className:"fixed left-0 top-0 bottom-0 w-72 bg-white z-50 shadow-xl flex flex-col animate-in slide-in-from-left duration-200",children:[v.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border",children:[v.jsx("h2",{className:"font-semibold text-sm",children:"Conversations"}),v.jsx(pt,{variant:"ghost",size:"icon",onClick:a,children:v.jsx(bc,{className:"w-4 h-4"})})]}),v.jsx("div",{className:"p-3 border-b border-border",children:v.jsxs(pt,{variant:"outline",className:"w-full justify-start gap-2",onClick:x,children:[v.jsx(Xg,{className:"w-4 h-4"}),"New Conversation"]})}),v.jsx("div",{className:"flex-1 overflow-y-auto",children:u?v.jsx("div",{className:"flex items-center justify-center py-8",children:v.jsx("div",{className:"w-5 h-5 border-2 border-primary border-t-transparent rounded-full animate-spin"})}):s.length===0?v.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4 text-center",children:[v.jsx(cc,{className:"w-10 h-10 text-gray-300 mb-3"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"No conversations yet"}),v.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Start chatting to create one"})]}):v.jsx("div",{className:"py-2",children:s.map(A=>v.jsxs("div",{className:nt("group flex items-center gap-3 px-4 py-3 cursor-pointer hover:bg-gray-50 transition-colors",l?.id===A.id&&"bg-primary/5 border-r-2 border-primary"),onClick:()=>p(A.id),children:[v.jsx(cc,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("p",{className:"text-sm font-medium truncate",children:A.title||"New Conversation"}),v.jsx("p",{className:"text-xs text-muted-foreground",children:E(A.created_at)})]}),v.jsx(pt,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100 transition-opacity h-7 w-7",onClick:U=>b(U,A.id),children:v.jsx(p_,{className:"w-3 h-3 text-gray-400 hover:text-destructive"})})]},A.id))})}),v.jsxs("div",{className:"px-4 py-3 border-t border-border text-xs text-muted-foreground",children:[s.length," conversation",s.length!==1?"s":""]})]})]}):null}function e1(){const[r,a]=fe.useState(!1),[s,l]=fe.useState(""),[u,d]=fe.useState(""),{signInWithEmail:f,signUpWithEmail:g,loading:m,error:p}=qs(),b=async x=>{x.preventDefault();try{r?await g(s,u):await f(s,u)}catch{}};return v.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-6 bg-gray-50",children:v.jsxs("div",{className:"w-full max-w-sm",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("img",{src:"/icons/icon128.png",alt:"N8N Insider",className:"w-16 h-16 mx-auto mb-4"}),v.jsx("h1",{className:"text-xl font-bold",children:"N8N Insider"}),v.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Your AI assistant for n8n workflows"})]}),v.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-border p-6",children:[v.jsxs("form",{onSubmit:b,className:"space-y-4",children:[v.jsx("div",{children:v.jsxs("div",{className:"relative",children:[v.jsx(a_,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),v.jsx(kr,{type:"email",placeholder:"Email",value:s,onChange:x=>l(x.target.value),className:"pl-10",required:!0})]})}),v.jsx("div",{children:v.jsxs("div",{className:"relative",children:[v.jsx(Fw,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),v.jsx(kr,{type:"password",placeholder:"Password",value:u,onChange:x=>d(x.target.value),className:"pl-10",minLength:6,required:!0})]})}),p&&v.jsx("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-lg",children:v.jsx("p",{className:"text-xs text-destructive",children:p})}),v.jsx(pt,{type:"submit",className:"w-full",disabled:m,children:m?v.jsxs(v.Fragment,{children:[v.jsx(Na,{className:"w-4 h-4 mr-2 animate-spin"}),"Please wait..."]}):r?"Create Account":"Sign In"})]}),v.jsxs("p",{className:"text-center text-sm text-muted-foreground mt-4",children:[r?"Already have an account?":"Don't have an account?"," ",v.jsx("button",{type:"button",className:"text-primary hover:underline font-medium",onClick:()=>a(!r),children:r?"Sign in":"Sign up"})]})]}),v.jsx("p",{className:"text-center text-xs text-muted-foreground mt-6",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})})}function t1(){const[r,a]=fe.useState(!1),[s,l]=fe.useState(!1),{user:u,loading:d,initialize:f}=qs(),{invalidateCache:g}=Ig();return fe.useEffect(()=>{f()},[f]),fe.useEffect(()=>{const m=p=>{(p.type==="URL_CHANGED"||p.type==="TAB_CHANGED")&&g()};return chrome.runtime.onMessage.addListener(m),()=>chrome.runtime.onMessage.removeListener(m)},[g]),d?v.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:v.jsxs("div",{className:"flex flex-col items-center gap-3",children:[v.jsx("div",{className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),v.jsx("p",{className:"text-sm text-gray-500",children:"Loading..."})]})}):u?v.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[v.jsx(SS,{onSettingsClick:()=>a(!0),onSidebarClick:()=>l(!0)}),v.jsxs("main",{className:"flex-1 overflow-hidden flex flex-col",children:[v.jsx(CS,{}),v.jsx(QS,{})]}),v.jsx(FS,{isOpen:s,onClose:()=>l(!1)}),r&&v.jsx(PS,{onClose:()=>a(!1)})]}):v.jsx(e1,{})}Yv.createRoot(document.getElementById("root")).render(v.jsx(ks.StrictMode,{children:v.jsx(t1,{})}));
